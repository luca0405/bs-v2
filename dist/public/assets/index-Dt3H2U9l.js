var c0=e=>{throw TypeError(e)};var em=(e,t,n)=>t.has(e)||c0("Cannot "+n);var T=(e,t,n)=>(em(e,t,"read from private field"),n?n.call(e):t.get(e)),me=(e,t,n)=>t.has(e)?c0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ne=(e,t,n,r)=>(em(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Pe=(e,t,n)=>(em(e,t,"access private method"),n);var ku=(e,t,n,r)=>({set _(s){ne(e,t,s,n)},get _(){return T(e,t,r)}});function g_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ES(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kS={exports:{}},Vf={},TS={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.element"),v_=Symbol.for("react.portal"),y_=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),S_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),C_=Symbol.for("react.memo"),P_=Symbol.for("react.lazy"),u0=Symbol.iterator;function E_(e){return e===null||typeof e!="object"?null:(e=u0&&e[u0]||e["@@iterator"],typeof e=="function"?e:null)}var AS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_S=Object.assign,RS={};function rl(e,t,n){this.props=e,this.context=t,this.refs=RS,this.updater=n||AS}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IS(){}IS.prototype=rl.prototype;function gv(e,t,n){this.props=e,this.context=t,this.refs=RS,this.updater=n||AS}var vv=gv.prototype=new IS;vv.constructor=gv;_S(vv,rl.prototype);vv.isPureReactComponent=!0;var d0=Array.isArray,OS=Object.prototype.hasOwnProperty,yv={current:null},DS={key:!0,ref:!0,__self:!0,__source:!0};function MS(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)OS.call(t,r)&&!DS.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:tu,type:e,key:i,ref:a,props:s,_owner:yv.current}}function k_(e,t){return{$$typeof:tu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xv(e){return typeof e=="object"&&e!==null&&e.$$typeof===tu}function T_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var f0=/\/+/g;function tm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T_(""+e.key):t.toString(36)}function od(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case tu:case v_:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+tm(a,0):r,d0(s)?(n="",e!=null&&(n=e.replace(f0,"$&/")+"/"),od(s,t,n,"",function(u){return u})):s!=null&&(xv(s)&&(s=k_(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(f0,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",d0(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+tm(i,l);a+=od(i,t,n,c,s)}else if(c=E_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+tm(i,l++),a+=od(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Tu(e,t,n){if(e==null)return e;var r=[],s=0;return od(e,r,"","",function(i){return t.call(n,i,s++)}),r}function A_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var un={current:null},ad={transition:null},__={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:ad,ReactCurrentOwner:yv};function FS(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Tu,forEach:function(e,t,n){Tu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!xv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=rl;Re.Fragment=y_;Re.Profiler=w_;Re.PureComponent=gv;Re.StrictMode=x_;Re.Suspense=N_;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;Re.act=FS;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_S({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=yv.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)OS.call(t,c)&&!DS.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:tu,type:e.type,key:s,ref:i,props:r,_owner:a}};Re.createContext=function(e){return e={$$typeof:j_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b_,_context:e},e.Consumer=e};Re.createElement=MS;Re.createFactory=function(e){var t=MS.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:S_,render:e}};Re.isValidElement=xv;Re.lazy=function(e){return{$$typeof:P_,_payload:{_status:-1,_result:e},_init:A_}};Re.memo=function(e,t){return{$$typeof:C_,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=ad.transition;ad.transition={};try{e()}finally{ad.transition=t}};Re.unstable_act=FS;Re.useCallback=function(e,t){return un.current.useCallback(e,t)};Re.useContext=function(e){return un.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return un.current.useDeferredValue(e)};Re.useEffect=function(e,t){return un.current.useEffect(e,t)};Re.useId=function(){return un.current.useId()};Re.useImperativeHandle=function(e,t,n){return un.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return un.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return un.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return un.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return un.current.useReducer(e,t,n)};Re.useRef=function(e){return un.current.useRef(e)};Re.useState=function(e){return un.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return un.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return un.current.useTransition()};Re.version="18.3.1";TS.exports=Re;var m=TS.exports;const ye=ES(m),LS=g_({__proto__:null,default:ye},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_=m,I_=Symbol.for("react.element"),O_=Symbol.for("react.fragment"),D_=Object.prototype.hasOwnProperty,M_=R_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F_={key:!0,ref:!0,__self:!0,__source:!0};function VS(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)D_.call(t,r)&&!F_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:I_,type:e,key:i,ref:a,props:s,_owner:M_.current}}Vf.Fragment=O_;Vf.jsx=VS;Vf.jsxs=VS;kS.exports=Vf;var o=kS.exports,$S={exports:{}},On={},US={exports:{}},zS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var B=D.length;D.push(z);e:for(;0<B;){var G=B-1>>>1,je=D[G];if(0<s(je,z))D[G]=z,D[B]=je,B=G;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],B=D.pop();if(B!==z){D[0]=B;e:for(var G=0,je=D.length,Je=je>>>1;G<Je;){var Le=2*(G+1)-1,Qe=D[Le],Ge=Le+1,le=D[Ge];if(0>s(Qe,B))Ge<je&&0>s(le,Qe)?(D[G]=le,D[Ge]=B,G=Ge):(D[G]=Qe,D[Le]=B,G=Le);else if(Ge<je&&0>s(le,B))D[G]=le,D[Ge]=B,G=Ge;else break e}}return z}function s(D,z){var B=D.sortIndex-z.sortIndex;return B!==0?B:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=D)r(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(u)}}function j(D){if(v=!1,b(D),!y)if(n(c)!==null)y=!0,Y(N);else{var z=n(u);z!==null&&K(j,z.startTime-D)}}function N(D,z){y=!1,v&&(v=!1,x(C),C=-1),p=!0;var B=h;try{for(b(z),d=n(c);d!==null&&(!(d.expirationTime>z)||D&&!M());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var je=G(d.expirationTime<=z);z=e.unstable_now(),typeof je=="function"?d.callback=je:d===n(c)&&r(c),b(z)}else r(c);d=n(c)}if(d!==null)var Je=!0;else{var Le=n(u);Le!==null&&K(j,Le.startTime-z),Je=!1}return Je}finally{d=null,h=B,p=!1}}var P=!1,E=null,C=-1,A=5,_=-1;function M(){return!(e.unstable_now()-_<A)}function I(){if(E!==null){var D=e.unstable_now();_=D;var z=!0;try{z=E(!0,D)}finally{z?V():(P=!1,E=null)}}else P=!1}var V;if(typeof g=="function")V=function(){g(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=I,V=function(){X.postMessage(null)}}else V=function(){w(I,0)};function Y(D){E=D,P||(P=!0,V())}function K(D,z){C=w(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,Y(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var B=h;h=z;try{return D()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return z()}finally{h=B}},e.unstable_scheduleCallback=function(D,z,B){var G=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,D){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=B+je,D={id:f++,callback:z,priorityLevel:D,startTime:B,expirationTime:je,sortIndex:-1},B>G?(D.sortIndex=B,t(u,D),n(c)===null&&D===n(u)&&(v?(x(C),C=-1):v=!0,K(j,B-G))):(D.sortIndex=je,t(c,D),y||p||(y=!0,Y(N))),D},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(D){var z=h;return function(){var B=h;h=z;try{return D.apply(this,arguments)}finally{h=B}}}})(zS);US.exports=zS;var L_=US.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=m,_n=L_;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BS=new Set,dc={};function Co(e,t){Ma(e,t),Ma(e+"Capture",t)}function Ma(e,t){for(dc[e]=t,e=0;e<t.length;e++)BS.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=Object.prototype.hasOwnProperty,$_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h0={},m0={};function U_(e){return pp.call(m0,e)?!0:pp.call(h0,e)?!1:$_.test(e)?m0[e]=!0:(h0[e]=!0,!1)}function z_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B_(e,t,n,r){if(t===null||typeof t>"u"||z_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dn(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var wv=/[\-:]([a-z])/g;function bv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wv,bv);Wt[t]=new dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wv,bv);Wt[t]=new dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wv,bv);Wt[t]=new dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new dn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function jv(e,t,n,r){var s=Wt.hasOwnProperty(t)?Wt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B_(t,n,s,r)&&(n=null),r||s===null?U_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ns=V_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Au=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),WS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),Nv=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),Cv=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),qS=Symbol.for("react.offscreen"),p0=Symbol.iterator;function xl(e){return e===null||typeof e!="object"?null:(e=p0&&e[p0]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,nm;function Ol(e){if(nm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nm=t&&t[1]||""}return`
`+nm+e}var rm=!1;function sm(e,t){if(!e||rm)return"";rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{rm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ol(e):""}function W_(e){switch(e.tag){case 5:return Ol(e.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return e=sm(e.type,!1),e;case 11:return e=sm(e.type.render,!1),e;case 1:return e=sm(e.type,!0),e;default:return""}}function xp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ko:return"Fragment";case qo:return"Portal";case gp:return"Profiler";case Sv:return"StrictMode";case vp:return"Suspense";case yp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HS:return(e.displayName||"Context")+".Consumer";case WS:return(e._context.displayName||"Context")+".Provider";case Nv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cv:return t=e.displayName||null,t!==null?t:xp(e.type)||"Memo";case Ds:t=e._payload,e=e._init;try{return xp(e(t))}catch{}}return null}function H_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xp(t);case 8:return t===Sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q_(e){var t=KS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _u(e){e._valueTracker||(e._valueTracker=q_(e))}function QS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=KS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wp(e,t){var n=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function g0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GS(e,t){t=t.checked,t!=null&&jv(e,"checked",t,!1)}function bp(e,t){GS(e,t);var n=mi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jp(e,t.type,n):t.hasOwnProperty("defaultValue")&&jp(e,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function v0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jp(e,t,n){(t!=="number"||Rd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dl=Array.isArray;function da(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Dl(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mi(n)}}function YS(e,t){var n=mi(t.value),r=mi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function x0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Np(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ru,XS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ru.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K_=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(e){K_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hl[t]=Hl[e]})});function JS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hl.hasOwnProperty(e)&&Hl[e]?(""+t).trim():t+"px"}function e1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Q_=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(e,t){if(t){if(Q_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Pp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function Pv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kp=null,fa=null,ha=null;function w0(e){if(e=su(e)){if(typeof kp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Wf(t),kp(e.stateNode,e.type,t))}}function t1(e){fa?ha?ha.push(e):ha=[e]:fa=e}function n1(){if(fa){var e=fa,t=ha;if(ha=fa=null,w0(e),t)for(e=0;e<t.length;e++)w0(t[e])}}function r1(e,t){return e(t)}function s1(){}var im=!1;function i1(e,t,n){if(im)return e(t,n);im=!0;try{return r1(e,t,n)}finally{im=!1,(fa!==null||ha!==null)&&(s1(),n1())}}function hc(e,t){var n=e.stateNode;if(n===null)return null;var r=Wf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Tp=!1;if(gs)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Tp=!1}function G_(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ql=!1,Id=null,Od=!1,Ap=null,Y_={onError:function(e){ql=!0,Id=e}};function Z_(e,t,n,r,s,i,a,l,c){ql=!1,Id=null,G_.apply(Y_,arguments)}function X_(e,t,n,r,s,i,a,l,c){if(Z_.apply(this,arguments),ql){if(ql){var u=Id;ql=!1,Id=null}else throw Error(W(198));Od||(Od=!0,Ap=u)}}function Po(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function o1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b0(e){if(Po(e)!==e)throw Error(W(188))}function J_(e){var t=e.alternate;if(!t){if(t=Po(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return b0(s),e;if(i===r)return b0(s),t;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function a1(e){return e=J_(e),e!==null?l1(e):null}function l1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l1(e);if(t!==null)return t;e=e.sibling}return null}var c1=_n.unstable_scheduleCallback,j0=_n.unstable_cancelCallback,eR=_n.unstable_shouldYield,tR=_n.unstable_requestPaint,Ct=_n.unstable_now,nR=_n.unstable_getCurrentPriorityLevel,Ev=_n.unstable_ImmediatePriority,u1=_n.unstable_UserBlockingPriority,Dd=_n.unstable_NormalPriority,rR=_n.unstable_LowPriority,d1=_n.unstable_IdlePriority,$f=null,Dr=null;function sR(e){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot($f,e,void 0,(e.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:aR,iR=Math.log,oR=Math.LN2;function aR(e){return e>>>=0,e===0?32:31-(iR(e)/oR|0)|0}var Iu=64,Ou=4194304;function Ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Md(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ml(l):(i&=a,i!==0&&(r=Ml(i)))}else a=n&~s,a!==0?r=Ml(a):i!==0&&(r=Ml(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hr(t),s=1<<n,r|=e[n],t&=~s;return r}function lR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-hr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=lR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function _p(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f1(){var e=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),e}function om(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hr(t),e[t]=n}function uR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-hr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function kv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Xe=0;function h1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m1,Tv,p1,g1,v1,Rp=!1,Du=[],ei=null,ti=null,ni=null,mc=new Map,pc=new Map,Fs=[],dR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S0(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(t.pointerId)}}function bl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=su(t),t!==null&&Tv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fR(e,t,n,r,s){switch(t){case"focusin":return ei=bl(ei,e,t,n,r,s),!0;case"dragenter":return ti=bl(ti,e,t,n,r,s),!0;case"mouseover":return ni=bl(ni,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mc.set(i,bl(mc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pc.set(i,bl(pc.get(i)||null,e,t,n,r,s)),!0}return!1}function y1(e){var t=Gi(e.target);if(t!==null){var n=Po(t);if(n!==null){if(t=n.tag,t===13){if(t=o1(n),t!==null){e.blockedOn=t,v1(e.priority,function(){p1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ld(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ip(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return t=su(n),t!==null&&Tv(t),e.blockedOn=n,!1;t.shift()}return!0}function N0(e,t,n){ld(e)&&n.delete(t)}function hR(){Rp=!1,ei!==null&&ld(ei)&&(ei=null),ti!==null&&ld(ti)&&(ti=null),ni!==null&&ld(ni)&&(ni=null),mc.forEach(N0),pc.forEach(N0)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,Rp||(Rp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,hR)))}function gc(e){function t(s){return jl(s,e)}if(0<Du.length){jl(Du[0],e);for(var n=1;n<Du.length;n++){var r=Du[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ei!==null&&jl(ei,e),ti!==null&&jl(ti,e),ni!==null&&jl(ni,e),mc.forEach(t),pc.forEach(t),n=0;n<Fs.length;n++)r=Fs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)y1(n),n.blockedOn===null&&Fs.shift()}var ma=Ns.ReactCurrentBatchConfig,Fd=!0;function mR(e,t,n,r){var s=Xe,i=ma.transition;ma.transition=null;try{Xe=1,Av(e,t,n,r)}finally{Xe=s,ma.transition=i}}function pR(e,t,n,r){var s=Xe,i=ma.transition;ma.transition=null;try{Xe=4,Av(e,t,n,r)}finally{Xe=s,ma.transition=i}}function Av(e,t,n,r){if(Fd){var s=Ip(e,t,n,r);if(s===null)gm(e,t,r,Ld,n),S0(e,r);else if(fR(s,e,t,n,r))r.stopPropagation();else if(S0(e,r),t&4&&-1<dR.indexOf(e)){for(;s!==null;){var i=su(s);if(i!==null&&m1(i),i=Ip(e,t,n,r),i===null&&gm(e,t,r,Ld,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gm(e,t,r,null,n)}}var Ld=null;function Ip(e,t,n,r){if(Ld=null,e=Pv(r),e=Gi(e),e!==null)if(t=Po(e),t===null)e=null;else if(n=t.tag,n===13){if(e=o1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ld=e,null}function x1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nR()){case Ev:return 1;case u1:return 4;case Dd:case rR:return 16;case d1:return 536870912;default:return 16}default:return 16}}var Zs=null,_v=null,cd=null;function w1(){if(cd)return cd;var e,t=_v,n=t.length,r,s="value"in Zs?Zs.value:Zs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return cd=s.slice(e,1<r?1-r:void 0)}function ud(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mu(){return!0}function C0(){return!1}function Dn(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mu:C0,this.isPropagationStopped=C0,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mu)},persist:function(){},isPersistent:Mu}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rv=Dn(sl),ru=vt({},sl,{view:0,detail:0}),gR=Dn(ru),am,lm,Sl,Uf=vt({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sl&&(Sl&&e.type==="mousemove"?(am=e.screenX-Sl.screenX,lm=e.screenY-Sl.screenY):lm=am=0,Sl=e),am)},movementY:function(e){return"movementY"in e?e.movementY:lm}}),P0=Dn(Uf),vR=vt({},Uf,{dataTransfer:0}),yR=Dn(vR),xR=vt({},ru,{relatedTarget:0}),cm=Dn(xR),wR=vt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),bR=Dn(wR),jR=vt({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SR=Dn(jR),NR=vt({},sl,{data:0}),E0=Dn(NR),CR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ER={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ER[e])?!!t[e]:!1}function Iv(){return kR}var TR=vt({},ru,{key:function(e){if(e.key){var t=CR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ud(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iv,charCode:function(e){return e.type==="keypress"?ud(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ud(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AR=Dn(TR),_R=vt({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k0=Dn(_R),RR=vt({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iv}),IR=Dn(RR),OR=vt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),DR=Dn(OR),MR=vt({},Uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=Dn(MR),LR=[9,13,27,32],Ov=gs&&"CompositionEvent"in window,Kl=null;gs&&"documentMode"in document&&(Kl=document.documentMode);var VR=gs&&"TextEvent"in window&&!Kl,b1=gs&&(!Ov||Kl&&8<Kl&&11>=Kl),T0=" ",A0=!1;function j1(e,t){switch(e){case"keyup":return LR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qo=!1;function $R(e,t){switch(e){case"compositionend":return S1(t);case"keypress":return t.which!==32?null:(A0=!0,T0);case"textInput":return e=t.data,e===T0&&A0?null:e;default:return null}}function UR(e,t){if(Qo)return e==="compositionend"||!Ov&&j1(e,t)?(e=w1(),cd=_v=Zs=null,Qo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b1&&t.locale!=="ko"?null:t.data;default:return null}}var zR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zR[e.type]:t==="textarea"}function N1(e,t,n,r){t1(r),t=Vd(t,"onChange"),0<t.length&&(n=new Rv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ql=null,vc=null;function BR(e){D1(e,0)}function zf(e){var t=Zo(e);if(QS(t))return e}function WR(e,t){if(e==="change")return t}var C1=!1;if(gs){var um;if(gs){var dm="oninput"in document;if(!dm){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),dm=typeof R0.oninput=="function"}um=dm}else um=!1;C1=um&&(!document.documentMode||9<document.documentMode)}function I0(){Ql&&(Ql.detachEvent("onpropertychange",P1),vc=Ql=null)}function P1(e){if(e.propertyName==="value"&&zf(vc)){var t=[];N1(t,vc,e,Pv(e)),i1(BR,t)}}function HR(e,t,n){e==="focusin"?(I0(),Ql=t,vc=n,Ql.attachEvent("onpropertychange",P1)):e==="focusout"&&I0()}function qR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zf(vc)}function KR(e,t){if(e==="click")return zf(t)}function QR(e,t){if(e==="input"||e==="change")return zf(t)}function GR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vr=typeof Object.is=="function"?Object.is:GR;function yc(e,t){if(vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pp.call(t,s)||!vr(e[s],t[s]))return!1}return!0}function O0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D0(e,t){var n=O0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O0(n)}}function E1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k1(){for(var e=window,t=Rd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rd(e.document)}return t}function Dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YR(e){var t=k1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&E1(n.ownerDocument.documentElement,n)){if(r!==null&&Dv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=D0(n,i);var a=D0(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZR=gs&&"documentMode"in document&&11>=document.documentMode,Go=null,Op=null,Gl=null,Dp=!1;function M0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dp||Go==null||Go!==Rd(r)||(r=Go,"selectionStart"in r&&Dv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gl&&yc(Gl,r)||(Gl=r,r=Vd(Op,"onSelect"),0<r.length&&(t=new Rv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Go)))}function Fu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yo={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},fm={},T1={};gs&&(T1=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Bf(e){if(fm[e])return fm[e];if(!Yo[e])return e;var t=Yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T1)return fm[e]=t[n];return e}var A1=Bf("animationend"),_1=Bf("animationiteration"),R1=Bf("animationstart"),I1=Bf("transitionend"),O1=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(e,t){O1.set(e,t),Co(t,[e])}for(var hm=0;hm<F0.length;hm++){var mm=F0[hm],XR=mm.toLowerCase(),JR=mm[0].toUpperCase()+mm.slice(1);Ti(XR,"on"+JR)}Ti(A1,"onAnimationEnd");Ti(_1,"onAnimationIteration");Ti(R1,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(I1,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function L0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,X_(r,t,void 0,e),e.currentTarget=null}function D1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;L0(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;L0(s,l,u),i=c}}}if(Od)throw e=Ap,Od=!1,Ap=null,e}function ot(e,t){var n=t[$p];n===void 0&&(n=t[$p]=new Set);var r=e+"__bubble";n.has(r)||(M1(t,e,2,!1),n.add(r))}function pm(e,t,n){var r=0;t&&(r|=4),M1(n,e,r,t)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[Lu]){e[Lu]=!0,BS.forEach(function(n){n!=="selectionchange"&&(eI.has(n)||pm(n,!1,e),pm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lu]||(t[Lu]=!0,pm("selectionchange",!1,t))}}function M1(e,t,n,r){switch(x1(t)){case 1:var s=mR;break;case 4:s=pR;break;default:s=Av}n=s.bind(null,t,n,e),s=void 0,!Tp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function gm(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Gi(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}i1(function(){var u=i,f=Pv(n),d=[];e:{var h=O1.get(e);if(h!==void 0){var p=Rv,y=e;switch(e){case"keypress":if(ud(n)===0)break e;case"keydown":case"keyup":p=AR;break;case"focusin":y="focus",p=cm;break;case"focusout":y="blur",p=cm;break;case"beforeblur":case"afterblur":p=cm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IR;break;case A1:case _1:case R1:p=bR;break;case I1:p=DR;break;case"scroll":p=gR;break;case"wheel":p=FR;break;case"copy":case"cut":case"paste":p=SR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=k0}var v=(t&4)!==0,w=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,b;g!==null;){b=g;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=hc(g,x),j!=null&&v.push(wc(g,j,b)))),w)break;g=g.return}0<v.length&&(h=new p(h,y,null,n,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Ep&&(y=n.relatedTarget||n.fromElement)&&(Gi(y)||y[vs]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Gi(y):null,y!==null&&(w=Po(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=P0,j="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=k0,j="onPointerLeave",x="onPointerEnter",g="pointer"),w=p==null?h:Zo(p),b=y==null?h:Zo(y),h=new v(j,g+"leave",p,n,f),h.target=w,h.relatedTarget=b,j=null,Gi(f)===u&&(v=new v(x,g+"enter",y,n,f),v.target=b,v.relatedTarget=w,j=v),w=j,p&&y)t:{for(v=p,x=y,g=0,b=v;b;b=Io(b))g++;for(b=0,j=x;j;j=Io(j))b++;for(;0<g-b;)v=Io(v),g--;for(;0<b-g;)x=Io(x),b--;for(;g--;){if(v===x||x!==null&&v===x.alternate)break t;v=Io(v),x=Io(x)}v=null}else v=null;p!==null&&V0(d,h,p,v,!1),y!==null&&w!==null&&V0(d,w,y,v,!0)}}e:{if(h=u?Zo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=WR;else if(_0(h))if(C1)N=QR;else{N=qR;var P=HR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=KR);if(N&&(N=N(e,u))){N1(d,N,n,f);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&jp(h,"number",h.value)}switch(P=u?Zo(u):window,e){case"focusin":(_0(P)||P.contentEditable==="true")&&(Go=P,Op=u,Gl=null);break;case"focusout":Gl=Op=Go=null;break;case"mousedown":Dp=!0;break;case"contextmenu":case"mouseup":case"dragend":Dp=!1,M0(d,n,f);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":M0(d,n,f)}var E;if(Ov)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Qo?j1(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(b1&&n.locale!=="ko"&&(Qo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Qo&&(E=w1()):(Zs=f,_v="value"in Zs?Zs.value:Zs.textContent,Qo=!0)),P=Vd(u,C),0<P.length&&(C=new E0(C,e,null,n,f),d.push({event:C,listeners:P}),E?C.data=E:(E=S1(n),E!==null&&(C.data=E)))),(E=VR?$R(e,n):UR(e,n))&&(u=Vd(u,"onBeforeInput"),0<u.length&&(f=new E0("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=E))}D1(d,t)})}function wc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hc(e,n),i!=null&&r.unshift(wc(e,i,s)),i=hc(e,t),i!=null&&r.push(wc(e,i,s))),e=e.return}return r}function Io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V0(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=hc(n,i),c!=null&&a.unshift(wc(n,c,l))):s||(c=hc(n,i),c!=null&&a.push(wc(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var tI=/\r\n?/g,nI=/\u0000|\uFFFD/g;function $0(e){return(typeof e=="string"?e:""+e).replace(tI,`
`).replace(nI,"")}function Vu(e,t,n){if(t=$0(t),$0(e)!==t&&n)throw Error(W(425))}function $d(){}var Mp=null,Fp=null;function Lp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,rI=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(e){return U0.resolve(null).then(e).catch(iI)}:Vp;function iI(e){setTimeout(function(){throw e})}function vm(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gc(t)}function ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function z0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var il=Math.random().toString(36).slice(2),Rr="__reactFiber$"+il,bc="__reactProps$"+il,vs="__reactContainer$"+il,$p="__reactEvents$"+il,oI="__reactListeners$"+il,aI="__reactHandles$"+il;function Gi(e){var t=e[Rr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vs]||n[Rr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=z0(e);e!==null;){if(n=e[Rr])return n;e=z0(e)}return t}e=n,n=e.parentNode}return null}function su(e){return e=e[Rr]||e[vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Wf(e){return e[bc]||null}var Up=[],Xo=-1;function Ai(e){return{current:e}}function lt(e){0>Xo||(e.current=Up[Xo],Up[Xo]=null,Xo--)}function st(e,t){Xo++,Up[Xo]=e.current,e.current=t}var pi={},Jt=Ai(pi),xn=Ai(!1),ho=pi;function Fa(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wn(e){return e=e.childContextTypes,e!=null}function Ud(){lt(xn),lt(Jt)}function B0(e,t,n){if(Jt.current!==pi)throw Error(W(168));st(Jt,t),st(xn,n)}function F1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,H_(e)||"Unknown",s));return vt({},n,r)}function zd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,ho=Jt.current,st(Jt,e),st(xn,xn.current),!0}function W0(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=F1(e,t,ho),r.__reactInternalMemoizedMergedChildContext=e,lt(xn),lt(Jt),st(Jt,e)):lt(xn),st(xn,n)}var ts=null,Hf=!1,ym=!1;function L1(e){ts===null?ts=[e]:ts.push(e)}function lI(e){Hf=!0,L1(e)}function _i(){if(!ym&&ts!==null){ym=!0;var e=0,t=Xe;try{var n=ts;for(Xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ts=null,Hf=!1}catch(s){throw ts!==null&&(ts=ts.slice(e+1)),c1(Ev,_i),s}finally{Xe=t,ym=!1}}return null}var Jo=[],ea=0,Bd=null,Wd=0,qn=[],Kn=0,mo=null,ss=1,is="";function Li(e,t){Jo[ea++]=Wd,Jo[ea++]=Bd,Bd=e,Wd=t}function V1(e,t,n){qn[Kn++]=ss,qn[Kn++]=is,qn[Kn++]=mo,mo=e;var r=ss;e=is;var s=32-hr(r)-1;r&=~(1<<s),n+=1;var i=32-hr(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ss=1<<32-hr(t)+s|n<<s|r,is=i+e}else ss=1<<i|n<<s|r,is=e}function Mv(e){e.return!==null&&(Li(e,1),V1(e,1,0))}function Fv(e){for(;e===Bd;)Bd=Jo[--ea],Jo[ea]=null,Wd=Jo[--ea],Jo[ea]=null;for(;e===mo;)mo=qn[--Kn],qn[Kn]=null,is=qn[--Kn],qn[Kn]=null,ss=qn[--Kn],qn[Kn]=null}var kn=null,En=null,ct=!1,cr=null;function $1(e,t){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function H0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,En=ri(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,En=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mo!==null?{id:ss,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,En=null,!0):!1;default:return!1}}function zp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bp(e){if(ct){var t=En;if(t){var n=t;if(!H0(e,t)){if(zp(e))throw Error(W(418));t=ri(n.nextSibling);var r=kn;t&&H0(e,t)?$1(r,n):(e.flags=e.flags&-4097|2,ct=!1,kn=e)}}else{if(zp(e))throw Error(W(418));e.flags=e.flags&-4097|2,ct=!1,kn=e}}}function q0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function $u(e){if(e!==kn)return!1;if(!ct)return q0(e),ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lp(e.type,e.memoizedProps)),t&&(t=En)){if(zp(e))throw U1(),Error(W(418));for(;t;)$1(e,t),t=ri(t.nextSibling)}if(q0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){En=ri(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}En=null}}else En=kn?ri(e.stateNode.nextSibling):null;return!0}function U1(){for(var e=En;e;)e=ri(e.nextSibling)}function La(){En=kn=null,ct=!1}function Lv(e){cr===null?cr=[e]:cr.push(e)}var cI=Ns.ReactCurrentBatchConfig;function Nl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Uu(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function K0(e){var t=e._init;return t(e._payload)}function z1(e){function t(x,g){if(e){var b=x.deletions;b===null?(x.deletions=[g],x.flags|=16):b.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=ai(x,g),x.index=0,x.sibling=null,x}function i(x,g,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<g?(x.flags|=2,g):b):(x.flags|=2,g)):(x.flags|=1048576,g)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,b,j){return g===null||g.tag!==6?(g=Cm(b,x.mode,j),g.return=x,g):(g=s(g,b),g.return=x,g)}function c(x,g,b,j){var N=b.type;return N===Ko?f(x,g,b.props.children,j,b.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ds&&K0(N)===g.type)?(j=s(g,b.props),j.ref=Nl(x,g,b),j.return=x,j):(j=vd(b.type,b.key,b.props,null,x.mode,j),j.ref=Nl(x,g,b),j.return=x,j)}function u(x,g,b,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Pm(b,x.mode,j),g.return=x,g):(g=s(g,b.children||[]),g.return=x,g)}function f(x,g,b,j,N){return g===null||g.tag!==7?(g=co(b,x.mode,j,N),g.return=x,g):(g=s(g,b),g.return=x,g)}function d(x,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cm(""+g,x.mode,b),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Au:return b=vd(g.type,g.key,g.props,null,x.mode,b),b.ref=Nl(x,null,g),b.return=x,b;case qo:return g=Pm(g,x.mode,b),g.return=x,g;case Ds:var j=g._init;return d(x,j(g._payload),b)}if(Dl(g)||xl(g))return g=co(g,x.mode,b,null),g.return=x,g;Uu(x,g)}return null}function h(x,g,b,j){var N=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(x,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Au:return b.key===N?c(x,g,b,j):null;case qo:return b.key===N?u(x,g,b,j):null;case Ds:return N=b._init,h(x,g,N(b._payload),j)}if(Dl(b)||xl(b))return N!==null?null:f(x,g,b,j,null);Uu(x,b)}return null}function p(x,g,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(g,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Au:return x=x.get(j.key===null?b:j.key)||null,c(g,x,j,N);case qo:return x=x.get(j.key===null?b:j.key)||null,u(g,x,j,N);case Ds:var P=j._init;return p(x,g,b,P(j._payload),N)}if(Dl(j)||xl(j))return x=x.get(b)||null,f(g,x,j,N,null);Uu(g,j)}return null}function y(x,g,b,j){for(var N=null,P=null,E=g,C=g=0,A=null;E!==null&&C<b.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var _=h(x,E,b[C],j);if(_===null){E===null&&(E=A);break}e&&E&&_.alternate===null&&t(x,E),g=i(_,g,C),P===null?N=_:P.sibling=_,P=_,E=A}if(C===b.length)return n(x,E),ct&&Li(x,C),N;if(E===null){for(;C<b.length;C++)E=d(x,b[C],j),E!==null&&(g=i(E,g,C),P===null?N=E:P.sibling=E,P=E);return ct&&Li(x,C),N}for(E=r(x,E);C<b.length;C++)A=p(E,x,C,b[C],j),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),g=i(A,g,C),P===null?N=A:P.sibling=A,P=A);return e&&E.forEach(function(M){return t(x,M)}),ct&&Li(x,C),N}function v(x,g,b,j){var N=xl(b);if(typeof N!="function")throw Error(W(150));if(b=N.call(b),b==null)throw Error(W(151));for(var P=N=null,E=g,C=g=0,A=null,_=b.next();E!==null&&!_.done;C++,_=b.next()){E.index>C?(A=E,E=null):A=E.sibling;var M=h(x,E,_.value,j);if(M===null){E===null&&(E=A);break}e&&E&&M.alternate===null&&t(x,E),g=i(M,g,C),P===null?N=M:P.sibling=M,P=M,E=A}if(_.done)return n(x,E),ct&&Li(x,C),N;if(E===null){for(;!_.done;C++,_=b.next())_=d(x,_.value,j),_!==null&&(g=i(_,g,C),P===null?N=_:P.sibling=_,P=_);return ct&&Li(x,C),N}for(E=r(x,E);!_.done;C++,_=b.next())_=p(E,x,C,_.value,j),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?C:_.key),g=i(_,g,C),P===null?N=_:P.sibling=_,P=_);return e&&E.forEach(function(I){return t(x,I)}),ct&&Li(x,C),N}function w(x,g,b,j){if(typeof b=="object"&&b!==null&&b.type===Ko&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Au:e:{for(var N=b.key,P=g;P!==null;){if(P.key===N){if(N=b.type,N===Ko){if(P.tag===7){n(x,P.sibling),g=s(P,b.props.children),g.return=x,x=g;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ds&&K0(N)===P.type){n(x,P.sibling),g=s(P,b.props),g.ref=Nl(x,P,b),g.return=x,x=g;break e}n(x,P);break}else t(x,P);P=P.sibling}b.type===Ko?(g=co(b.props.children,x.mode,j,b.key),g.return=x,x=g):(j=vd(b.type,b.key,b.props,null,x.mode,j),j.ref=Nl(x,g,b),j.return=x,x=j)}return a(x);case qo:e:{for(P=b.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(x,g.sibling),g=s(g,b.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=Pm(b,x.mode,j),g.return=x,x=g}return a(x);case Ds:return P=b._init,w(x,g,P(b._payload),j)}if(Dl(b))return y(x,g,b,j);if(xl(b))return v(x,g,b,j);Uu(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,b),g.return=x,x=g):(n(x,g),g=Cm(b,x.mode,j),g.return=x,x=g),a(x)):n(x,g)}return w}var Va=z1(!0),B1=z1(!1),Hd=Ai(null),qd=null,ta=null,Vv=null;function $v(){Vv=ta=qd=null}function Uv(e){var t=Hd.current;lt(Hd),e._currentValue=t}function Wp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pa(e,t){qd=e,Vv=ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yn=!0),e.firstContext=null)}function Zn(e){var t=e._currentValue;if(Vv!==e)if(e={context:e,memoizedValue:t,next:null},ta===null){if(qd===null)throw Error(W(308));ta=e,qd.dependencies={lanes:0,firstContext:e}}else ta=ta.next=e;return t}var Yi=null;function zv(e){Yi===null?Yi=[e]:Yi.push(e)}function W1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zv(t)):(n.next=s.next,s.next=n),t.interleaved=n,ys(e,r)}function ys(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ms=!1;function Bv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ys(e,n)}return s=r.interleaved,s===null?(t.next=t,zv(r)):(t.next=s.next,s.next=t),r.interleaved=t,ys(e,n)}function dd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kv(e,n)}}function Q0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kd(e,t,n,r){var s=e.updateQueue;Ms=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;a=0,f=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(h=t,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=vt({},d,h);break e;case 2:Ms=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);go|=a,e.lanes=a,e.memoizedState=d}}function G0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var iu={},Mr=Ai(iu),jc=Ai(iu),Sc=Ai(iu);function Zi(e){if(e===iu)throw Error(W(174));return e}function Wv(e,t){switch(st(Sc,t),st(jc,e),st(Mr,iu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Np(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Np(t,e)}lt(Mr),st(Mr,t)}function $a(){lt(Mr),lt(jc),lt(Sc)}function q1(e){Zi(Sc.current);var t=Zi(Mr.current),n=Np(t,e.type);t!==n&&(st(jc,e),st(Mr,n))}function Hv(e){jc.current===e&&(lt(Mr),lt(jc))}var mt=Ai(0);function Qd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xm=[];function qv(){for(var e=0;e<xm.length;e++)xm[e]._workInProgressVersionPrimary=null;xm.length=0}var fd=Ns.ReactCurrentDispatcher,wm=Ns.ReactCurrentBatchConfig,po=0,gt=null,It=null,Lt=null,Gd=!1,Yl=!1,Nc=0,uI=0;function Ht(){throw Error(W(321))}function Kv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function Qv(e,t,n,r,s,i){if(po=i,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fd.current=e===null||e.memoizedState===null?mI:pI,e=n(r,s),Yl){i=0;do{if(Yl=!1,Nc=0,25<=i)throw Error(W(301));i+=1,Lt=It=null,t.updateQueue=null,fd.current=gI,e=n(r,s)}while(Yl)}if(fd.current=Yd,t=It!==null&&It.next!==null,po=0,Lt=It=gt=null,Gd=!1,t)throw Error(W(300));return e}function Gv(){var e=Nc!==0;return Nc=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?gt.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Xn(){if(It===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Lt===null?gt.memoizedState:Lt.next;if(t!==null)Lt=t,It=e;else{if(e===null)throw Error(W(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Lt===null?gt.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Cc(e,t){return typeof t=="function"?t(e):t}function bm(e){var t=Xn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=It,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var f=u.lane;if((po&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,gt.lanes|=f,go|=f}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,vr(r,t.memoizedState)||(yn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,gt.lanes|=i,go|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jm(e){var t=Xn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);vr(i,t.memoizedState)||(yn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function K1(){}function Q1(e,t){var n=gt,r=Xn(),s=t(),i=!vr(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,Yv(Z1.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,Pc(9,Y1.bind(null,n,r,s,t),void 0,null),Vt===null)throw Error(W(349));po&30||G1(n,t,s)}return s}function G1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Y1(e,t,n,r){t.value=n,t.getSnapshot=r,X1(t)&&J1(e)}function Z1(e,t,n){return n(function(){X1(t)&&J1(e)})}function X1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function J1(e){var t=ys(e,1);t!==null&&mr(t,e,1,-1)}function Y0(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:e},t.queue=e,e=e.dispatch=hI.bind(null,gt,e),[t.memoizedState,e]}function Pc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eN(){return Xn().memoizedState}function hd(e,t,n,r){var s=Pr();gt.flags|=e,s.memoizedState=Pc(1|t,n,void 0,r===void 0?null:r)}function qf(e,t,n,r){var s=Xn();r=r===void 0?null:r;var i=void 0;if(It!==null){var a=It.memoizedState;if(i=a.destroy,r!==null&&Kv(r,a.deps)){s.memoizedState=Pc(t,n,i,r);return}}gt.flags|=e,s.memoizedState=Pc(1|t,n,i,r)}function Z0(e,t){return hd(8390656,8,e,t)}function Yv(e,t){return qf(2048,8,e,t)}function tN(e,t){return qf(4,2,e,t)}function nN(e,t){return qf(4,4,e,t)}function rN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sN(e,t,n){return n=n!=null?n.concat([e]):null,qf(4,4,rN.bind(null,t,e),n)}function Zv(){}function iN(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oN(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Kv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aN(e,t,n){return po&21?(vr(n,t)||(n=f1(),gt.lanes|=n,go|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yn=!0),e.memoizedState=n)}function dI(e,t){var n=Xe;Xe=n!==0&&4>n?n:4,e(!0);var r=wm.transition;wm.transition={};try{e(!1),t()}finally{Xe=n,wm.transition=r}}function lN(){return Xn().memoizedState}function fI(e,t,n){var r=oi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cN(e))uN(t,n);else if(n=W1(e,t,n,r),n!==null){var s=ln();mr(n,e,r,s),dN(n,t,r)}}function hI(e,t,n){var r=oi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cN(e))uN(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,vr(l,a)){var c=t.interleaved;c===null?(s.next=s,zv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=W1(e,t,s,r),n!==null&&(s=ln(),mr(n,e,r,s),dN(n,t,r))}}function cN(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function uN(e,t){Yl=Gd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dN(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,kv(e,n)}}var Yd={readContext:Zn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},mI={readContext:Zn,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:Zn,useEffect:Z0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hd(4194308,4,rN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hd(4194308,4,e,t)},useInsertionEffect:function(e,t){return hd(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fI.bind(null,gt,e),[r.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:Y0,useDebugValue:Zv,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=Y0(!1),t=e[0];return e=dI.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gt,s=Pr();if(ct){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Vt===null)throw Error(W(349));po&30||G1(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Z0(Z1.bind(null,r,i,e),[e]),r.flags|=2048,Pc(9,Y1.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Vt.identifierPrefix;if(ct){var n=is,r=ss;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pI={readContext:Zn,useCallback:iN,useContext:Zn,useEffect:Yv,useImperativeHandle:sN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:oN,useReducer:bm,useRef:eN,useState:function(){return bm(Cc)},useDebugValue:Zv,useDeferredValue:function(e){var t=Xn();return aN(t,It.memoizedState,e)},useTransition:function(){var e=bm(Cc)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:K1,useSyncExternalStore:Q1,useId:lN,unstable_isNewReconciler:!1},gI={readContext:Zn,useCallback:iN,useContext:Zn,useEffect:Yv,useImperativeHandle:sN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:oN,useReducer:jm,useRef:eN,useState:function(){return jm(Cc)},useDebugValue:Zv,useDeferredValue:function(e){var t=Xn();return It===null?t.memoizedState=e:aN(t,It.memoizedState,e)},useTransition:function(){var e=jm(Cc)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:K1,useSyncExternalStore:Q1,useId:lN,unstable_isNewReconciler:!1};function ir(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kf={isMounted:function(e){return(e=e._reactInternals)?Po(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ln(),s=oi(e),i=us(r,s);i.payload=t,n!=null&&(i.callback=n),t=si(e,i,s),t!==null&&(mr(t,e,s,r),dd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ln(),s=oi(e),i=us(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=si(e,i,s),t!==null&&(mr(t,e,s,r),dd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),r=oi(e),s=us(n,r);s.tag=2,t!=null&&(s.callback=t),t=si(e,s,r),t!==null&&(mr(t,e,r,n),dd(t,e,r))}};function X0(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!yc(n,r)||!yc(s,i):!0}function fN(e,t,n){var r=!1,s=pi,i=t.contextType;return typeof i=="object"&&i!==null?i=Zn(i):(s=wn(t)?ho:Jt.current,r=t.contextTypes,i=(r=r!=null)?Fa(e,s):pi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function J0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kf.enqueueReplaceState(t,t.state,null)}function qp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Bv(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Zn(i):(i=wn(t)?ho:Jt.current,s.context=Fa(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hp(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kf.enqueueReplaceState(s,s.state,null),Kd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ua(e,t){try{var n="",r=t;do n+=W_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Sm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vI=typeof WeakMap=="function"?WeakMap:Map;function hN(e,t,n){n=us(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xd||(Xd=!0,rg=r),Kp(e,t)},n}function mN(e,t,n){n=us(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Kp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kp(e,t),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ew(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vI;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_I.bind(null,e,t,n),t.then(e,e))}function tw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=us(-1,1),t.tag=2,si(n,t,1))),n.lanes|=1),e)}var yI=Ns.ReactCurrentOwner,yn=!1;function sn(e,t,n,r){t.child=e===null?B1(t,null,n,r):Va(t,e.child,n,r)}function rw(e,t,n,r,s){n=n.render;var i=t.ref;return pa(t,s),r=Qv(e,t,n,r,i,s),n=Gv(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xs(e,t,s)):(ct&&n&&Mv(t),t.flags|=1,sn(e,t,r,s),t.child)}function sw(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!iy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,pN(e,t,i,r,s)):(e=vd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:yc,n(a,r)&&e.ref===t.ref)return xs(e,t,s)}return t.flags|=1,e=ai(i,r),e.ref=t.ref,e.return=t,t.child=e}function pN(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(yc(i,r)&&e.ref===t.ref)if(yn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(yn=!0);else return t.lanes=e.lanes,xs(e,t,s)}return Qp(e,t,n,r,s)}function gN(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ra,Cn),Cn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(ra,Cn),Cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,st(ra,Cn),Cn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,st(ra,Cn),Cn|=r;return sn(e,t,s,n),t.child}function vN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qp(e,t,n,r,s){var i=wn(n)?ho:Jt.current;return i=Fa(t,i),pa(t,s),n=Qv(e,t,n,r,i,s),r=Gv(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xs(e,t,s)):(ct&&r&&Mv(t),t.flags|=1,sn(e,t,n,s),t.child)}function iw(e,t,n,r,s){if(wn(n)){var i=!0;zd(t)}else i=!1;if(pa(t,s),t.stateNode===null)md(e,t),fN(t,n,r),qp(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zn(u):(u=wn(n)?ho:Jt.current,u=Fa(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&J0(t,a,r,u),Ms=!1;var h=t.memoizedState;a.state=h,Kd(t,r,a,s),c=t.memoizedState,l!==r||h!==c||xn.current||Ms?(typeof f=="function"&&(Hp(t,n,f,r),c=t.memoizedState),(l=Ms||X0(t,n,l,r,h,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,H1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ir(t.type,l),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Zn(c):(c=wn(n)?ho:Jt.current,c=Fa(t,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||h!==c)&&J0(t,a,r,c),Ms=!1,h=t.memoizedState,a.state=h,Kd(t,r,a,s);var y=t.memoizedState;l!==d||h!==y||xn.current||Ms?(typeof p=="function"&&(Hp(t,n,p,r),y=t.memoizedState),(u=Ms||X0(t,n,u,r,h,y,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Gp(e,t,n,r,i,s)}function Gp(e,t,n,r,s,i){vN(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&W0(t,n,!1),xs(e,t,i);r=t.stateNode,yI.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Va(t,e.child,null,i),t.child=Va(t,null,l,i)):sn(e,t,l,i),t.memoizedState=r.state,s&&W0(t,n,!0),t.child}function yN(e){var t=e.stateNode;t.pendingContext?B0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B0(e,t.context,!1),Wv(e,t.containerInfo)}function ow(e,t,n,r,s){return La(),Lv(s),t.flags|=256,sn(e,t,n,r),t.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Zp(e){return{baseLanes:e,cachePool:null,transitions:null}}function xN(e,t,n){var r=t.pendingProps,s=mt.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),st(mt,s&1),e===null)return Bp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Yf(a,r,0,null),e=co(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zp(n),t.memoizedState=Yp,e):Xv(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xI(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ai(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ai(l,i):(i=co(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Zp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Yp,r}return i=e.child,e=i.sibling,r=ai(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xv(e,t){return t=Yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zu(e,t,n,r){return r!==null&&Lv(r),Va(t,e.child,null,n),e=Xv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xI(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Sm(Error(W(422))),zu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Yf({mode:"visible",children:r.children},s,0,null),i=co(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Va(t,e.child,null,a),t.child.memoizedState=Zp(a),t.memoizedState=Yp,i);if(!(t.mode&1))return zu(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(W(419)),r=Sm(i,r,void 0),zu(e,t,a,r)}if(l=(a&e.childLanes)!==0,yn||l){if(r=Vt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ys(e,s),mr(r,e,s,-1))}return sy(),r=Sm(Error(W(421))),zu(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=RI.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,En=ri(s.nextSibling),kn=t,ct=!0,cr=null,e!==null&&(qn[Kn++]=ss,qn[Kn++]=is,qn[Kn++]=mo,ss=e.id,is=e.overflow,mo=t),t=Xv(t,r.children),t.flags|=4096,t)}function aw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wp(e.return,t,n)}function Nm(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wN(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(sn(e,t,r.children,n),r=mt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aw(e,n,t);else if(e.tag===19)aw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(st(mt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Qd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nm(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nm(t,!0,n,null,i);break;case"together":Nm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),go|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wI(e,t,n){switch(t.tag){case 3:yN(t),La();break;case 5:q1(t);break;case 1:wn(t.type)&&zd(t);break;case 4:Wv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;st(Hd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(st(mt,mt.current&1),t.flags|=128,null):n&t.child.childLanes?xN(e,t,n):(st(mt,mt.current&1),e=xs(e,t,n),e!==null?e.sibling:null);st(mt,mt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wN(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),st(mt,mt.current),r)break;return null;case 22:case 23:return t.lanes=0,gN(e,t,n)}return xs(e,t,n)}var bN,Xp,jN,SN;bN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};jN=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zi(Mr.current);var i=null;switch(n){case"input":s=wp(e,s),r=wp(e,r),i=[];break;case"select":s=vt({},s,{value:void 0}),r=vt({},r,{value:void 0}),i=[];break;case"textarea":s=Sp(e,s),r=Sp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$d)}Cp(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ot("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};SN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Cl(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bI(e,t,n){var r=t.pendingProps;switch(Fv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return wn(t.type)&&Ud(),qt(t),null;case 3:return r=t.stateNode,$a(),lt(xn),lt(Jt),qv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($u(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(og(cr),cr=null))),Xp(e,t),qt(t),null;case 5:Hv(t);var s=Zi(Sc.current);if(n=t.type,e!==null&&t.stateNode!=null)jN(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return qt(t),null}if(e=Zi(Mr.current),$u(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rr]=t,r[bc]=i,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(s=0;s<Fl.length;s++)ot(Fl[s],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":g0(r,i),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ot("invalid",r);break;case"textarea":y0(r,i),ot("invalid",r)}Cp(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vu(r.textContent,l,e),s=["children",""+l]):dc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ot("scroll",r)}switch(n){case"input":_u(r),v0(r,i,!0);break;case"textarea":_u(r),x0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$d)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Rr]=t,e[bc]=r,bN(e,t,!1,!1),t.stateNode=e;e:{switch(a=Pp(n,r),n){case"dialog":ot("cancel",e),ot("close",e),s=r;break;case"iframe":case"object":case"embed":ot("load",e),s=r;break;case"video":case"audio":for(s=0;s<Fl.length;s++)ot(Fl[s],e);s=r;break;case"source":ot("error",e),s=r;break;case"img":case"image":case"link":ot("error",e),ot("load",e),s=r;break;case"details":ot("toggle",e),s=r;break;case"input":g0(e,r),s=wp(e,r),ot("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=vt({},r,{value:void 0}),ot("invalid",e);break;case"textarea":y0(e,r),s=Sp(e,r),ot("invalid",e);break;default:s=r}Cp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?e1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XS(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fc(e,c):typeof c=="number"&&fc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ot("scroll",e):c!=null&&jv(e,i,c,a))}switch(n){case"input":_u(e),v0(e,r,!1);break;case"textarea":_u(e),x0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mi(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?da(e,!!r.multiple,i,!1):r.defaultValue!=null&&da(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)SN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Zi(Sc.current),Zi(Mr.current),$u(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rr]=t,(i=r.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:Vu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=t,t.stateNode=r}return qt(t),null;case 13:if(lt(mt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&En!==null&&t.mode&1&&!(t.flags&128))U1(),La(),t.flags|=98560,i=!1;else if(i=$u(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Rr]=t}else La(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),i=!1}else cr!==null&&(og(cr),cr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?Dt===0&&(Dt=3):sy())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return $a(),Xp(e,t),e===null&&xc(t.stateNode.containerInfo),qt(t),null;case 10:return Uv(t.type._context),qt(t),null;case 17:return wn(t.type)&&Ud(),qt(t),null;case 19:if(lt(mt),i=t.memoizedState,i===null)return qt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Cl(i,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Qd(e),a!==null){for(t.flags|=128,Cl(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return st(mt,mt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ct()>za&&(t.flags|=128,r=!0,Cl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Qd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ct)return qt(t),null}else 2*Ct()-i.renderingStartTime>za&&n!==1073741824&&(t.flags|=128,r=!0,Cl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ct(),t.sibling=null,n=mt.current,st(mt,r?n&1|2:n&1),t):(qt(t),null);case 22:case 23:return ry(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Cn&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function jI(e,t){switch(Fv(t),t.tag){case 1:return wn(t.type)&&Ud(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $a(),lt(xn),lt(Jt),qv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hv(t),null;case 13:if(lt(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));La()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(mt),null;case 4:return $a(),null;case 10:return Uv(t.type._context),null;case 22:case 23:return ry(),null;case 24:return null;default:return null}}var Bu=!1,Yt=!1,SI=typeof WeakSet=="function"?WeakSet:Set,ie=null;function na(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(e,t,r)}else n.current=null}function Jp(e,t,n){try{n()}catch(r){bt(e,t,r)}}var lw=!1;function NI(e,t){if(Mp=Fd,e=k1(),Dv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(l=a+s),d!==i||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===s&&(l=a),h===i&&++f===r&&(c=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fp={focusedElem:e,selectionRange:n},Fd=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:ir(t.type,v),w);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){bt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return y=lw,lw=!1,y}function Zl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jp(t,n,i)}s=s.next}while(s!==r)}}function Qf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NN(e){var t=e.alternate;t!==null&&(e.alternate=null,NN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[bc],delete t[$p],delete t[oI],delete t[aI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CN(e){return e.tag===5||e.tag===3||e.tag===4}function cw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$d));else if(r!==4&&(e=e.child,e!==null))for(tg(e,t,n),e=e.sibling;e!==null;)tg(e,t,n),e=e.sibling}function ng(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ng(e,t,n),e=e.sibling;e!==null;)ng(e,t,n),e=e.sibling}var Ut=null,lr=!1;function ks(e,t,n){for(n=n.child;n!==null;)PN(e,t,n),n=n.sibling}function PN(e,t,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount($f,n)}catch{}switch(n.tag){case 5:Yt||na(n,t);case 6:var r=Ut,s=lr;Ut=null,ks(e,t,n),Ut=r,lr=s,Ut!==null&&(lr?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(lr?(e=Ut,n=n.stateNode,e.nodeType===8?vm(e.parentNode,n):e.nodeType===1&&vm(e,n),gc(e)):vm(Ut,n.stateNode));break;case 4:r=Ut,s=lr,Ut=n.stateNode.containerInfo,lr=!0,ks(e,t,n),Ut=r,lr=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Jp(n,t,a),s=s.next}while(s!==r)}ks(e,t,n);break;case 1:if(!Yt&&(na(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){bt(n,t,l)}ks(e,t,n);break;case 21:ks(e,t,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,ks(e,t,n),Yt=r):ks(e,t,n);break;default:ks(e,t,n)}}function uw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SI),t.forEach(function(r){var s=II.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,lr=!1;break e;case 3:Ut=l.stateNode.containerInfo,lr=!0;break e;case 4:Ut=l.stateNode.containerInfo,lr=!0;break e}l=l.return}if(Ut===null)throw Error(W(160));PN(i,a,s),Ut=null,lr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){bt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EN(t,e),t=t.sibling}function EN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tr(t,e),Nr(e),r&4){try{Zl(3,e,e.return),Qf(3,e)}catch(v){bt(e,e.return,v)}try{Zl(5,e,e.return)}catch(v){bt(e,e.return,v)}}break;case 1:tr(t,e),Nr(e),r&512&&n!==null&&na(n,n.return);break;case 5:if(tr(t,e),Nr(e),r&512&&n!==null&&na(n,n.return),e.flags&32){var s=e.stateNode;try{fc(s,"")}catch(v){bt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&GS(s,i),Pp(l,a);var u=Pp(l,i);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?e1(s,d):f==="dangerouslySetInnerHTML"?XS(s,d):f==="children"?fc(s,d):jv(s,f,d,u)}switch(l){case"input":bp(s,i);break;case"textarea":YS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?da(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?da(s,!!i.multiple,i.defaultValue,!0):da(s,!!i.multiple,i.multiple?[]:"",!1))}s[bc]=i}catch(v){bt(e,e.return,v)}}break;case 6:if(tr(t,e),Nr(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){bt(e,e.return,v)}}break;case 3:if(tr(t,e),Nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gc(t.containerInfo)}catch(v){bt(e,e.return,v)}break;case 4:tr(t,e),Nr(e);break;case 13:tr(t,e),Nr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ty=Ct())),r&4&&uw(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||f,tr(t,e),Yt=u):tr(t,e),Nr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ie=e,f=e.child;f!==null;){for(d=ie=f;ie!==null;){switch(h=ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:Zl(4,h,h.return);break;case 1:na(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){bt(r,n,v)}}break;case 5:na(h,h.return);break;case 22:if(h.memoizedState!==null){fw(d);continue}}p!==null?(p.return=h,ie=p):fw(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=JS("display",a))}catch(v){bt(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){bt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tr(t,e),Nr(e),r&4&&uw(e);break;case 21:break;default:tr(t,e),Nr(e)}}function Nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(CN(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fc(s,""),r.flags&=-33);var i=cw(e);ng(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=cw(e);tg(e,l,a);break;default:throw Error(W(161))}}catch(c){bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CI(e,t,n){ie=e,kN(e)}function kN(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Bu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=Bu;var u=Yt;if(Bu=a,(Yt=c)&&!u)for(ie=s;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?hw(s):c!==null?(c.return=a,ie=c):hw(s);for(;i!==null;)ie=i,kN(i),i=i.sibling;ie=s,Bu=l,Yt=u}dw(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):dw(e)}}function dw(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Qf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ir(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&G0(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}G0(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&gc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Yt||t.flags&512&&eg(t)}catch(h){bt(t,t.return,h)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function fw(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function hw(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qf(4,t)}catch(c){bt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){bt(t,s,c)}}var i=t.return;try{eg(t)}catch(c){bt(t,i,c)}break;case 5:var a=t.return;try{eg(t)}catch(c){bt(t,a,c)}}}catch(c){bt(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var PI=Math.ceil,Zd=Ns.ReactCurrentDispatcher,Jv=Ns.ReactCurrentOwner,Yn=Ns.ReactCurrentBatchConfig,ze=0,Vt=null,_t=null,Bt=0,Cn=0,ra=Ai(0),Dt=0,Ec=null,go=0,Gf=0,ey=0,Xl=null,vn=null,ty=0,za=1/0,es=null,Xd=!1,rg=null,ii=null,Wu=!1,Xs=null,Jd=0,Jl=0,sg=null,pd=-1,gd=0;function ln(){return ze&6?Ct():pd!==-1?pd:pd=Ct()}function oi(e){return e.mode&1?ze&2&&Bt!==0?Bt&-Bt:cI.transition!==null?(gd===0&&(gd=f1()),gd):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:x1(e.type)),e):1}function mr(e,t,n,r){if(50<Jl)throw Jl=0,sg=null,Error(W(185));nu(e,n,r),(!(ze&2)||e!==Vt)&&(e===Vt&&(!(ze&2)&&(Gf|=n),Dt===4&&Ls(e,Bt)),bn(e,r),n===1&&ze===0&&!(t.mode&1)&&(za=Ct()+500,Hf&&_i()))}function bn(e,t){var n=e.callbackNode;cR(e,t);var r=Md(e,e===Vt?Bt:0);if(r===0)n!==null&&j0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&j0(n),t===1)e.tag===0?lI(mw.bind(null,e)):L1(mw.bind(null,e)),sI(function(){!(ze&6)&&_i()}),n=null;else{switch(h1(r)){case 1:n=Ev;break;case 4:n=u1;break;case 16:n=Dd;break;case 536870912:n=d1;break;default:n=Dd}n=MN(n,TN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TN(e,t){if(pd=-1,gd=0,ze&6)throw Error(W(327));var n=e.callbackNode;if(ga()&&e.callbackNode!==n)return null;var r=Md(e,e===Vt?Bt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ef(e,r);else{t=r;var s=ze;ze|=2;var i=_N();(Vt!==e||Bt!==t)&&(es=null,za=Ct()+500,lo(e,t));do try{TI();break}catch(l){AN(e,l)}while(!0);$v(),Zd.current=i,ze=s,_t!==null?t=0:(Vt=null,Bt=0,t=Dt)}if(t!==0){if(t===2&&(s=_p(e),s!==0&&(r=s,t=ig(e,s))),t===1)throw n=Ec,lo(e,0),Ls(e,r),bn(e,Ct()),n;if(t===6)Ls(e,r);else{if(s=e.current.alternate,!(r&30)&&!EI(s)&&(t=ef(e,r),t===2&&(i=_p(e),i!==0&&(r=i,t=ig(e,i))),t===1))throw n=Ec,lo(e,0),Ls(e,r),bn(e,Ct()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Vi(e,vn,es);break;case 3:if(Ls(e,r),(r&130023424)===r&&(t=ty+500-Ct(),10<t)){if(Md(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ln(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vp(Vi.bind(null,e,vn,es),t);break}Vi(e,vn,es);break;case 4:if(Ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-hr(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PI(r/1960))-r,10<r){e.timeoutHandle=Vp(Vi.bind(null,e,vn,es),r);break}Vi(e,vn,es);break;case 5:Vi(e,vn,es);break;default:throw Error(W(329))}}}return bn(e,Ct()),e.callbackNode===n?TN.bind(null,e):null}function ig(e,t){var n=Xl;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=ef(e,t),e!==2&&(t=vn,vn=n,t!==null&&og(t)),e}function og(e){vn===null?vn=e:vn.push.apply(vn,e)}function EI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~ey,t&=~Gf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hr(t),r=1<<n;e[n]=-1,t&=~r}}function mw(e){if(ze&6)throw Error(W(327));ga();var t=Md(e,0);if(!(t&1))return bn(e,Ct()),null;var n=ef(e,t);if(e.tag!==0&&n===2){var r=_p(e);r!==0&&(t=r,n=ig(e,r))}if(n===1)throw n=Ec,lo(e,0),Ls(e,t),bn(e,Ct()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vi(e,vn,es),bn(e,Ct()),null}function ny(e,t){var n=ze;ze|=1;try{return e(t)}finally{ze=n,ze===0&&(za=Ct()+500,Hf&&_i())}}function vo(e){Xs!==null&&Xs.tag===0&&!(ze&6)&&ga();var t=ze;ze|=1;var n=Yn.transition,r=Xe;try{if(Yn.transition=null,Xe=1,e)return e()}finally{Xe=r,Yn.transition=n,ze=t,!(ze&6)&&_i()}}function ry(){Cn=ra.current,lt(ra)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rI(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ud();break;case 3:$a(),lt(xn),lt(Jt),qv();break;case 5:Hv(r);break;case 4:$a();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:Uv(r.type._context);break;case 22:case 23:ry()}n=n.return}if(Vt=e,_t=e=ai(e.current,null),Bt=Cn=t,Dt=0,Ec=null,ey=Gf=go=0,vn=Xl=null,Yi!==null){for(t=0;t<Yi.length;t++)if(n=Yi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Yi=null}return e}function AN(e,t){do{var n=_t;try{if($v(),fd.current=Yd,Gd){for(var r=gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}if(po=0,Lt=It=gt=null,Yl=!1,Nc=0,Jv.current=null,n===null||n.return===null){Dt=1,Ec=t,_t=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=tw(a);if(p!==null){p.flags&=-257,nw(p,a,l,i,t),p.mode&1&&ew(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){ew(i,u,t),sy();break e}c=Error(W(426))}}else if(ct&&l.mode&1){var w=tw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nw(w,a,l,i,t),Lv(Ua(c,l));break e}}i=c=Ua(c,l),Dt!==4&&(Dt=2),Xl===null?Xl=[i]:Xl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=hN(i,c,t);Q0(i,x);break e;case 1:l=c;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ii===null||!ii.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=mN(i,l,t);Q0(i,j);break e}}i=i.return}while(i!==null)}IN(n)}catch(N){t=N,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function _N(){var e=Zd.current;return Zd.current=Yd,e===null?Yd:e}function sy(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Vt===null||!(go&268435455)&&!(Gf&268435455)||Ls(Vt,Bt)}function ef(e,t){var n=ze;ze|=2;var r=_N();(Vt!==e||Bt!==t)&&(es=null,lo(e,t));do try{kI();break}catch(s){AN(e,s)}while(!0);if($v(),ze=n,Zd.current=r,_t!==null)throw Error(W(261));return Vt=null,Bt=0,Dt}function kI(){for(;_t!==null;)RN(_t)}function TI(){for(;_t!==null&&!eR();)RN(_t)}function RN(e){var t=DN(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?IN(e):_t=t,Jv.current=null}function IN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jI(n,t),n!==null){n.flags&=32767,_t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,_t=null;return}}else if(n=bI(n,t,Cn),n!==null){_t=n;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);Dt===0&&(Dt=5)}function Vi(e,t,n){var r=Xe,s=Yn.transition;try{Yn.transition=null,Xe=1,AI(e,t,n,r)}finally{Yn.transition=s,Xe=r}return null}function AI(e,t,n,r){do ga();while(Xs!==null);if(ze&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(uR(e,i),e===Vt&&(_t=Vt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wu||(Wu=!0,MN(Dd,function(){return ga(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yn.transition,Yn.transition=null;var a=Xe;Xe=1;var l=ze;ze|=4,Jv.current=null,NI(e,n),EN(n,e),YR(Fp),Fd=!!Mp,Fp=Mp=null,e.current=n,CI(n),tR(),ze=l,Xe=a,Yn.transition=i}else e.current=n;if(Wu&&(Wu=!1,Xs=e,Jd=s),i=e.pendingLanes,i===0&&(ii=null),sR(n.stateNode),bn(e,Ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xd)throw Xd=!1,e=rg,rg=null,e;return Jd&1&&e.tag!==0&&ga(),i=e.pendingLanes,i&1?e===sg?Jl++:(Jl=0,sg=e):Jl=0,_i(),null}function ga(){if(Xs!==null){var e=h1(Jd),t=Yn.transition,n=Xe;try{if(Yn.transition=null,Xe=16>e?16:e,Xs===null)var r=!1;else{if(e=Xs,Xs=null,Jd=0,ze&6)throw Error(W(331));var s=ze;for(ze|=4,ie=e.current;ie!==null;){var i=ie,a=i.child;if(ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var f=ie;switch(f.tag){case 0:case 11:case 15:Zl(8,f,i)}var d=f.child;if(d!==null)d.return=f,ie=d;else for(;ie!==null;){f=ie;var h=f.sibling,p=f.return;if(NN(f),f===u){ie=null;break}if(h!==null){h.return=p,ie=h;break}ie=p}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ie=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ie=a;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ie=x;break e}ie=i.return}}var g=e.current;for(ie=g;ie!==null;){a=ie;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ie=b;else e:for(a=g;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qf(9,l)}}catch(N){bt(l,l.return,N)}if(l===a){ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ie=j;break e}ie=l.return}}if(ze=s,_i(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot($f,e)}catch{}r=!0}return r}finally{Xe=n,Yn.transition=t}}return!1}function pw(e,t,n){t=Ua(n,t),t=hN(e,t,1),e=si(e,t,1),t=ln(),e!==null&&(nu(e,1,t),bn(e,t))}function bt(e,t,n){if(e.tag===3)pw(e,e,n);else for(;t!==null;){if(t.tag===3){pw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){e=Ua(n,e),e=mN(t,e,1),t=si(t,e,1),e=ln(),t!==null&&(nu(t,1,e),bn(t,e));break}}t=t.return}}function _I(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,Vt===e&&(Bt&n)===n&&(Dt===4||Dt===3&&(Bt&130023424)===Bt&&500>Ct()-ty?lo(e,0):ey|=n),bn(e,t)}function ON(e,t){t===0&&(e.mode&1?(t=Ou,Ou<<=1,!(Ou&130023424)&&(Ou=4194304)):t=1);var n=ln();e=ys(e,t),e!==null&&(nu(e,t,n),bn(e,n))}function RI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ON(e,n)}function II(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),ON(e,n)}var DN;DN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yn=!1,wI(e,t,n);yn=!!(e.flags&131072)}else yn=!1,ct&&t.flags&1048576&&V1(t,Wd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;md(e,t),e=t.pendingProps;var s=Fa(t,Jt.current);pa(t,n),s=Qv(null,t,r,e,s,n);var i=Gv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)?(i=!0,zd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bv(t),s.updater=Kf,t.stateNode=s,s._reactInternals=t,qp(t,r,e,n),t=Gp(null,t,r,!0,i,n)):(t.tag=0,ct&&i&&Mv(t),sn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(md(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=DI(r),e=ir(r,e),s){case 0:t=Qp(null,t,r,e,n);break e;case 1:t=iw(null,t,r,e,n);break e;case 11:t=rw(null,t,r,e,n);break e;case 14:t=sw(null,t,r,ir(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ir(r,s),Qp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ir(r,s),iw(e,t,r,s,n);case 3:e:{if(yN(t),e===null)throw Error(W(387));r=t.pendingProps,i=t.memoizedState,s=i.element,H1(e,t),Kd(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ua(Error(W(423)),t),t=ow(e,t,r,n,s);break e}else if(r!==s){s=Ua(Error(W(424)),t),t=ow(e,t,r,n,s);break e}else for(En=ri(t.stateNode.containerInfo.firstChild),kn=t,ct=!0,cr=null,n=B1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===s){t=xs(e,t,n);break e}sn(e,t,r,n)}t=t.child}return t;case 5:return q1(t),e===null&&Bp(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Lp(r,s)?a=null:i!==null&&Lp(r,i)&&(t.flags|=32),vN(e,t),sn(e,t,a,n),t.child;case 6:return e===null&&Bp(t),null;case 13:return xN(e,t,n);case 4:return Wv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Va(t,null,r,n):sn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ir(r,s),rw(e,t,r,s,n);case 7:return sn(e,t,t.pendingProps,n),t.child;case 8:return sn(e,t,t.pendingProps.children,n),t.child;case 12:return sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,st(Hd,r._currentValue),r._currentValue=a,i!==null)if(vr(i.value,a)){if(i.children===s.children&&!xn.current){t=xs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=us(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Wp(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(W(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Wp(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}sn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,pa(t,n),s=Zn(s),r=r(s),t.flags|=1,sn(e,t,r,n),t.child;case 14:return r=t.type,s=ir(r,t.pendingProps),s=ir(r.type,s),sw(e,t,r,s,n);case 15:return pN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ir(r,s),md(e,t),t.tag=1,wn(r)?(e=!0,zd(t)):e=!1,pa(t,n),fN(t,r,s),qp(t,r,s,n),Gp(null,t,r,!0,e,n);case 19:return wN(e,t,n);case 22:return gN(e,t,n)}throw Error(W(156,t.tag))};function MN(e,t){return c1(e,t)}function OI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,n,r){return new OI(e,t,n,r)}function iy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DI(e){if(typeof e=="function")return iy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nv)return 11;if(e===Cv)return 14}return 2}function ai(e,t){var n=e.alternate;return n===null?(n=Qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vd(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")iy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ko:return co(n.children,s,i,t);case Sv:a=8,s|=8;break;case gp:return e=Qn(12,n,t,s|2),e.elementType=gp,e.lanes=i,e;case vp:return e=Qn(13,n,t,s),e.elementType=vp,e.lanes=i,e;case yp:return e=Qn(19,n,t,s),e.elementType=yp,e.lanes=i,e;case qS:return Yf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WS:a=10;break e;case HS:a=9;break e;case Nv:a=11;break e;case Cv:a=14;break e;case Ds:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Qn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function co(e,t,n,r){return e=Qn(7,e,r,t),e.lanes=n,e}function Yf(e,t,n,r){return e=Qn(22,e,r,t),e.elementType=qS,e.lanes=n,e.stateNode={isHidden:!1},e}function Cm(e,t,n){return e=Qn(6,e,null,t),e.lanes=n,e}function Pm(e,t,n){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MI(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oy(e,t,n,r,s,i,a,l,c){return e=new MI(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bv(i),e}function FI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function FN(e){if(!e)return pi;e=e._reactInternals;e:{if(Po(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(wn(n))return F1(e,n,t)}return t}function LN(e,t,n,r,s,i,a,l,c){return e=oy(n,r,!0,e,s,i,a,l,c),e.context=FN(null),n=e.current,r=ln(),s=oi(n),i=us(r,s),i.callback=t??null,si(n,i,s),e.current.lanes=s,nu(e,s,r),bn(e,r),e}function Zf(e,t,n,r){var s=t.current,i=ln(),a=oi(s);return n=FN(n),t.context===null?t.context=n:t.pendingContext=n,t=us(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=si(s,t,a),e!==null&&(mr(e,s,a,i),dd(e,s,a)),a}function tf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ay(e,t){gw(e,t),(e=e.alternate)&&gw(e,t)}function LI(){return null}var VN=typeof reportError=="function"?reportError:function(e){console.error(e)};function ly(e){this._internalRoot=e}Xf.prototype.render=ly.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Zf(e,t,null,null)};Xf.prototype.unmount=ly.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vo(function(){Zf(null,e,null,null)}),t[vs]=null}};function Xf(e){this._internalRoot=e}Xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=g1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fs.length&&t!==0&&t<Fs[n].priority;n++);Fs.splice(n,0,e),n===0&&y1(e)}};function cy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vw(){}function VI(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=tf(a);i.call(u)}}var a=LN(t,r,e,0,null,!1,!1,"",vw);return e._reactRootContainer=a,e[vs]=a.current,xc(e.nodeType===8?e.parentNode:e),vo(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=tf(c);l.call(u)}}var c=oy(e,0,!1,null,null,!1,!1,"",vw);return e._reactRootContainer=c,e[vs]=c.current,xc(e.nodeType===8?e.parentNode:e),vo(function(){Zf(t,c,n,r)}),c}function eh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=tf(a);l.call(c)}}Zf(t,a,e,s)}else a=VI(n,t,e,s,r);return tf(a)}m1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ml(t.pendingLanes);n!==0&&(kv(t,n|1),bn(t,Ct()),!(ze&6)&&(za=Ct()+500,_i()))}break;case 13:vo(function(){var r=ys(e,1);if(r!==null){var s=ln();mr(r,e,1,s)}}),ay(e,1)}};Tv=function(e){if(e.tag===13){var t=ys(e,134217728);if(t!==null){var n=ln();mr(t,e,134217728,n)}ay(e,134217728)}};p1=function(e){if(e.tag===13){var t=oi(e),n=ys(e,t);if(n!==null){var r=ln();mr(n,e,t,r)}ay(e,t)}};g1=function(){return Xe};v1=function(e,t){var n=Xe;try{return Xe=e,t()}finally{Xe=n}};kp=function(e,t,n){switch(t){case"input":if(bp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wf(r);if(!s)throw Error(W(90));QS(r),bp(r,s)}}}break;case"textarea":YS(e,n);break;case"select":t=n.value,t!=null&&da(e,!!n.multiple,t,!1)}};r1=ny;s1=vo;var $I={usingClientEntryPoint:!1,Events:[su,Zo,Wf,t1,n1,ny]},Pl={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UI={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a1(e),e===null?null:e.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||LI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{$f=Hu.inject(UI),Dr=Hu}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$I;On.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cy(t))throw Error(W(200));return FI(e,t,null,n)};On.createRoot=function(e,t){if(!cy(e))throw Error(W(299));var n=!1,r="",s=VN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=oy(e,1,!1,null,null,n,!1,r,s),e[vs]=t.current,xc(e.nodeType===8?e.parentNode:e),new ly(t)};On.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=a1(t),e=e===null?null:e.stateNode,e};On.flushSync=function(e){return vo(e)};On.hydrate=function(e,t,n){if(!Jf(t))throw Error(W(200));return eh(null,e,t,!0,n)};On.hydrateRoot=function(e,t,n){if(!cy(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=VN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=LN(t,null,e,1,n??null,s,!1,i,a),e[vs]=t.current,xc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xf(t)};On.render=function(e,t,n){if(!Jf(t))throw Error(W(200));return eh(null,e,t,!1,n)};On.unmountComponentAtNode=function(e){if(!Jf(e))throw Error(W(40));return e._reactRootContainer?(vo(function(){eh(null,null,e,!1,function(){e._reactRootContainer=null,e[vs]=null})}),!0):!1};On.unstable_batchedUpdates=ny;On.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jf(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return eh(e,t,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function $N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($N)}catch(e){console.error(e)}}$N(),$S.exports=On;var Eo=$S.exports;const zI=ES(Eo);var UN,yw=Eo;UN=yw.createRoot,yw.hydrateRoot;function BI(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,a=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(a.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var zN={exports:{}},BN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=m;function WI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HI=typeof Object.is=="function"?Object.is:WI,qI=Ba.useState,KI=Ba.useEffect,QI=Ba.useLayoutEffect,GI=Ba.useDebugValue;function YI(e,t){var n=t(),r=qI({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return QI(function(){s.value=n,s.getSnapshot=t,Em(s)&&i({inst:s})},[e,n,t]),KI(function(){return Em(s)&&i({inst:s}),e(function(){Em(s)&&i({inst:s})})},[e]),GI(n),n}function Em(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!HI(e,n)}catch{return!0}}function ZI(e,t){return t()}var XI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZI:YI;BN.useSyncExternalStore=Ba.useSyncExternalStore!==void 0?Ba.useSyncExternalStore:XI;zN.exports=BN;var JI=zN.exports;const eO=LS.useInsertionEffect,tO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WN=tO?m.useLayoutEffect:m.useEffect,nO=eO||WN,uy=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return nO(()=>{t[0]=e}),t[1]},rO="popstate",dy="pushState",fy="replaceState",sO="hashchange",xw=[rO,dy,fy,sO],iO=e=>{for(const t of xw)addEventListener(t,e);return()=>{for(const t of xw)removeEventListener(t,e)}},HN=(e,t)=>JI.useSyncExternalStore(iO,e,t),oO=()=>location.search,aO=({ssrSearch:e=""}={})=>HN(oO,()=>e),ww=()=>location.pathname,lO=({ssrPath:e}={})=>HN(ww,e?()=>e:ww),cO=(e,{replace:t=!1,state:n=null}={})=>history[t?fy:dy](n,"",e),uO=(e={})=>[lO(e),cO],bw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bw]>"u"){for(const e of[dy,fy]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,bw,{value:!0})}const dO=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",qN=(e="")=>e==="/"?"":e,fO=(e,t)=>e[0]==="~"?e.slice(1):qN(t)+e,hO=(e="",t)=>dO(jw(qN(e)),jw(t)),jw=e=>{try{return decodeURI(e)}catch{return e}},KN={hook:uO,searchHook:aO,parser:BI,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},QN=m.createContext(KN),ou=()=>m.useContext(QN),GN={},YN=m.createContext(GN),mO=()=>m.useContext(YN),th=e=>{const[t,n]=e.hook(e);return[hO(e.base,t),uy((r,s)=>n(fO(r,e.base),s))]},au=()=>th(ou()),ZN=(e,t,n,r)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=s.exec(n)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((d,h)=>[d,c[h]])):a.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[l]:[]]:[!1,null]},pO=({children:e,...t})=>{var f,d;const n=ou(),r=t.hook?KN:n;let s=r;const[i,a]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??((d=t.hook)==null?void 0:d.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let h in r){const p=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,p!==r[h]&&(s=u)}return m.createElement(QN.Provider,{value:s,children:e})},Sw=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,gO=e=>{let t=m.useRef(GN),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},ec=({path:e,nest:t,match:n,...r})=>{const s=ou(),[i]=th(s),[a,l,c]=n??ZN(s.parser,e,i,t),u=gO({...mO(),...l});if(!a)return null;const f=c?m.createElement(pO,{base:c},Sw(r,u)):Sw(r,u);return m.createElement(YN.Provider,{value:u,children:f})},lu=m.forwardRef((e,t)=>{const n=ou(),[r,s]=th(n),{to:i="",href:a=i,onClick:l,asChild:c,children:u,className:f,replace:d,state:h,...p}=e,y=uy(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l==null||l(w),w.defaultPrevented||(w.preventDefault(),s(a,e)))}),v=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:y,href:v}):m.createElement("a",{...p,onClick:y,href:v,className:f!=null&&f.call?f(r===a):f,children:u,ref:t})}),XN=e=>Array.isArray(e)?e.flatMap(t=>XN(t&&t.type===m.Fragment?t.props.children:t)):[e],vO=({children:e,location:t})=>{const n=ou(),[r]=th(n);for(const s of XN(e)){let i=0;if(m.isValidElement(s)&&(i=ZN(n.parser,s.props.path,t||r,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null},JN=e=>{const{to:t,href:n=t}=e,[,r]=au(),s=uy(()=>r(t||n,e));return WN(()=>{s()},[]),null};var ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yo=typeof window>"u"||"Deno"in globalThis;function $n(){}function yO(e,t){return typeof e=="function"?e(t):e}function ag(e){return typeof e=="number"&&e>=0&&e!==1/0}function eC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function va(e,t){return typeof e=="function"?e(t):e}function ur(e,t){return typeof e=="function"?e(t):e}function Nw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==hy(a,t.options))return!1}else if(!kc(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Cw(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(xo(t.options.mutationKey)!==xo(i))return!1}else if(!kc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function hy(e,t){return((t==null?void 0:t.queryKeyHashFn)||xo)(e)}function xo(e){return JSON.stringify(e,(t,n)=>lg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function kc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!kc(e[n],t[n])):!1}function tC(e,t){if(e===t)return e;const n=Pw(e)&&Pw(t);if(n||lg(e)&&lg(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=tC(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function nf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Pw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lg(e){if(!Ew(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ew(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ew(e){return Object.prototype.toString.call(e)==="[object Object]"}function xO(e){return new Promise(t=>{setTimeout(t,e)})}function cg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?tC(e,t):t}function wO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function bO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var my=Symbol();function nC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===my?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var to,zs,Sa,vS,jO=(vS=class extends ol{constructor(){super();me(this,to);me(this,zs);me(this,Sa);ne(this,Sa,t=>{if(!yo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,zs)||this.setEventListener(T(this,Sa))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,zs))==null||t.call(this),ne(this,zs,void 0))}setEventListener(t){var n;ne(this,Sa,t),(n=T(this,zs))==null||n.call(this),ne(this,zs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){T(this,to)!==t&&(ne(this,to,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof T(this,to)=="boolean"?T(this,to):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},to=new WeakMap,zs=new WeakMap,Sa=new WeakMap,vS),py=new jO,Na,Bs,Ca,yS,SO=(yS=class extends ol{constructor(){super();me(this,Na,!0);me(this,Bs);me(this,Ca);ne(this,Ca,t=>{if(!yo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,Bs)||this.setEventListener(T(this,Ca))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Bs))==null||t.call(this),ne(this,Bs,void 0))}setEventListener(t){var n;ne(this,Ca,t),(n=T(this,Bs))==null||n.call(this),ne(this,Bs,t(this.setOnline.bind(this)))}setOnline(t){T(this,Na)!==t&&(ne(this,Na,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return T(this,Na)}},Na=new WeakMap,Bs=new WeakMap,Ca=new WeakMap,yS),rf=new SO;function ug(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function NO(e){return Math.min(1e3*2**e,3e4)}function rC(e){return(e??"online")==="online"?rf.isOnline():!0}var sC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function km(e){return e instanceof sC}function iC(e){let t=!1,n=0,r=!1,s;const i=ug(),a=v=>{var w;r||(h(new sC(v)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>py.isFocused()&&(e.networkMode==="always"||rf.isOnline())&&e.canRun(),f=()=>rC(e.networkMode)&&e.canRun(),d=v=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,v),s==null||s(),i.resolve(v))},h=v=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var w;s=x=>{(r||u())&&v(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(r)return;let v;const w=n===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(d).catch(x=>{var P;if(r)return;const g=e.retry??(yo?0:3),b=e.retryDelay??NO,j=typeof b=="function"?b(n,x):b,N=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(t||!N){h(x);return}n++,(P=e.onFail)==null||P.call(e,n,x),xO(j).then(()=>u()?void 0:p()).then(()=>{t?h(x):y()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?y():p().then(y),i)}}function CO(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ot=CO(),no,xS,oC=(xS=class{constructor(){me(this,no)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ag(this.gcTime)&&ne(this,no,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yo?1/0:5*60*1e3))}clearGcTimeout(){T(this,no)&&(clearTimeout(T(this,no)),ne(this,no,void 0))}},no=new WeakMap,xS),Pa,Ea,Vn,Kt,Zc,ro,ar,Xr,wS,PO=(wS=class extends oC{constructor(t){super();me(this,ar);me(this,Pa);me(this,Ea);me(this,Vn);me(this,Kt);me(this,Zc);me(this,ro);ne(this,ro,!1),ne(this,Zc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,Vn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,Pa,EO(this.options)),this.state=t.state??T(this,Pa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,Kt))==null?void 0:t.promise}setOptions(t){this.options={...T(this,Zc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,Vn).remove(this)}setData(t,n){const r=cg(this.state.data,t,this.options);return Pe(this,ar,Xr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Pe(this,ar,Xr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=T(this,Kt))==null?void 0:r.promise;return(s=T(this,Kt))==null||s.cancel(t),n?n.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Pa))}isActive(){return this.observers.some(t=>ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===my||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!eC(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Kt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Kt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,Vn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(T(this,Kt)&&(T(this,ro)?T(this,Kt).cancel({revert:!0}):T(this,Kt).cancelRetry()),this.scheduleGc()),T(this,Vn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,ar,Xr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,Kt))return T(this,Kt).continueRetry(),T(this,Kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ne(this,ro,!0),r.signal)})},i=()=>{const d=nC(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),ne(this,ro,!1),this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ne(this,Ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Pe(this,ar,Xr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,p,y,v;km(d)&&d.silent||Pe(this,ar,Xr).call(this,{type:"error",error:d}),km(d)||((p=(h=T(this,Vn).config).onError)==null||p.call(h,d,this),(v=(y=T(this,Vn).config).onSettled)==null||v.call(y,this.state.data,d,this)),this.scheduleGc()};return ne(this,Kt,iC({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,p,y,v;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(w){l(w);return}(p=(h=T(this,Vn).config).onSuccess)==null||p.call(h,d,this),(v=(y=T(this,Vn).config).onSettled)==null||v.call(y,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{Pe(this,ar,Xr).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Pe(this,ar,Xr).call(this,{type:"pause"})},onContinue:()=>{Pe(this,ar,Xr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),T(this,Kt).start()}},Pa=new WeakMap,Ea=new WeakMap,Vn=new WeakMap,Kt=new WeakMap,Zc=new WeakMap,ro=new WeakMap,ar=new WeakSet,Xr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...aC(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return km(s)&&s.revert&&T(this,Ea)?{...T(this,Ea),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,Vn).notify({query:this,type:"updated",action:t})})},wS);function aC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function EO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,bS,kO=(bS=class extends ol{constructor(t={}){super();me(this,kr);this.config=t,ne(this,kr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??hy(s,n);let a=this.get(i);return a||(a=new PO({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){T(this,kr).has(t.queryHash)||(T(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=T(this,kr).get(t.queryHash);n&&(t.destroy(),n===t&&T(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,kr).get(t)}getAll(){return[...T(this,kr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Nw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Nw(t,r)):n}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,bS),Tr,nn,so,Ar,Rs,jS,TO=(jS=class extends oC{constructor(t){super();me(this,Ar);me(this,Tr);me(this,nn);me(this,so);this.mutationId=t.mutationId,ne(this,nn,t.mutationCache),ne(this,Tr,[]),this.state=t.state||lC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,Tr).includes(t)||(T(this,Tr).push(t),this.clearGcTimeout(),T(this,nn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,Tr,T(this,Tr).filter(n=>n!==t)),this.scheduleGc(),T(this,nn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():T(this,nn).remove(this))}continue(){var t;return((t=T(this,so))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,l,c,u,f,d,h,p,y,v,w,x,g,b,j,N,P,E;ne(this,so,iC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{Pe(this,Ar,Rs).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{Pe(this,Ar,Rs).call(this,{type:"pause"})},onContinue:()=>{Pe(this,Ar,Rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,nn).canRun(this)}));const n=this.state.status==="pending",r=!T(this,so).canStart();try{if(!n){Pe(this,Ar,Rs).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=T(this,nn).config).onMutate)==null?void 0:i.call(s,t,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));A!==this.state.context&&Pe(this,Ar,Rs).call(this,{type:"pending",context:A,variables:t,isPaused:r})}const C=await T(this,so).start();return await((u=(c=T(this,nn).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,C,t,this.state.context)),await((p=(h=T(this,nn).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,C,null,t,this.state.context)),Pe(this,Ar,Rs).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(w=T(this,nn).config).onError)==null?void 0:x.call(w,C,t,this.state.context,this)),await((b=(g=this.options).onError)==null?void 0:b.call(g,C,t,this.state.context)),await((N=(j=T(this,nn).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((E=(P=this.options).onSettled)==null?void 0:E.call(P,void 0,C,t,this.state.context)),C}finally{Pe(this,Ar,Rs).call(this,{type:"error",error:C})}}finally{T(this,nn).runNext(this)}}},Tr=new WeakMap,nn=new WeakMap,so=new WeakMap,Ar=new WeakSet,Rs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ot.batch(()=>{T(this,Tr).forEach(r=>{r.onMutationUpdate(t)}),T(this,nn).notify({mutation:this,type:"updated",action:t})})},jS);function lC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nn,Xc,SS,AO=(SS=class extends ol{constructor(t={}){super();me(this,Nn);me(this,Xc);this.config=t,ne(this,Nn,new Map),ne(this,Xc,Date.now())}build(t,n,r){const s=new TO({mutationCache:this,mutationId:++ku(this,Xc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=qu(t),r=T(this,Nn).get(n)??[];r.push(t),T(this,Nn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=qu(t);if(T(this,Nn).has(n)){const s=(r=T(this,Nn).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?T(this,Nn).delete(n):T(this,Nn).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=T(this,Nn).get(qu(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=T(this,Nn).get(qu(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...T(this,Nn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Cw(n,r))}findAll(t={}){return this.getAll().filter(n=>Cw(t,n))}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ot.batch(()=>Promise.all(t.map(n=>n.continue().catch($n))))}},Nn=new WeakMap,Xc=new WeakMap,SS);function qu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function kw(e){return{onFetch:(t,n)=>{var f,d,h,p,y;const r=t.options,s=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=nC(t.options,t.fetchOptions),g=async(b,j,N)=>{if(v)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const P={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};w(P);const E=await x(P),{maxPages:C}=t.options,A=N?bO:wO;return{pages:A(b.pages,E,C),pageParams:A(b.pageParams,j,C)}};if(s&&i.length){const b=s==="backward",j=b?_O:Tw,N={pages:i,pageParams:a},P=j(r,N);l=await g(N,P,b)}else{const b=e??i.length;do{const j=c===0?a[0]??r.initialPageParam:Tw(r,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Tw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _O(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var yt,Ws,Hs,ka,Ta,qs,Aa,_a,NS,RO=(NS=class{constructor(e={}){me(this,yt);me(this,Ws);me(this,Hs);me(this,ka);me(this,Ta);me(this,qs);me(this,Aa);me(this,_a);ne(this,yt,e.queryCache||new kO),ne(this,Ws,e.mutationCache||new AO),ne(this,Hs,e.defaultOptions||{}),ne(this,ka,new Map),ne(this,Ta,new Map),ne(this,qs,0)}mount(){ku(this,qs)._++,T(this,qs)===1&&(ne(this,Aa,py.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,yt).onFocus())})),ne(this,_a,rf.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,yt).onOnline())})))}unmount(){var e,t;ku(this,qs)._--,T(this,qs)===0&&((e=T(this,Aa))==null||e.call(this),ne(this,Aa,void 0),(t=T(this,_a))==null||t.call(this),ne(this,_a,void 0))}isFetching(e){return T(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,Ws).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=T(this,yt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(va(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return T(this,yt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=T(this,yt).get(r.queryHash),i=s==null?void 0:s.state.data,a=yO(t,i);if(a!==void 0)return T(this,yt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ot.batch(()=>T(this,yt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=T(this,yt);Ot.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=T(this,yt),r={type:"active",...e};return Ot.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ot.batch(()=>T(this,yt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then($n).catch($n)}invalidateQueries(e={},t={}){return Ot.batch(()=>{if(T(this,yt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ot.batch(()=>T(this,yt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch($n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then($n)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=T(this,yt).build(this,t);return n.isStaleByTime(va(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($n).catch($n)}fetchInfiniteQuery(e){return e.behavior=kw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($n).catch($n)}ensureInfiniteQueryData(e){return e.behavior=kw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rf.isOnline()?T(this,Ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,yt)}getMutationCache(){return T(this,Ws)}getDefaultOptions(){return T(this,Hs)}setDefaultOptions(e){ne(this,Hs,e)}setQueryDefaults(e,t){T(this,ka).set(xo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,ka).values()];let n={};return t.forEach(r=>{kc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){T(this,Ta).set(xo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,Ta).values()];let n={};return t.forEach(r=>{kc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,Hs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===my&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,Hs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,yt).clear(),T(this,Ws).clear()}},yt=new WeakMap,Ws=new WeakMap,Hs=new WeakMap,ka=new WeakMap,Ta=new WeakMap,qs=new WeakMap,Aa=new WeakMap,_a=new WeakMap,NS),mn,Oe,Jc,rn,io,Ra,Ks,_r,eu,Ia,Oa,oo,ao,Qs,Da,Ke,Ll,dg,fg,hg,mg,pg,gg,vg,cC,CS,IO=(CS=class extends ol{constructor(t,n){super();me(this,Ke);me(this,mn);me(this,Oe);me(this,Jc);me(this,rn);me(this,io);me(this,Ra);me(this,Ks);me(this,_r);me(this,eu);me(this,Ia);me(this,Oa);me(this,oo);me(this,ao);me(this,Qs);me(this,Da,new Set);this.options=n,ne(this,mn,t),ne(this,_r,null),ne(this,Ks,ug()),this.options.experimental_prefetchInRender||T(this,Ks).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,Oe).addObserver(this),Aw(T(this,Oe),this.options)?Pe(this,Ke,Ll).call(this):this.updateResult(),Pe(this,Ke,mg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yg(T(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yg(T(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,Ke,pg).call(this),Pe(this,Ke,gg).call(this),T(this,Oe).removeObserver(this)}setOptions(t,n){const r=this.options,s=T(this,Oe);if(this.options=T(this,mn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ur(this.options.enabled,T(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,Ke,vg).call(this),T(this,Oe).setOptions(this.options),r._defaulted&&!nf(this.options,r)&&T(this,mn).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,Oe),observer:this});const i=this.hasListeners();i&&_w(T(this,Oe),s,this.options,r)&&Pe(this,Ke,Ll).call(this),this.updateResult(n),i&&(T(this,Oe)!==s||ur(this.options.enabled,T(this,Oe))!==ur(r.enabled,T(this,Oe))||va(this.options.staleTime,T(this,Oe))!==va(r.staleTime,T(this,Oe)))&&Pe(this,Ke,dg).call(this);const a=Pe(this,Ke,fg).call(this);i&&(T(this,Oe)!==s||ur(this.options.enabled,T(this,Oe))!==ur(r.enabled,T(this,Oe))||a!==T(this,Qs))&&Pe(this,Ke,hg).call(this,a)}getOptimisticResult(t){const n=T(this,mn).getQueryCache().build(T(this,mn),t),r=this.createResult(n,t);return DO(this,r)&&(ne(this,rn,r),ne(this,Ra,this.options),ne(this,io,T(this,Oe).state)),r}getCurrentResult(){return T(this,rn)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){T(this,Da).add(t)}getCurrentQuery(){return T(this,Oe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=T(this,mn).defaultQueryOptions(t),r=T(this,mn).getQueryCache().build(T(this,mn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Pe(this,Ke,Ll).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,rn)))}createResult(t,n){var C;const r=T(this,Oe),s=this.options,i=T(this,rn),a=T(this,io),l=T(this,Ra),u=t!==r?t.state:T(this,Jc),{state:f}=t;let d={...f},h=!1,p;if(n._optimisticResults){const A=this.hasListeners(),_=!A&&Aw(t,n),M=A&&_w(t,r,n,s);(_||M)&&(d={...d,...aC(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:w}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(a==null?void 0:a.data)&&n.select===T(this,eu))p=T(this,Ia);else try{ne(this,eu,n.select),p=n.select(d.data),p=cg(i==null?void 0:i.data,p,n),ne(this,Ia,p),ne(this,_r,null)}catch(A){ne(this,_r,A)}else p=d.data;if(n.placeholderData!==void 0&&p===void 0&&w==="pending"){let A;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((C=T(this,Oa))==null?void 0:C.state.data,T(this,Oa)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),ne(this,_r,null)}catch(_){ne(this,_r,_)}A!==void 0&&(w="success",p=cg(i==null?void 0:i.data,A,n),h=!0)}T(this,_r)&&(y=T(this,_r),p=T(this,Ia),v=Date.now(),w="error");const x=d.fetchStatus==="fetching",g=w==="pending",b=w==="error",j=g&&x,N=p!==void 0,E={status:w,fetchStatus:d.fetchStatus,isPending:g,isSuccess:w==="success",isError:b,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!g,isLoadingError:b&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&N,isStale:gy(t,n),refetch:this.refetch,promise:T(this,Ks)};if(this.options.experimental_prefetchInRender){const A=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},_=()=>{const I=ne(this,Ks,E.promise=ug());A(I)},M=T(this,Ks);switch(M.status){case"pending":t.queryHash===r.queryHash&&A(M);break;case"fulfilled":(E.status==="error"||E.data!==M.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==M.reason)&&_();break}}return E}updateResult(t){const n=T(this,rn),r=this.createResult(T(this,Oe),this.options);if(ne(this,io,T(this,Oe).state),ne(this,Ra,this.options),T(this,io).data!==void 0&&ne(this,Oa,T(this,Oe)),nf(r,n))return;ne(this,rn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!T(this,Da).size)return!0;const c=new Set(l??T(this,Da));return this.options.throwOnError&&c.add("error"),Object.keys(T(this,rn)).some(u=>{const f=u;return T(this,rn)[f]!==n[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),Pe(this,Ke,cC).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,Ke,mg).call(this)}},mn=new WeakMap,Oe=new WeakMap,Jc=new WeakMap,rn=new WeakMap,io=new WeakMap,Ra=new WeakMap,Ks=new WeakMap,_r=new WeakMap,eu=new WeakMap,Ia=new WeakMap,Oa=new WeakMap,oo=new WeakMap,ao=new WeakMap,Qs=new WeakMap,Da=new WeakMap,Ke=new WeakSet,Ll=function(t){Pe(this,Ke,vg).call(this);let n=T(this,Oe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch($n)),n},dg=function(){Pe(this,Ke,pg).call(this);const t=va(this.options.staleTime,T(this,Oe));if(yo||T(this,rn).isStale||!ag(t))return;const r=eC(T(this,rn).dataUpdatedAt,t)+1;ne(this,oo,setTimeout(()=>{T(this,rn).isStale||this.updateResult()},r))},fg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,Oe)):this.options.refetchInterval)??!1},hg=function(t){Pe(this,Ke,gg).call(this),ne(this,Qs,t),!(yo||ur(this.options.enabled,T(this,Oe))===!1||!ag(T(this,Qs))||T(this,Qs)===0)&&ne(this,ao,setInterval(()=>{(this.options.refetchIntervalInBackground||py.isFocused())&&Pe(this,Ke,Ll).call(this)},T(this,Qs)))},mg=function(){Pe(this,Ke,dg).call(this),Pe(this,Ke,hg).call(this,Pe(this,Ke,fg).call(this))},pg=function(){T(this,oo)&&(clearTimeout(T(this,oo)),ne(this,oo,void 0))},gg=function(){T(this,ao)&&(clearInterval(T(this,ao)),ne(this,ao,void 0))},vg=function(){const t=T(this,mn).getQueryCache().build(T(this,mn),this.options);if(t===T(this,Oe))return;const n=T(this,Oe);ne(this,Oe,t),ne(this,Jc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},cC=function(t){Ot.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(T(this,rn))}),T(this,mn).getQueryCache().notify({query:T(this,Oe),type:"observerResultsUpdated"})})},CS);function OO(e,t){return ur(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Aw(e,t){return OO(e,t)||e.state.data!==void 0&&yg(e,t,t.refetchOnMount)}function yg(e,t,n){if(ur(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&gy(e,t)}return!1}function _w(e,t,n,r){return(e!==t||ur(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&gy(e,n)}function gy(e,t){return ur(t.enabled,e)!==!1&&e.isStaleByTime(va(t.staleTime,e))}function DO(e,t){return!nf(e.getCurrentResult(),t)}var Gs,Ys,pn,ns,ps,yd,xg,PS,MO=(PS=class extends ol{constructor(n,r){super();me(this,ps);me(this,Gs);me(this,Ys);me(this,pn);me(this,ns);ne(this,Gs,n),this.setOptions(r),this.bindMethods(),Pe(this,ps,yd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=T(this,Gs).defaultMutationOptions(n),nf(this.options,r)||T(this,Gs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,pn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xo(r.mutationKey)!==xo(this.options.mutationKey)?this.reset():((s=T(this,pn))==null?void 0:s.state.status)==="pending"&&T(this,pn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=T(this,pn))==null||n.removeObserver(this)}onMutationUpdate(n){Pe(this,ps,yd).call(this),Pe(this,ps,xg).call(this,n)}getCurrentResult(){return T(this,Ys)}reset(){var n;(n=T(this,pn))==null||n.removeObserver(this),ne(this,pn,void 0),Pe(this,ps,yd).call(this),Pe(this,ps,xg).call(this)}mutate(n,r){var s;return ne(this,ns,r),(s=T(this,pn))==null||s.removeObserver(this),ne(this,pn,T(this,Gs).getMutationCache().build(T(this,Gs),this.options)),T(this,pn).addObserver(this),T(this,pn).execute(n)}},Gs=new WeakMap,Ys=new WeakMap,pn=new WeakMap,ns=new WeakMap,ps=new WeakSet,yd=function(){var r;const n=((r=T(this,pn))==null?void 0:r.state)??lC();ne(this,Ys,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},xg=function(n){Ot.batch(()=>{var r,s,i,a,l,c,u,f;if(T(this,ns)&&this.hasListeners()){const d=T(this,Ys).variables,h=T(this,Ys).context;(n==null?void 0:n.type)==="success"?((s=(r=T(this,ns)).onSuccess)==null||s.call(r,n.data,d,h),(a=(i=T(this,ns)).onSettled)==null||a.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((c=(l=T(this,ns)).onError)==null||c.call(l,n.error,d,h),(f=(u=T(this,ns)).onSettled)==null||f.call(u,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(T(this,Ys))})})},PS),uC=m.createContext(void 0),Wr=e=>{const t=m.useContext(uC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},FO=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(uC.Provider,{value:e,children:t})),dC=m.createContext(!1),LO=()=>m.useContext(dC);dC.Provider;function VO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $O=m.createContext(VO()),UO=()=>m.useContext($O);function fC(e,t){return typeof e=="function"?e(...t):!!e}function wg(){}var zO=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},BO=e=>{m.useEffect(()=>{e.clearReset()},[e])},WO=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&fC(n,[e.error,r]),HO=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},qO=(e,t)=>e.isLoading&&e.isFetching&&!t,KO=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Rw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function QO(e,t,n){var f,d,h,p,y;const r=Wr(),s=LO(),i=UO(),a=r.defaultQueryOptions(e);(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,a),a._optimisticResults=s?"isRestoring":"optimistic",HO(a),zO(a,i),BO(i);const l=!r.getQueryCache().get(a.queryHash),[c]=m.useState(()=>new t(r,a)),u=c.getOptimisticResult(a);if(m.useSyncExternalStore(m.useCallback(v=>{const w=s?wg:c.subscribe(Ot.batchCalls(v));return c.updateResult(),w},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),KO(a,u))throw Rw(a,c,i);if(WO({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw u.error;if((p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,a,u),a.experimental_prefetchInRender&&!yo&&qO(u,s)){const v=l?Rw(a,c,i):(y=r.getQueryCache().get(a.queryHash))==null?void 0:y.promise;v==null||v.catch(wg).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Pt(e,t){return QO(e,IO)}function ke(e,t){const n=Wr(),[r]=m.useState(()=>new MO(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(a=>r.subscribe(Ot.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=m.useCallback((a,l)=>{r.mutate(a,l).catch(wg)},[r]);if(s.error&&fC(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function hC(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ve(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await hC(r),r}const vy=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await hC(n),await n.json())},pe=new RO({defaultOptions:{queries:{queryFn:vy({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:3e4,retry:!1,refetchOnReconnect:!0,refetchOnMount:!0},mutations:{retry:!1}}}),GO=1,YO=1e6;let Tm=0;function ZO(){return Tm=(Tm+1)%Number.MAX_SAFE_INTEGER,Tm.toString()}const Am=new Map,Iw=e=>{if(Am.has(e))return;const t=setTimeout(()=>{Am.delete(e),tc({type:"REMOVE_TOAST",toastId:e})},YO);Am.set(e,t)},XO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,GO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Iw(n):e.toasts.forEach(r=>{Iw(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},xd=[];let wd={toasts:[]};function tc(e){wd=XO(wd,e),xd.forEach(t=>{t(wd)})}function JO({...e}){const t=ZO(),n=s=>tc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>tc({type:"DISMISS_TOAST",toastId:t});return tc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function tt(){const[e,t]=m.useState(wd);return m.useEffect(()=>(xd.push(t),()=>{const n=xd.indexOf(t);n>-1&&xd.splice(n,1)}),[e]),{...e,toast:JO,dismiss:n=>tc({type:"DISMISS_TOAST",toastId:n})}}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function eD(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function mC(...e){return t=>e.forEach(n=>eD(n,t))}function Ae(...e){return m.useCallback(mC(...e),e)}function tD(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:h,children:p,...y}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,nD(s,...t)]}function nD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var gi=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),i=s.find(rD);if(i){const a=i.props.children,l=s.map(c=>c===i?m.Children.count(a)>1?m.Children.only(null):m.isValidElement(a)?a.props.children:null:c);return o.jsx(bg,{...r,ref:t,children:m.isValidElement(a)?m.cloneElement(a,void 0,l):null})}return o.jsx(bg,{...r,ref:t,children:n})});gi.displayName="Slot";var bg=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=iD(n);return m.cloneElement(n,{...sD(r,n.props),ref:t?mC(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});bg.displayName="SlotClone";var pC=({children:e})=>o.jsx(o.Fragment,{children:e});function rD(e){return m.isValidElement(e)&&e.type===pC}function sD(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function iD(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function nh(e){const t=e+"CollectionProvider",[n,r]=tD(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:y,children:v}=p,w=ye.useRef(null),x=ye.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:x,collectionRef:w,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=ye.forwardRef((p,y)=>{const{scope:v,children:w}=p,x=i(l,v),g=Ae(y,x.collectionRef);return o.jsx(gi,{ref:g,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=ye.forwardRef((p,y)=>{const{scope:v,children:w,...x}=p,g=ye.useRef(null),b=Ae(y,g),j=i(u,v);return ye.useEffect(()=>(j.itemMap.set(g,{ref:g,...x}),()=>void j.itemMap.delete(g))),o.jsx(gi,{[f]:"",ref:b,children:w})});d.displayName=u;function h(p){const y=i(e+"CollectionConsumer",p);return ye.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((j,N)=>x.indexOf(j.ref.current)-x.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:c,ItemSlot:d},h,r]}function oD(e,t){const n=m.createContext(t),r=i=>{const{children:a,...l}=i,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=m.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Jn(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];const u=d=>{var x;const{scope:h,children:p,...y}=d,v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=m.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:w,children:p})};u.displayName=i+"Provider";function f(d,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,aD(s,...t)]}function aD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var lD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=lD.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?gi:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gC(e,t){e&&Eo.flushSync(()=>e.dispatchEvent(t))}function Et(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function cD(e,t=globalThis==null?void 0:globalThis.document){const n=Et(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var uD="DismissableLayer",jg="dismissableLayer.update",dD="dismissableLayer.pointerDownOutside",fD="dismissableLayer.focusOutside",Ow,vC=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cu=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=m.useContext(vC),[f,d]=m.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=Ae(t,E=>d(E)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(w),g=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=x,N=mD(E=>{const C=E.target,A=[...u.branches].some(_=>_.contains(C));!j||A||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},h),P=pD(E=>{const C=E.target;[...u.branches].some(_=>_.contains(C))||(i==null||i(E),a==null||a(E),E.defaultPrevented||l==null||l())},h);return cD(E=>{g===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),m.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ow=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Dw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ow)}},[f,h,n,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Dw())},[f,u]),m.useEffect(()=>{const E=()=>p({});return document.addEventListener(jg,E),()=>document.removeEventListener(jg,E)},[]),o.jsx(ue.div,{...c,ref:y,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,N.onPointerDownCapture)})});cu.displayName=uD;var hD="DismissableLayerBranch",yC=m.forwardRef((e,t)=>{const n=m.useContext(vC),r=m.useRef(null),s=Ae(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ue.div,{...e,ref:s})});yC.displayName=hD;function mD(e,t=globalThis==null?void 0:globalThis.document){const n=Et(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){xC(dD,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function pD(e,t=globalThis==null?void 0:globalThis.document){const n=Et(e),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&xC(fD,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dw(){const e=new CustomEvent(jg);document.dispatchEvent(e)}function xC(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?gC(s,i):s.dispatchEvent(i)}var gD=cu,vD=yC,$t=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},yD="Portal",rh=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=m.useState(!1);$t(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?zI.createPortal(o.jsx(ue.div,{...r,ref:t}),a):null});rh.displayName=yD;function xD(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var jn=e=>{const{present:t,children:n}=e,r=wD(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ae(r.ref,bD(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};jn.displayName="Presence";function wD(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),a=e?"mounted":"unmounted",[l,c]=xD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ku(r.current);i.current=l==="mounted"?u:"none"},[l]),$t(()=>{const u=r.current,f=s.current;if(f!==e){const h=i.current,p=Ku(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),$t(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const v=Ku(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(i.current=Ku(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ku(e){return(e==null?void 0:e.animationName)||"none"}function bD(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=jD({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:r,l=Et(n),c=m.useCallback(u=>{if(i){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else s(u)},[i,e,s,l]);return[a,c]}function jD({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),i=Et(t);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var SD="VisuallyHidden",uu=m.forwardRef((e,t)=>o.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));uu.displayName=SD;var ND=uu,yy="ToastProvider",[xy,CD,PD]=nh("Toast"),[wC,r9]=Jn("Toast",[PD]),[ED,sh]=wC(yy),bC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=m.useState(null),[u,f]=m.useState(0),d=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yy}\`. Expected non-empty \`string\`.`),o.jsx(xy.Provider,{scope:t,children:o.jsx(ED,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>f(p=>p+1),[]),onToastRemove:m.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:a})})};bC.displayName=yy;var jC="ToastViewport",kD=["F8"],Sg="toast.viewportPause",Ng="toast.viewportResume",SC=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=kD,label:s="Notifications ({hotkey})",...i}=e,a=sh(jC,n),l=CD(n),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),d=m.useRef(null),h=Ae(t,d,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;m.useEffect(()=>{const w=x=>{var b;r.length!==0&&r.every(j=>x[j]||x.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),m.useEffect(()=>{const w=c.current,x=d.current;if(y&&w&&x){const g=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(Sg);x.dispatchEvent(P),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(Ng);x.dispatchEvent(P),a.isClosePausedRef.current=!1}},j=P=>{!w.contains(P.relatedTarget)&&b()},N=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",g),w.addEventListener("focusout",j),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:w})=>{const g=l().map(b=>{const j=b.ref.current,N=[j,...UD(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const w=d.current;if(w){const x=g=>{var N,P,E;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const C=document.activeElement,A=g.shiftKey;if(g.target===w&&A){(N=u.current)==null||N.focus();return}const I=v({tabbingDirection:A?"backwards":"forwards"}),V=I.findIndex(F=>F===C);_m(I.slice(V+1))?g.preventDefault():A?(P=u.current)==null||P.focus():(E=f.current)==null||E.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,v]),o.jsxs(vD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Cg,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});_m(w)}}),o.jsx(xy.Slot,{scope:n,children:o.jsx(ue.ol,{tabIndex:-1,...i,ref:h})}),y&&o.jsx(Cg,{ref:f,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});_m(w)}})]})});SC.displayName=jC;var NC="ToastFocusProxy",Cg=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=sh(NC,n);return o.jsx(uu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Cg.displayName=NC;var ih="Toast",TD="toast.swipeStart",AD="toast.swipeMove",_D="toast.swipeCancel",RD="toast.swipeEnd",CC=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l=!0,c]=Rn({prop:r,defaultProp:s,onChange:i});return o.jsx(jn,{present:n||l,children:o.jsx(DD,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Et(e.onPause),onResume:Et(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});CC.displayName=ih;var[ID,OD]=wC(ih,{onClose(){}}),DD=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...y}=e,v=sh(ih,n),[w,x]=m.useState(null),g=Ae(t,F=>x(F)),b=m.useRef(null),j=m.useRef(null),N=s||v.duration,P=m.useRef(0),E=m.useRef(N),C=m.useRef(0),{onToastAdd:A,onToastRemove:_}=v,M=Et(()=>{var X;(w==null?void 0:w.contains(document.activeElement))&&((X=v.viewport)==null||X.focus()),a()}),I=m.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),P.current=new Date().getTime(),C.current=window.setTimeout(M,F))},[M]);m.useEffect(()=>{const F=v.viewport;if(F){const X=()=>{I(E.current),u==null||u()},Y=()=>{const K=new Date().getTime()-P.current;E.current=E.current-K,window.clearTimeout(C.current),c==null||c()};return F.addEventListener(Sg,Y),F.addEventListener(Ng,X),()=>{F.removeEventListener(Sg,Y),F.removeEventListener(Ng,X)}}},[v.viewport,N,c,u,I]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&I(N)},[i,N,v.isClosePausedRef,I]),m.useEffect(()=>(A(),()=>_()),[A,_]);const V=m.useMemo(()=>w?RC(w):null,[w]);return v.viewport?o.jsxs(o.Fragment,{children:[V&&o.jsx(MD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),o.jsx(ID,{scope:n,onClose:M,children:Eo.createPortal(o.jsx(xy.ItemSlot,{scope:n,children:o.jsx(gD,{asChild:!0,onEscapeKeyDown:oe(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:oe(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:oe(e.onPointerMove,F=>{if(!b.current)return;const X=F.clientX-b.current.x,Y=F.clientY-b.current.y,K=!!j.current,D=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,B=D?z(0,X):0,G=D?0:z(0,Y),je=F.pointerType==="touch"?10:2,Je={x:B,y:G},Le={originalEvent:F,delta:Je};K?(j.current=Je,Qu(AD,d,Le,{discrete:!1})):Mw(Je,v.swipeDirection,je)?(j.current=Je,Qu(TD,f,Le,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(X)>je||Math.abs(Y)>je)&&(b.current=null)}),onPointerUp:oe(e.onPointerUp,F=>{const X=j.current,Y=F.target;if(Y.hasPointerCapture(F.pointerId)&&Y.releasePointerCapture(F.pointerId),j.current=null,b.current=null,X){const K=F.currentTarget,D={originalEvent:F,delta:X};Mw(X,v.swipeDirection,v.swipeThreshold)?Qu(RD,p,D,{discrete:!0}):Qu(_D,h,D,{discrete:!0}),K.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),MD=e=>{const{__scopeToast:t,children:n,...r}=e,s=sh(ih,t),[i,a]=m.useState(!1),[l,c]=m.useState(!1);return VD(()=>a(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(rh,{asChild:!0,children:o.jsx(uu,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},FD="ToastTitle",PC=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ue.div,{...r,ref:t})});PC.displayName=FD;var LD="ToastDescription",EC=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ue.div,{...r,ref:t})});EC.displayName=LD;var kC="ToastAction",TC=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(_C,{altText:n,asChild:!0,children:o.jsx(wy,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kC}\`. Expected non-empty \`string\`.`),null)});TC.displayName=kC;var AC="ToastClose",wy=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=OD(AC,n);return o.jsx(_C,{asChild:!0,children:o.jsx(ue.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,s.onClose)})})});wy.displayName=AC;var _C=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function RC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),$D(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...RC(r))}}),t}function Qu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?gC(s,i):s.dispatchEvent(i)}var Mw=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function VD(e=()=>{}){const t=Et(e);$t(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function $D(e){return e.nodeType===e.ELEMENT_NODE}function UD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _m(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var zD=bC,IC=SC,OC=CC,DC=PC,MC=EC,FC=TC,LC=wy;function VC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=VC(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function BD(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=VC(e))&&(r&&(r+=" "),r+=t);return r}const Fw=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,Lw=BD,du=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Lw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],d=i==null?void 0:i[u];if(f===null)return null;const h=Fw(f)||Fw(d);return s[u][h]}),l=n&&Object.entries(n).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(y=>{let[v,w]=y;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...u,d,h]:u},[]);return Lw(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$C=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>m.createElement("svg",{ref:c,...HD,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$C("lucide",s),...l},[...a.map(([u,f])=>m.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(qD,{ref:i,iconNode:t,className:$C(`lucide-${WD(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=he("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=he("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=he("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=he("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=he("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=he("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=he("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=he("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=he("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=he("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function KC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=KC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lM(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=KC(e))&&(r&&(r+=" "),r+=t);return r}const Ny="-",cM=e=>{const t=dM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Ny);return l[0]===""&&l.length!==1&&l.shift(),QC(l,t)||uM(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},QC=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?QC(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ny);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Bw=/^\[(.+)\]$/,uM=e=>{if(Bw.test(e)){const t=Bw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},dM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return hM(Object.entries(e.classGroups),n).forEach(([i,a])=>{Ag(a,r,i,t)}),r},Ag=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ww(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(fM(s)){Ag(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Ag(a,Ww(t,i),n,r)})})},Ww=(e,t)=>{let n=e;return t.split(Ny).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fM=e=>e.isThemeGetter,hM=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,mM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},GC="!",pM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let x=l[w];if(u===0){if(x===s&&(r||l.slice(w,w+i)===t)){c.push(l.slice(f,w)),f=w+i;continue}if(x==="/"){d=w;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(GC),y=p?h.substring(1):h,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},gM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},vM=e=>({cache:mM(e.cacheSize),parseClassName:pM(e),...cM(e)}),yM=/\s+/,xM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(yM);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,v=r(y?h.substring(0,p):h);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(h),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=gM(f).join(":"),x=d?w+GC:w,g=x+v;if(i.includes(g))continue;i.push(g);const b=s(v,y);for(let j=0;j<b.length;++j){const N=b[j];i.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function wM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=YC(t))&&(r&&(r+=" "),r+=n);return r}const YC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=YC(e[r]))&&(n&&(n+=" "),n+=t);return n};function bM(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((f,d)=>d(f),e());return n=vM(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=xM(c,n);return s(c,f),f}return function(){return i(wM.apply(null,arguments))}}const it=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ZC=/^\[(?:([a-z-]+):)?(.+)\]$/i,jM=/^\d+\/\d+$/,SM=new Set(["px","full","screen"]),NM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=e=>ya(e)||SM.has(e)||jM.test(e),Ts=e=>al(e,"length",MM),ya=e=>!!e&&!Number.isNaN(Number(e)),Dm=e=>al(e,"number",ya),El=e=>!!e&&Number.isInteger(Number(e)),TM=e=>e.endsWith("%")&&ya(e.slice(0,-1)),Ce=e=>ZC.test(e),As=e=>NM.test(e),AM=new Set(["length","size","percentage"]),_M=e=>al(e,AM,XC),RM=e=>al(e,"position",XC),IM=new Set(["image","url"]),OM=e=>al(e,IM,LM),DM=e=>al(e,"",FM),kl=()=>!0,al=(e,t,n)=>{const r=ZC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},MM=e=>CM.test(e)&&!PM.test(e),XC=()=>!1,FM=e=>EM.test(e),LM=e=>kM.test(e),VM=()=>{const e=it("colors"),t=it("spacing"),n=it("blur"),r=it("brightness"),s=it("borderColor"),i=it("borderRadius"),a=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),u=it("grayscale"),f=it("hueRotate"),d=it("invert"),h=it("gap"),p=it("gradientColorStops"),y=it("gradientColorStopPositions"),v=it("inset"),w=it("margin"),x=it("opacity"),g=it("padding"),b=it("saturate"),j=it("scale"),N=it("sepia"),P=it("skew"),E=it("space"),C=it("translate"),A=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ce,t],I=()=>[Ce,t],V=()=>["",Yr,Ts],F=()=>["auto",ya,Ce],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ce],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[ya,Ce];return{cacheSize:500,separator:":",theme:{colors:[kl],spacing:[Yr,Ts],blur:["none","",As,Ce],brightness:G(),borderColor:[e],borderRadius:["none","","full",As,Ce],borderSpacing:I(),borderWidth:V(),contrast:G(),grayscale:z(),hueRotate:G(),invert:z(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[TM,Ts],inset:M(),margin:M(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:z(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Ce]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,Ce]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",El,Ce]}],"grid-cols":[{"grid-cols":[kl]}],"col-start-end":[{col:["auto",{span:["full",El,Ce]},Ce]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[kl]}],"row-start-end":[{row:["auto",{span:[El,Ce]},Ce]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dm]}],"font-family":[{font:[kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",ya,Dm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,Ts]}],"underline-offset":[{"underline-offset":["auto",Yr,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),RM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_M]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Yr,Ce]}],"outline-w":[{outline:[Yr,Ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Yr,Ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",As,DM]}],"shadow-color":[{shadow:[kl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",As,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[El,Ce]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yr,Ts,Dm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$M=bM(VM);function te(...e){return $M(lM(e))}function xt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function _g(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}).format(e)}function UM(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Hw(e){return e.split("-").map(t=>UM(t)).join(" ")}const zM=zD,JC=m.forwardRef(({className:e,...t},n)=>o.jsx(IC,{ref:n,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));JC.displayName=IC.displayName;const BM=du("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eP=m.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(OC,{ref:r,className:te(BM({variant:t}),e),...n}));eP.displayName=OC.displayName;const WM=m.forwardRef(({className:e,...t},n)=>o.jsx(FC,{ref:n,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));WM.displayName=FC.displayName;const tP=m.forwardRef(({className:e,...t},n)=>o.jsx(LC,{ref:n,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Xi,{className:"h-4 w-4"})}));tP.displayName=LC.displayName;const nP=m.forwardRef(({className:e,...t},n)=>o.jsx(DC,{ref:n,className:te("text-sm font-semibold",e),...t}));nP.displayName=DC.displayName;const rP=m.forwardRef(({className:e,...t},n)=>o.jsx(MC,{ref:n,className:te("text-sm opacity-90",e),...t}));rP.displayName=MC.displayName;function HM(){const{toasts:e}=tt();return o.jsxs(zM,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(eP,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(nP,{children:n}),r&&o.jsx(rP,{children:r})]}),s,o.jsx(tP,{})]},t)}),o.jsx(JC,{})]})}const de=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const $e=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("flex flex-col space-y-1.5 p-6",e),...t}));$e.displayName="CardHeader";const Ue=m.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ue.displayName="CardTitle";const at=m.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:te("text-sm text-muted-foreground",e),...t}));at.displayName="CardDescription";const fe=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("p-6 pt-0",e),...t}));fe.displayName="CardContent";const xa=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("flex items-center p-6 pt-0",e),...t}));xa.displayName="CardFooter";function qM(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(de,{className:"w-full max-w-md mx-4",children:o.jsxs(fe,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(vi,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const sP=m.createContext({user:null,isLoading:!1,error:null,login:async()=>{},register:async()=>{},logout:async()=>{},isLoginPending:!1,isRegisterPending:!1,isLogoutPending:!1,loginMutation:{mutate:()=>{},mutateAsync:async()=>({}),isPending:!1},registerMutation:{mutate:()=>{},mutateAsync:async()=>({}),isPending:!1}});function KM({children:e}){const{toast:t}=tt(),{data:n,error:r,isLoading:s}=Pt({queryKey:["/api/user"],queryFn:vy({on401:"returnNull"})}),i=ke({mutationFn:async d=>await(await ve("POST","/api/login",d)).json(),onSuccess:d=>{pe.setQueryData(["/api/user"],d),window.scrollTo({top:0,behavior:"smooth"})},onError:d=>{let h="Sign In Failed",p="Please check your credentials and try again";d.message.includes("Invalid credentials")?(h="Invalid Username or Password",p="Please check your username and password are correct"):d.message.includes("Network")?(h="Connection Error",p="Please check your internet connection and try again"):d.message.includes("Server")?(h="Server Error",p="Our servers are temporarily unavailable. Please try again later"):d.message.includes("Unauthorized")&&(h="Account Access Denied",p="Your account may be inactive. Please contact support"),t({title:h,description:p,variant:"destructive"})}}),a=ke({mutationFn:async d=>await(await ve("POST","/api/register",d)).json(),onSuccess:d=>{pe.setQueryData(["/api/user"],d),t({title:"Registration successful",description:`Welcome, ${d.username}!`})},onError:d=>{let h="Registration Failed",p="Unable to create your account. Please try again";d.message.includes("Username already exists")||d.message.includes("already taken")?(h="Username Not Available",p="This username is already taken. Please choose a different one"):d.message.includes("Email already exists")||d.message.includes("email")?(h="Email Already Registered",p="An account with this email already exists. Try signing in instead"):d.message.includes("Password")?(h="Password Requirements",p="Please ensure your password meets the security requirements"):d.message.includes("Payment")||d.message.includes("Purchase")?(h="Payment Processing Error",p="Unable to process your premium membership payment. Please try again"):d.message.includes("Network")?(h="Connection Error",p="Please check your internet connection and try again"):d.message.includes("Server")&&(h="Server Error",p="Our servers are temporarily unavailable. Please try again later"),t({title:h,description:p,variant:"destructive"})}}),l=ke({mutationFn:async()=>{await ve("POST","/api/logout")},onSuccess:()=>{pe.setQueryData(["/api/user"],null),t({title:"Logout successful",description:"You have been logged out."})},onError:d=>{t({title:"Logout failed",description:d.message,variant:"destructive"})}}),c=async d=>{await i.mutateAsync(d)},u=async d=>{await a.mutateAsync(d)},f=async()=>{await l.mutateAsync()};return o.jsx(sP.Provider,{value:{user:n??null,isLoading:s,error:r,login:c,register:u,logout:f,isLoginPending:i.isPending,isRegisterPending:a.isPending,isLogoutPending:l.isPending,loginMutation:{mutate:i.mutate,mutateAsync:i.mutateAsync,isPending:i.isPending},registerMutation:{mutate:a.mutate,mutateAsync:a.mutateAsync,isPending:a.isPending}},children:e})}function ut(){const e=m.useContext(sP);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const QM="modulepreload",GM=function(e){return"/"+e},qw={},iP=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=GM(c),c in qw)return;qw[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":QM,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var qa;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(qa||(qa={}));let Mm=class extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}};const YM=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},ZM=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:YM(e),i=()=>s()!=="web",a=d=>{const h=u.get(d);return!!(h!=null&&h.platforms.has(s())||l(d))},l=d=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===d)},c=d=>e.console.error(d),u=new Map,f=(d,h={})=>{const p=u.get(d);if(p)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),p.proxy;const y=s(),v=l(d);let w;const x=async()=>(!w&&y in h?w=typeof h[y]=="function"?w=await h[y]():w=h[y]:t!==null&&!w&&"web"in h&&(w=typeof h.web=="function"?w=await h.web():w=h.web),w),g=(C,A)=>{var _,M;if(v){const I=v==null?void 0:v.methods.find(V=>A===V.name);if(I)return I.rtype==="promise"?V=>n.nativePromise(d,A.toString(),V):(V,F)=>n.nativeCallback(d,A.toString(),V,F);if(C)return(_=C[A])===null||_===void 0?void 0:_.bind(C)}else{if(C)return(M=C[A])===null||M===void 0?void 0:M.bind(C);throw new Mm(`"${d}" plugin is not implemented on ${y}`,qa.Unimplemented)}},b=C=>{let A;const _=(...M)=>{const I=x().then(V=>{const F=g(V,C);if(F){const X=F(...M);return A=X==null?void 0:X.remove,X}else throw new Mm(`"${d}.${C}()" is not implemented on ${y}`,qa.Unimplemented)});return C==="addListener"&&(I.remove=async()=>A()),I};return _.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:C,writable:!1,configurable:!1}),_},j=b("addListener"),N=b("removeListener"),P=(C,A)=>{const _=j({eventName:C},A),M=async()=>{const V=await _;N({eventName:C,callbackId:V},A)},I=new Promise(V=>_.then(()=>V({remove:M})));return I.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await M()},I},E=new Proxy({},{get(C,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?P:j;case"removeListener":return N;default:return b(A)}}});return r[d]=E,u.set(d,{name:d,proxy:E,platforms:new Set([...Object.keys(h),...v?[y]:[]])}),E};return n.convertFileSrc||(n.convertFileSrc=d=>d),n.getPlatform=s,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=a,n.registerPlugin=f,n.Exception=Mm,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},XM=e=>e.Capacitor=ZM(e),rs=XM(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Cy=rs.registerPlugin;let oP=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const a=async()=>this.removeListener(t,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new rs.Exception(t,qa.Unimplemented)}unavailable(t="not available"){return new rs.Exception(t,qa.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}};const Kw=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Qw=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class JM extends oP{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Qw(s).trim(),i=Qw(i).trim(),n[s]=i}),n}async setCookie(t){try{const n=Kw(t.key),r=Kw(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Cy("CapacitorCookies",{web:()=>new JM});const eF=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),tF=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=e[t[a]],s),{})},nF=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[i,a]=s;let l,c;return Array.isArray(a)?(c="",a.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(a):a,c=`${i}=${l}`),`${r}&${c}`},"").substr(1):null,rF=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=tF(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,l]of Object.entries(e.data||{}))i.set(a,l);n.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class sF extends oP{async request(t){const n=rF(t,t.webFetchExtra),r=nF(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,i=await fetch(s,n),a=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};a.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await eF(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const f={};return i.headers.forEach((d,h)=>{f[h]=d}),{data:c,headers:f,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Cy("CapacitorHttp",{web:()=>new sF});var aP=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gw;(function(e){e.UNKNOWN_ERROR="0",e.PURCHASE_CANCELLED_ERROR="1",e.STORE_PROBLEM_ERROR="2",e.PURCHASE_NOT_ALLOWED_ERROR="3",e.PURCHASE_INVALID_ERROR="4",e.PRODUCT_NOT_AVAILABLE_FOR_PURCHASE_ERROR="5",e.PRODUCT_ALREADY_PURCHASED_ERROR="6",e.RECEIPT_ALREADY_IN_USE_ERROR="7",e.INVALID_RECEIPT_ERROR="8",e.MISSING_RECEIPT_FILE_ERROR="9",e.NETWORK_ERROR="10",e.INVALID_CREDENTIALS_ERROR="11",e.UNEXPECTED_BACKEND_RESPONSE_ERROR="12",e.RECEIPT_IN_USE_BY_OTHER_SUBSCRIBER_ERROR="13",e.INVALID_APP_USER_ID_ERROR="14",e.OPERATION_ALREADY_IN_PROGRESS_ERROR="15",e.UNKNOWN_BACKEND_ERROR="16",e.INVALID_APPLE_SUBSCRIPTION_KEY_ERROR="17",e.INELIGIBLE_ERROR="18",e.INSUFFICIENT_PERMISSIONS_ERROR="19",e.PAYMENT_PENDING_ERROR="20",e.INVALID_SUBSCRIBER_ATTRIBUTES_ERROR="21",e.LOG_OUT_ANONYMOUS_USER_ERROR="22",e.CONFIGURATION_ERROR="23",e.UNSUPPORTED_ERROR="24",e.EMPTY_SUBSCRIBER_ATTRIBUTES_ERROR="25",e.PRODUCT_DISCOUNT_MISSING_IDENTIFIER_ERROR="26",e.PRODUCT_DISCOUNT_MISSING_SUBSCRIPTION_GROUP_IDENTIFIER_ERROR="28",e.CUSTOMER_INFO_ERROR="29",e.SYSTEM_INFO_ERROR="30",e.BEGIN_REFUND_REQUEST_ERROR="31",e.PRODUCT_REQUEST_TIMED_OUT_ERROR="32",e.API_ENDPOINT_BLOCKED="33",e.INVALID_PROMOTIONAL_OFFER_ERROR="34",e.OFFLINE_CONNECTION_ERROR="35"})(Gw||(Gw={}));(function(e){aP(t,e);function t(){var n=e.call(this,"There is no singleton instance. Make sure you configure Purchases before trying to get the default instance. More info here: https://errors.rev.cat/configuring-sdk")||this;return Object.setPrototypeOf(n,t.prototype),n}return t})(Error);(function(e){aP(t,e);function t(){var n=e.call(this,"This method is not available in the current platform.")||this;return Object.setPrototypeOf(n,t.prototype),n}return t})(Error);var Yw;(function(e){e.UNKNOWN="UNKNOWN",e.CUSTOM="CUSTOM",e.LIFETIME="LIFETIME",e.ANNUAL="ANNUAL",e.SIX_MONTH="SIX_MONTH",e.THREE_MONTH="THREE_MONTH",e.TWO_MONTH="TWO_MONTH",e.MONTHLY="MONTHLY",e.WEEKLY="WEEKLY"})(Yw||(Yw={}));var Zw;(function(e){e[e.INTRO_ELIGIBILITY_STATUS_UNKNOWN=0]="INTRO_ELIGIBILITY_STATUS_UNKNOWN",e[e.INTRO_ELIGIBILITY_STATUS_INELIGIBLE=1]="INTRO_ELIGIBILITY_STATUS_INELIGIBLE",e[e.INTRO_ELIGIBILITY_STATUS_ELIGIBLE=2]="INTRO_ELIGIBILITY_STATUS_ELIGIBLE",e[e.INTRO_ELIGIBILITY_STATUS_NO_INTRO_OFFER_EXISTS=3]="INTRO_ELIGIBILITY_STATUS_NO_INTRO_OFFER_EXISTS"})(Zw||(Zw={}));var Xw;(function(e){e.NON_SUBSCRIPTION="NON_SUBSCRIPTION",e.SUBSCRIPTION="SUBSCRIPTION",e.UNKNOWN="UNKNOWN"})(Xw||(Xw={}));var Jw;(function(e){e.CONSUMABLE="CONSUMABLE",e.NON_CONSUMABLE="NON_CONSUMABLE",e.NON_RENEWABLE_SUBSCRIPTION="NON_RENEWABLE_SUBSCRIPTION",e.AUTO_RENEWABLE_SUBSCRIPTION="AUTO_RENEWABLE_SUBSCRIPTION",e.PREPAID_SUBSCRIPTION="PREPAID_SUBSCRIPTION",e.UNKNOWN="UNKNOWN"})(Jw||(Jw={}));var eb;(function(e){e[e.UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY=0]="UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY",e[e.IMMEDIATE_WITH_TIME_PRORATION=1]="IMMEDIATE_WITH_TIME_PRORATION",e[e.IMMEDIATE_AND_CHARGE_PRORATED_PRICE=2]="IMMEDIATE_AND_CHARGE_PRORATED_PRICE",e[e.IMMEDIATE_WITHOUT_PRORATION=3]="IMMEDIATE_WITHOUT_PRORATION",e[e.DEFERRED=6]="DEFERRED",e[e.IMMEDIATE_AND_CHARGE_FULL_PRICE=5]="IMMEDIATE_AND_CHARGE_FULL_PRICE"})(eb||(eb={}));var tb;(function(e){e[e.INFINITE_RECURRING=1]="INFINITE_RECURRING",e[e.FINITE_RECURRING=2]="FINITE_RECURRING",e[e.NON_RECURRING=3]="NON_RECURRING"})(tb||(tb={}));var nb;(function(e){e.FREE_TRIAL="FREE_TRIAL",e.SINGLE_PAYMENT="SINGLE_PAYMENT",e.DISCOUNTED_RECURRING_PAYMENT="DISCOUNTED_RECURRING_PAYMENT"})(nb||(nb={}));var rb;(function(e){e.DAY="DAY",e.WEEK="WEEK",e.MONTH="MONTH",e.YEAR="YEAR",e.UNKNOWN="UNKNOWN"})(rb||(rb={}));var sb;(function(e){e.INAPP="inapp",e.SUBS="subs"})(sb||(sb={}));var ib;(function(e){e[e.SUBSCRIPTIONS=0]="SUBSCRIPTIONS",e[e.SUBSCRIPTIONS_UPDATE=1]="SUBSCRIPTIONS_UPDATE",e[e.IN_APP_ITEMS_ON_VR=2]="IN_APP_ITEMS_ON_VR",e[e.SUBSCRIPTIONS_ON_VR=3]="SUBSCRIPTIONS_ON_VR",e[e.PRICE_CHANGE_CONFIRMATION=4]="PRICE_CHANGE_CONFIRMATION"})(ib||(ib={}));var ob;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.USER_CANCELLED=1]="USER_CANCELLED",e[e.ERROR=2]="ERROR"})(ob||(ob={}));var Rg;(function(e){e.VERBOSE="VERBOSE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"})(Rg||(Rg={}));var ab;(function(e){e[e.BILLING_ISSUE=0]="BILLING_ISSUE",e[e.PRICE_INCREASE_CONSENT=1]="PRICE_INCREASE_CONSENT",e[e.GENERIC=2]="GENERIC",e[e.WIN_BACK_OFFER=3]="WIN_BACK_OFFER"})(ab||(ab={}));var lb;(function(e){e.DISABLED="DISABLED",e.INFORMATIONAL="INFORMATIONAL"})(lb||(lb={}));var cb;(function(e){e.NOT_REQUESTED="NOT_REQUESTED",e.VERIFIED="VERIFIED",e.FAILED="FAILED",e.VERIFIED_ON_DEVICE="VERIFIED_ON_DEVICE"})(cb||(cb={}));var ub;(function(e){e.NOT_PRESENTED="NOT_PRESENTED",e.ERROR="ERROR",e.CANCELLED="CANCELLED",e.PURCHASED="PURCHASED",e.RESTORED="RESTORED"})(ub||(ub={}));var db;(function(e){e.STOREKIT_1="STOREKIT_1",e.STOREKIT_2="STOREKIT_2",e.DEFAULT="DEFAULT"})(db||(db={}));var fb;(function(e){e.MY_APP="MY_APP",e.REVENUECAT="REVENUECAT"})(fb||(fb={}));var hb;(function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR",e.PURCHASE_BELONGS_TO_OTHER_USER="PURCHASE_BELONGS_TO_OTHER_USER",e.INVALID_TOKEN="INVALID_TOKEN",e.EXPIRED="EXPIRED"})(hb||(hb={}));const Oo=Cy("Purchases",{web:()=>iP(()=>import("./web-brXIX69R.js"),[]).then(e=>new e.PurchasesWeb)});class iF{constructor(){this.isInitialized=!1,this.offerings=[],this.PRODUCT_IDS={PREMIUM_MEMBERSHIP:"com.beanstalker.member",CREDITS_10:"com.beanstalker.credits10",CREDITS_25:"com.beanstalker.credits25",CREDITS_50:"com.beanstalker.credits50",CREDITS_100:"com.beanstalker.credits100"}}async initialize(){if(!rs.isNativePlatform()||!0)return console.log("IAP: Running in development mode - simulating IAP functionality"),this.isInitialized=!0,!0;try{return await Oo.setLogLevel({level:Rg.DEBUG}),await Oo.configure({apiKey:void 0,appUserID:void 0}),await this.loadOfferings(),this.isInitialized=!0,console.log("IAP: Service initialized successfully"),!0}catch(n){return console.error("IAP: Failed to initialize",n),!1}}async setUserID(t){if(this.isInitialized)try{await Oo.logIn({appUserID:t}),console.log("IAP: User ID set",t)}catch(n){console.error("IAP: Failed to set user ID",n)}}async loadOfferings(){try{const t=await Oo.getOfferings();this.offerings=t.all?Object.values(t.all):[],console.log("IAP: Loaded offerings",this.offerings)}catch(t){console.error("IAP: Failed to load offerings",t)}}async getAvailableProducts(){if(!this.isInitialized)throw new Error("IAP service not initialized");if(!rs.isNativePlatform()||!0)return[{id:this.PRODUCT_IDS.PREMIUM_MEMBERSHIP,title:"Premium Membership",description:"Full access to Bean Stalker premium features",price:"AUD $69.00",priceAmountMicros:69e6,priceCurrencyCode:"AUD",type:"membership"},{id:this.PRODUCT_IDS.CREDITS_10,title:"10 Credits",description:"Add 10 credits to your account",price:"AUD $10.00",priceAmountMicros:1e7,priceCurrencyCode:"AUD",type:"credits"},{id:this.PRODUCT_IDS.CREDITS_25,title:"25 Credits + 2 Bonus",description:"Add 25 credits plus 2 bonus credits",price:"AUD $25.00",priceAmountMicros:25e6,priceCurrencyCode:"AUD",type:"credits"},{id:this.PRODUCT_IDS.CREDITS_50,title:"50 Credits + 5 Bonus",description:"Add 50 credits plus 5 bonus credits",price:"AUD $50.00",priceAmountMicros:5e7,priceCurrencyCode:"AUD",type:"credits"},{id:this.PRODUCT_IDS.CREDITS_100,title:"100 Credits + 15 Bonus",description:"Add 100 credits plus 15 bonus credits",price:"AUD $100.00",priceAmountMicros:1e8,priceCurrencyCode:"AUD",type:"credits"}];const n=[];for(const r of this.offerings)for(const s of r.availablePackages){const i=s.product;n.push({id:i.identifier,title:i.title,description:i.description,price:i.priceString,priceAmountMicros:i.price*1e6,priceCurrencyCode:i.currencyCode,type:this.getProductType(i.identifier)})}return n}getProductType(t){return t.includes("membership")?"membership":"credits"}async purchaseProduct(t){if(!this.isInitialized)throw new Error("IAP service not initialized");if(!rs.isNativePlatform()||!0)return console.log(`IAP: Simulating purchase for ${t}`),await new Promise(r=>setTimeout(r,1500)),{success:!0,productId:t,transactionId:`dev_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,receipt:JSON.stringify({productId:t,purchaseDate:new Date().toISOString(),environment:"development"})};try{let r=null;for(const i of this.offerings){for(const a of i.availablePackages)if(a.product.identifier===t){r=a;break}if(r)break}if(!r)throw new Error(`Product ${t} not found`);const s=await Oo.purchasePackage({aPackage:r});return{success:!0,productId:t,transactionId:s.customerInfo.originalAppUserId,receipt:JSON.stringify(s.customerInfo)}}catch(r){return console.error("IAP: Purchase failed",r),r.code==="PURCHASE_CANCELLED"?{success:!1,productId:t,error:"Purchase cancelled by user"}:{success:!1,productId:t,error:r.message||"Purchase failed"}}}async restorePurchases(){if(!this.isInitialized)throw new Error("IAP service not initialized");try{const t=await Oo.restorePurchases();return console.log("IAP: Purchases restored",t),!0}catch(t){return console.error("IAP: Failed to restore purchases",t),!1}}isAvailable(){const t=!rs.isNativePlatform()||!0;return this.isInitialized&&(t||rs.isNativePlatform())}getCreditsProductId(t){switch(t){case 10:return this.PRODUCT_IDS.CREDITS_10;case 25:return this.PRODUCT_IDS.CREDITS_25;case 50:return this.PRODUCT_IDS.CREDITS_50;case 100:return this.PRODUCT_IDS.CREDITS_100;default:return this.PRODUCT_IDS.CREDITS_10}}getMembershipProductId(){return this.PRODUCT_IDS.PREMIUM_MEMBERSHIP}}const Do=new iF,lP=m.createContext(null);function oF({children:e}){const[t,n]=m.useState(!1),[r,s]=m.useState([]),[i,a]=m.useState(!1),{user:l}=ut(),{toast:c}=tt();m.useEffect(()=>{u()},[]),m.useEffect(()=>{l&&t&&Do.setUserID(l.id.toString())},[l,t]);const u=async()=>{a(!0);try{const p=await Do.initialize();if(n(p),p){const y=await Do.getAvailableProducts();s(y)}}catch(p){console.error("Failed to initialize IAP:",p)}finally{a(!1)}},f=async p=>{if(!t)return c({title:"Purchase Error",description:"Payment system not available",variant:"destructive"}),{success:!1,productId:p,error:"Not initialized"};a(!0);try{const y=await Do.purchaseProduct(p);return y.success?(await d(y),c({title:"Purchase Successful",description:"Your purchase has been completed successfully!"})):y.error!=="Purchase cancelled by user"&&c({title:"Purchase Failed",description:y.error||"An error occurred during purchase",variant:"destructive"}),y}catch(y){return c({title:"Purchase Error",description:y.message||"An unexpected error occurred",variant:"destructive"}),{success:!1,productId:p,error:y.message||"Unexpected error"}}finally{a(!1)}},d=async p=>{try{(await ve("POST","/api/iap/verify-purchase",{productId:p.productId,transactionId:p.transactionId,receipt:p.receipt,platform:"ios"})).ok&&window.location.reload()}catch(y){console.error("Failed to verify purchase:",y),c({title:"Verification Error",description:"Purchase successful but verification failed. Please contact support.",variant:"destructive"})}},h=async()=>{if(!t)return!1;a(!0);try{const p=await Do.restorePurchases();return c(p?{title:"Purchases Restored",description:"Your previous purchases have been restored successfully!"}:{title:"Restore Failed",description:"No previous purchases found to restore",variant:"destructive"}),p}catch(p){return c({title:"Restore Error",description:p.message||"Failed to restore purchases",variant:"destructive"}),!1}finally{a(!1)}};return o.jsx(lP.Provider,{value:{isInitialized:t,products:r,isLoading:i,purchaseProduct:f,restorePurchases:h,isAvailable:Do.isAvailable()},children:e})}function cP(){const e=m.useContext(lP);if(!e)throw new Error("useIAP must be used within an IAPProvider");return e}/*! Capacitor: https://capacitorjs.com/ - MIT License */const aF=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},r=(i,a)=>{n.platforms.set(i,a)},s=i=>{n.platforms.has(i)&&(n.currentPlatform=n.platforms.get(i))};return n.addPlatform=r,n.setPlatform=s,n},lF=e=>e.CapacitorPlatforms=aF(e),uP=lF(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});uP.addPlatform;uP.setPlatform;var Ka;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ka||(Ka={}));class Fm extends Error{constructor(t,n){super(t),this.message=t,this.code=n}}const cF=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},uF=e=>{var t,n,r,s,i;const a=e.CapacitorCustomPlatform||null,l=e.Capacitor||{},c=l.Plugins=l.Plugins||{},u=e.CapacitorPlatforms,f=()=>a!==null?a.name:cF(e),d=((t=u==null?void 0:u.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||f,h=()=>d()!=="web",p=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||h,y=E=>{const C=j.get(E);return!!(C!=null&&C.platforms.has(d())||x(E))},v=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||y,w=E=>{var C;return(C=l.PluginHeaders)===null||C===void 0?void 0:C.find(A=>A.name===E)},x=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||w,g=E=>e.console.error(E),b=(E,C,A)=>Promise.reject(`${A} does not have an implementation of "${C}".`),j=new Map,N=(E,C={})=>{const A=j.get(E);if(A)return console.warn(`Capacitor plugin "${E}" already registered. Cannot register plugins twice.`),A.proxy;const _=d(),M=x(E);let I;const V=async()=>(!I&&_ in C?I=typeof C[_]=="function"?I=await C[_]():I=C[_]:a!==null&&!I&&"web"in C&&(I=typeof C.web=="function"?I=await C.web():I=C.web),I),F=(B,G)=>{var je,Je;if(M){const Le=M==null?void 0:M.methods.find(Qe=>G===Qe.name);if(Le)return Le.rtype==="promise"?Qe=>l.nativePromise(E,G.toString(),Qe):(Qe,Ge)=>l.nativeCallback(E,G.toString(),Qe,Ge);if(B)return(je=B[G])===null||je===void 0?void 0:je.bind(B)}else{if(B)return(Je=B[G])===null||Je===void 0?void 0:Je.bind(B);throw new Fm(`"${E}" plugin is not implemented on ${_}`,Ka.Unimplemented)}},X=B=>{let G;const je=(...Je)=>{const Le=V().then(Qe=>{const Ge=F(Qe,B);if(Ge){const le=Ge(...Je);return G=le==null?void 0:le.remove,le}else throw new Fm(`"${E}.${B}()" is not implemented on ${_}`,Ka.Unimplemented)});return B==="addListener"&&(Le.remove=async()=>G()),Le};return je.toString=()=>`${B.toString()}() { [capacitor code] }`,Object.defineProperty(je,"name",{value:B,writable:!1,configurable:!1}),je},Y=X("addListener"),K=X("removeListener"),D=(B,G)=>{const je=Y({eventName:B},G),Je=async()=>{const Qe=await je;K({eventName:B,callbackId:Qe},G)},Le=new Promise(Qe=>je.then(()=>Qe({remove:Je})));return Le.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Je()},Le},z=new Proxy({},{get(B,G){switch(G){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?D:Y;case"removeListener":return K;default:return X(G)}}});return c[E]=z,j.set(E,{name:E,proxy:z,platforms:new Set([...Object.keys(C),...M?[_]:[]])}),z},P=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||N;return l.convertFileSrc||(l.convertFileSrc=E=>E),l.getPlatform=d,l.handleError=g,l.isNativePlatform=p,l.isPluginAvailable=v,l.pluginMethodNoop=b,l.registerPlugin=P,l.Exception=Fm,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},dF=e=>e.Capacitor=uF(e),lf=dF(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),fF=lf.registerPlugin;lf.Plugins;class o9{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s);const i=async()=>this.removeListener(t,n),a=Promise.resolve({remove:i});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),a}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const r=this.listeners[t];r&&r.forEach(s=>s(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new lf.Exception(t,Ka.Unimplemented)}unavailable(t="not available"){return new lf.Exception(t,Ka.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}var mb;(function(e){e[e.NONE=0]="NONE",e[e.TOUCH_ID=1]="TOUCH_ID",e[e.FACE_ID=2]="FACE_ID",e[e.FINGERPRINT=3]="FINGERPRINT",e[e.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",e[e.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",e[e.MULTIPLE=6]="MULTIPLE"})(mb||(mb={}));var pb;(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",e[e.USER_LOCKOUT=2]="USER_LOCKOUT",e[e.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",e[e.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",e[e.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",e[e.APP_CANCEL=11]="APP_CANCEL",e[e.INVALID_CONTEXT=12]="INVALID_CONTEXT",e[e.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",e[e.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",e[e.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",e[e.USER_CANCEL=16]="USER_CANCEL",e[e.USER_FALLBACK=17]="USER_FALLBACK"})(pb||(pb={}));const Mi=fF("NativeBiometric",{web:()=>iP(()=>import("./web-CUOjIPMP.js"),[]).then(e=>new e.NativeBiometricWeb)});class hF{constructor(){this.CREDENTIAL_KEY="bean-stalker-credentials"}async isAvailable(){try{return(await Mi.isAvailable()).isAvailable}catch(t){return console.log("Biometric authentication not available:",t),!1}}async getBiometricType(){try{return(await Mi.isAvailable()).biometryType||"unknown"}catch(t){return console.log("Could not determine biometric type:",t),"unknown"}}async saveCredentials(t,n){try{return await Mi.setCredentials({username:t,password:n,server:this.CREDENTIAL_KEY}),!0}catch(r){return console.error("Failed to save biometric credentials:",r),!1}}async authenticateWithBiometrics(){try{if(!await this.isAvailable())throw new Error("Biometric authentication not available");const n=await this.getBiometricType(),r=this.getAuthenticationReason(n);if(await Mi.verifyIdentity({reason:r,title:"Bean Stalker Authentication",subtitle:"Access your coffee account securely",description:"Use your biometric authentication to sign in"})){const i=await Mi.getCredentials({server:this.CREDENTIAL_KEY});return{username:i.username,password:i.password}}return null}catch(t){throw console.error("Biometric authentication failed:",t),t}}async deleteCredentials(){try{return await Mi.deleteCredentials({server:this.CREDENTIAL_KEY}),!0}catch(t){return console.error("Failed to delete biometric credentials:",t),!1}}getAuthenticationReason(t){switch(t.toLowerCase()){case"faceid":return"Use Face ID to access Bean Stalker";case"touchid":return"Use Touch ID to access Bean Stalker";case"fingerprint":return"Use your fingerprint to access Bean Stalker";default:return"Use biometric authentication to access Bean Stalker"}}async hasStoredCredentials(){try{const t=await Mi.getCredentials({server:this.CREDENTIAL_KEY});return!!(t.username&&t.password)}catch{return!1}}}const Mo=new hF;function dP(){const{loginMutation:e}=ut(),{toast:t}=tt(),[n,r]=m.useState({isAvailable:!1,biometricType:"unknown",hasStoredCredentials:!1,isLoading:!0});m.useEffect(()=>{s()},[]);const s=async()=>{try{r(p=>({...p,isLoading:!0}));const[f,d,h]=await Promise.all([Mo.isAvailable(),Mo.getBiometricType(),Mo.hasStoredCredentials()]);r({isAvailable:f,biometricType:d,hasStoredCredentials:h,isLoading:!1})}catch(f){console.error("Error checking biometric availability:",f),r(d=>({...d,isLoading:!1,isAvailable:!1}))}},i=async()=>{var f,d;try{if(!n.isAvailable)return t({title:"Biometric Authentication Unavailable",description:"Please use your username and password",variant:"destructive"}),!1;if(!n.hasStoredCredentials)return t({title:"No Biometric Login Set Up",description:"Sign in with password first to enable biometric login",variant:"destructive"}),!1;const h=await Mo.authenticateWithBiometrics();if(h){await e.mutateAsync({username:h.username,password:h.password});const p=c(n.biometricType);return t({title:"Authentication Successful",description:`Signed in with ${p}`}),!0}return!1}catch(h){console.error("Biometric authentication failed:",h);let p="Authentication failed";return(f=h.message)!=null&&f.includes("User cancel")?p="Authentication cancelled":(d=h.message)!=null&&d.includes("not available")&&(p="Biometric authentication not available"),t({title:"Authentication Failed",description:p,variant:"destructive"}),!1}},a=async(f,d)=>{try{if(!n.isAvailable)return!1;const h=await Mo.saveCredentials(f,d);if(h){r(y=>({...y,hasStoredCredentials:!0}));const p=c(n.biometricType);t({title:"Biometric Login Enabled",description:`You can now sign in with ${p}`})}return h}catch(h){return console.error("Failed to setup biometric auth:",h),t({title:"Setup Failed",description:"Could not enable biometric authentication",variant:"destructive"}),!1}},l=async()=>{try{const f=await Mo.deleteCredentials();return f&&(r(d=>({...d,hasStoredCredentials:!1})),t({title:"Biometric Login Disabled",description:"Biometric authentication has been turned off"})),f}catch(f){return console.error("Failed to disable biometric auth:",f),t({title:"Error",description:"Could not disable biometric authentication",variant:"destructive"}),!1}},c=f=>{switch(f.toLowerCase()){case"faceid":return"Face ID";case"touchid":return"Touch ID";case"fingerprint":return"Fingerprint";default:return"Biometric authentication"}};return{biometricState:n,authenticateWithBiometrics:i,setupBiometricAuth:a,disableBiometricAuth:l,checkBiometricAvailability:s,getBiometricDisplayName:c,getBiometricIcon:f=>{switch(f.toLowerCase()){case"faceid":return"🔒";case"touchid":return"👆";case"fingerprint":return"👆";default:return"🔐"}},isAuthenticating:e.isPending}}const mF=du("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?gi:"button";return o.jsx(a,{className:te(mF({variant:t,size:n,className:e})),ref:i,...s})});U.displayName="Button";const Me=m.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Me.displayName="Input";function pF(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:h,children:p,...y}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,gF(s,...t)]}function gF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var vF=LS.useId||(()=>{}),yF=0;function pr(e){const[t,n]=m.useState(vF());return $t(()=>{e||n(r=>r??String(yF++))},[e]),e||(t?`radix-${t}`:"")}var xF=m.createContext(void 0);function ll(e){const t=m.useContext(xF);return e||t||"ltr"}var Lm="rovingFocusGroup.onEntryFocus",wF={bubbles:!1,cancelable:!0},ah="RovingFocusGroup",[Ig,fP,bF]=nh(ah),[jF,lh]=pF(ah,[bF]),[SF,NF]=jF(ah),hP=m.forwardRef((e,t)=>o.jsx(Ig.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ig.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(CF,{...e,ref:t})})}));hP.displayName=ah;var CF=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=m.useRef(null),p=Ae(t,h),y=ll(i),[v=null,w]=Rn({prop:a,defaultProp:l,onChange:c}),[x,g]=m.useState(!1),b=Et(u),j=fP(n),N=m.useRef(!1),[P,E]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Lm,b),()=>C.removeEventListener(Lm,b)},[b]),o.jsx(SF,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(C=>w(C),[w]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>E(C=>C-1),[]),children:o.jsx(ue.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{N.current=!0}),onFocus:oe(e.onFocus,C=>{const A=!N.current;if(C.target===C.currentTarget&&A&&!x){const _=new CustomEvent(Lm,wF);if(C.currentTarget.dispatchEvent(_),!_.defaultPrevented){const M=j().filter(Y=>Y.focusable),I=M.find(Y=>Y.active),V=M.find(Y=>Y.id===v),X=[I,V,...M].filter(Boolean).map(Y=>Y.ref.current);gP(X,f)}}N.current=!1}),onBlur:oe(e.onBlur,()=>g(!1))})})}),mP="RovingFocusGroupItem",pP=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=e,l=pr(),c=i||l,u=NF(mP,n),f=u.currentTabStopId===c,d=fP(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),o.jsx(Ig.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:oe(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:oe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:oe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=kF(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=d().filter(g=>g.focusable).map(g=>g.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const g=x.indexOf(y.currentTarget);x=u.loop?TF(x,g+1):x.slice(g+1)}setTimeout(()=>gP(x))}})})})});pP.displayName=mP;var PF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kF(e,t,n){const r=EF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return PF[r]}function gP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function TF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var vP=hP,yP=pP,Py="Tabs",[AF,a9]=Jn(Py,[lh]),xP=lh(),[_F,Ey]=AF(Py),wP=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=ll(l),[d,h]=Rn({prop:r,onChange:s,defaultProp:i});return o.jsx(_F,{scope:n,baseId:pr(),value:d,onValueChange:h,orientation:a,dir:f,activationMode:c,children:o.jsx(ue.div,{dir:f,"data-orientation":a,...u,ref:t})})});wP.displayName=Py;var bP="TabsList",jP=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Ey(bP,n),a=xP(n);return o.jsx(vP,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});jP.displayName=bP;var SP="TabsTrigger",NP=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=Ey(SP,n),l=xP(n),c=EP(a.baseId,r),u=kP(a.baseId,r),f=r===a.value;return o.jsx(yP,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(ue.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:oe(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:oe(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:oe(e.onFocus,()=>{const d=a.activationMode!=="manual";!f&&!s&&d&&a.onValueChange(r)})})})});NP.displayName=SP;var CP="TabsContent",PP=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=Ey(CP,n),c=EP(l.baseId,r),u=kP(l.baseId,r),f=r===l.value,d=m.useRef(f);return m.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(jn,{present:s||f,children:({present:h})=>o.jsx(ue.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});PP.displayName=CP;function EP(e,t){return`${e}-trigger-${t}`}function kP(e,t){return`${e}-content-${t}`}var RF=wP,TP=jP,AP=NP,_P=PP;const ky=RF,ch=m.forwardRef(({className:e,...t},n)=>o.jsx(TP,{ref:n,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ch.displayName=TP.displayName;const os=m.forwardRef(({className:e,...t},n)=>o.jsx(AP,{ref:n,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));os.displayName=AP.displayName;const as=m.forwardRef(({className:e,...t},n)=>o.jsx(_P,{ref:n,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));as.displayName=_P.displayName;const IF=du("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",category:"border-transparent bg-primary text-white hover:bg-primary/80",selectedCategory:"border-transparent bg-primary text-white hover:bg-primary/80",unselectedCategory:"border-primary text-primary bg-transparent hover:bg-primary/10"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...n}){return o.jsx("div",{className:te(IF({variant:t}),e),...n})}function OF(){const{user:e,loginMutation:t,registerMutation:n}=ut(),{purchaseProduct:r,isAvailable:s,isLoading:i}=cP(),{toast:a}=tt(),{biometricState:l,authenticateWithBiometrics:c,setupBiometricAuth:u,getBiometricDisplayName:f,getBiometricIcon:d,isAuthenticating:h}=dP(),[p,y]=m.useState({username:"",password:""}),[v,w]=m.useState({username:"",email:"",password:"",confirmPassword:"",fullName:"",phoneNumber:""}),[x,g]=m.useState(!1);if(e)return o.jsx(JN,{to:"/"});const b=async N=>{if(N.preventDefault(),!p.username.trim()){a({title:"Username Required",description:"Please enter your username",variant:"destructive"});return}if(!p.password.trim()){a({title:"Password Required",description:"Please enter your password",variant:"destructive"});return}try{await t.mutateAsync(p),l.isAvailable&&!l.hasStoredCredentials&&setTimeout(async()=>{window.confirm(`Would you like to enable ${f(l.biometricType)} for faster sign-in?`)&&await u(p.username,p.password)},1e3)}catch(P){console.error("Login failed:",P)}},j=async N=>{if(N.preventDefault(),v.password!==v.confirmPassword){a({title:"Password Confirmation Error",description:"Please ensure both password fields match exactly",variant:"destructive"});return}if(v.password.length<6){a({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}if(!v.username.trim()){a({title:"Username Required",description:"Please enter a username",variant:"destructive"});return}if(!v.email.trim()){a({title:"Email Required",description:"Please enter your email address",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)){a({title:"Invalid Email Format",description:"Please enter a valid email address",variant:"destructive"});return}g(!0);try{const E=await r("com.beanstalker.member");if(!E.success)throw new Error(E.error||"Purchase failed");const C={username:v.username,email:v.email,password:v.password,fullName:v.fullName||void 0,phoneNumber:v.phoneNumber||void 0,isMember:!0,membershipDate:new Date().toISOString(),purchaseData:E.purchaseData};await n.mutateAsync(C),a({title:"Welcome to Bean Stalker!",description:"Your premium membership is active with AUD$69 credit"})}catch(E){a({title:"Registration Failed",description:E.message||"Please try again",variant:"destructive"})}finally{g(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900 flex flex-col",children:[o.jsxs("div",{className:"relative text-center pt-12 pb-8 pt-safe",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("img",{src:"/bs-logo.png",alt:"Bean Stalker Background Logo",className:"w-32 h-32 mx-auto mt-4 animate-pulse opacity-30 filter brightness-0 invert"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"bg-gradient-to-br from-green-400 to-green-600 p-3 rounded-xl shadow-2xl",children:o.jsx("img",{src:"/bs-logo.png",alt:"Bean Stalker Logo",className:"w-12 h-12 object-contain filter brightness-0 invert"})})}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Bean Stalker"}),o.jsx("p",{className:"text-green-300 text-lg font-medium",children:"Premium Coffee Experience"}),o.jsxs(Ze,{variant:"secondary",className:"mt-3 bg-green-600/20 text-green-300 border-green-500/30",children:[o.jsx(sa,{className:"w-4 h-4 mr-2"}),"Mobile Exclusive"]})]})]}),o.jsx("div",{className:"flex-1 px-6 pb-8",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-600/10 to-green-500/10 backdrop-blur-sm border border-green-500/20 rounded-2xl p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-green-600/20 rounded-xl p-3 mb-2 mx-auto w-fit",children:o.jsx(aM,{className:"w-6 h-6 text-green-400"})}),o.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Instant Orders"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-green-600/20 rounded-xl p-3 mb-2 mx-auto w-fit",children:o.jsx(qC,{className:"w-6 h-6 text-green-400"})}),o.jsx("p",{className:"text-white/90 text-sm font-medium",children:"VIP Service"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-green-600/20 rounded-xl p-3 mb-2 mx-auto w-fit",children:o.jsx(WC,{className:"w-6 h-6 text-green-400"})}),o.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Secure Payments"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-green-600/20 rounded-xl p-3 mb-2 mx-auto w-fit",children:o.jsx(HC,{className:"w-6 h-6 text-green-400"})}),o.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Mobile First"})]})]})}),o.jsx(de,{className:"bg-white/5 backdrop-blur-xl border-white/10 shadow-2xl",children:o.jsx(fe,{className:"p-6",children:o.jsxs(ky,{defaultValue:"login",className:"w-full",children:[o.jsxs(ch,{className:"grid w-full grid-cols-2 mb-8 bg-white/5 p-1",children:[o.jsxs(os,{value:"login",className:"text-white/80 data-[state=active]:bg-green-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[o.jsx(li,{className:"w-4 h-4 mr-2"}),"Sign In"]}),o.jsxs(os,{value:"register",className:"text-white/80 data-[state=active]:bg-green-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[o.jsx(sa,{className:"w-4 h-4 mr-2"}),"Join Premium"]})]}),o.jsxs(as,{value:"login",className:"space-y-6 mt-6",children:[o.jsxs("form",{onSubmit:b,className:"space-y-5",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(li,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"text",placeholder:"Username or Email",value:p.username,onChange:N=>y({...p,username:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500 transition-all duration-200",required:!0})]})}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Rm,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"password",placeholder:"Password",value:p.password,onChange:N=>y({...p,password:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500 transition-all duration-200",required:!0})]})}),o.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold h-12 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",disabled:t.isPending,children:t.isPending?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In to Bean Stalker"})]}),l.isAvailable&&l.hasStoredCredentials&&o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-white/10"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-slate-900 px-3 text-white/60",children:"Or continue with"})})]}),o.jsx(U,{onClick:c,disabled:h||l.isLoading,className:"w-full mt-6 bg-white/5 hover:bg-white/10 border border-white/10 text-white font-semibold h-12 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:h?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Authenticating..."]}):o.jsxs("div",{className:"flex items-center",children:[o.jsx(XD,{className:"w-5 h-5 mr-2 text-green-400"}),"Sign in with ",f(l.biometricType)]})})]}),l.isAvailable&&!l.hasStoredCredentials&&!l.isLoading&&o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-white/60 text-sm",children:["💡 Sign in with your password first to enable ",f(l.biometricType)," for faster access"]})})]}),o.jsxs(as,{value:"register",className:"space-y-6 mt-6",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-600/15 to-green-500/15 backdrop-blur-sm border border-green-400/30 rounded-2xl p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-3",children:[o.jsx("div",{className:"bg-green-600/20 rounded-full p-2 mr-3",children:o.jsx(sa,{className:"w-6 h-6 text-green-400"})}),o.jsx(Ze,{className:"bg-green-600 text-white px-3 py-1 text-lg font-bold",children:"AUD$69"})]}),o.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"Premium Membership"}),o.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Join today and get instant AUD$69 credit plus VIP benefits"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[o.jsxs("div",{className:"flex items-center text-white/90 text-sm",children:[o.jsx(Js,{className:"w-4 h-4 text-green-400 mr-2"}),"AUD$69 Credit"]}),o.jsxs("div",{className:"flex items-center text-white/90 text-sm",children:[o.jsx(Js,{className:"w-4 h-4 text-green-400 mr-2"}),"Priority Service"]}),o.jsxs("div",{className:"flex items-center text-white/90 text-sm",children:[o.jsx(Js,{className:"w-4 h-4 text-green-400 mr-2"}),"Instant Orders"]}),o.jsxs("div",{className:"flex items-center text-white/90 text-sm",children:[o.jsx(Js,{className:"w-4 h-4 text-green-400 mr-2"}),"Mobile App"]})]})]})}),o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(li,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"text",placeholder:"Choose Username",value:v.username,onChange:N=>w({...v,username:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Eg,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"email",placeholder:"Email Address",value:v.email,onChange:N=>w({...v,email:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Rm,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"password",placeholder:"Create Password",value:v.password,onChange:N=>w({...v,password:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Rm,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"password",placeholder:"Confirm Password",value:v.confirmPassword,onChange:N=>w({...v,confirmPassword:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500",required:!0})]}),o.jsxs("div",{className:"relative",children:[o.jsx(JD,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"text",placeholder:"Full Name (optional)",value:v.fullName,onChange:N=>w({...v,fullName:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(of,{className:"absolute left-4 top-3.5 h-5 w-5 text-green-400"}),o.jsx(Me,{type:"tel",placeholder:"Phone Number (optional)",value:v.phoneNumber,onChange:N=>w({...v,phoneNumber:N.target.value}),className:"pl-12 bg-white/5 border-white/10 text-white placeholder:text-white/50 h-12 focus:border-green-500"})]})]}),o.jsx(U,{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold h-14 rounded-xl shadow-xl transition-all duration-300 transform hover:scale-[1.02] text-lg",disabled:x||!s||i,children:x?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin mr-3"}),"Processing Purchase..."]}):o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(sa,{className:"w-5 h-5 mr-2"}),"Join Premium for AUD$69"]})}),!s&&o.jsx("div",{className:"bg-yellow-600/20 border border-yellow-500/30 rounded-xl p-3",children:o.jsx("p",{className:"text-yellow-300 text-sm text-center font-medium",children:"Development Mode: In-App Purchase not available"})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx("p",{className:"text-white/70 text-sm",children:"🔒 Secure payment via Apple App Store"}),o.jsx("p",{className:"text-white/60 text-xs",children:"Your membership includes instant AUD$69 credit to start ordering"})]})]})]})]})})})]})})]})}function DF(e){if(!e)return"SB";const t=e.split(/[\s_-]/);return t.length>1?(t[0][0]+t[1][0]).toUpperCase():e.length>=2?e.substring(0,2).toUpperCase():e.length===1?(e[0]+e[0]).toUpperCase():"SB"}function MF({className:e,size:t="md"}){const{user:n}=ut(),r={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"},s=DF(n==null?void 0:n.username);return o.jsx("div",{className:te("bg-gradient-to-br from-green-600 to-green-700 rounded-lg flex items-center justify-center",r[t],e),children:o.jsx("span",{className:"text-white font-semibold text-xl",children:s})})}function FF(e){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[o.jsx("rect",{width:"6",height:"6",x:"3",y:"3",rx:"1"}),o.jsx("rect",{width:"6",height:"6",x:"15",y:"3",rx:"1"}),o.jsx("rect",{width:"6",height:"6",x:"3",y:"15",rx:"1"}),o.jsx("path",{d:"M15 15h2.5a1.5 1.5 0 0 1 1.5 1.5v2a1.5 1.5 0 0 1-1.5 1.5h-2a1.5 1.5 0 0 1-1.5-1.5v-3.5a1.5 1.5 0 0 1 1.5-1.5H18"}),o.jsx("path",{d:"M7 7h.01"}),o.jsx("path",{d:"M19 7h.01"}),o.jsx("path",{d:"M7 19h.01"})]})}function LF(e){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[o.jsx("circle",{cx:"8",cy:"21",r:"1"}),o.jsx("circle",{cx:"19",cy:"21",r:"1"}),o.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]})}function VF(e){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}function $F(e){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[o.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function UF(e){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[o.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}function zF(e){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14 2 14 8 20 8"}),o.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"}),o.jsx("line",{x1:"9",y1:"16",x2:"15",y2:"16"}),o.jsx("line",{x1:"9",y1:"8",x2:"10",y2:"8"})]})}function BF(e){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[o.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}var Vm="focusScope.autoFocusOnMount",$m="focusScope.autoFocusOnUnmount",gb={bubbles:!1,cancelable:!0},WF="FocusScope",Ty=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=m.useState(null),u=Et(s),f=Et(i),d=m.useRef(null),h=Ae(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?d.current=j:Is(d.current,{select:!0})},w=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Is(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Is(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const g=new MutationObserver(x);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),g.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){yb.add(p);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(Vm,gb);l.addEventListener(Vm,u),l.dispatchEvent(x),x.defaultPrevented||(HF(YF(RP(l)),{select:!0}),document.activeElement===v&&Is(l))}return()=>{l.removeEventListener(Vm,u),setTimeout(()=>{const x=new CustomEvent($m,gb);l.addEventListener($m,f),l.dispatchEvent(x),x.defaultPrevented||Is(v??document.body,{select:!0}),l.removeEventListener($m,f),yb.remove(p)},0)}}},[l,u,f,p]);const y=m.useCallback(v=>{if(!n&&!r||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(w&&x){const g=v.currentTarget,[b,j]=qF(g);b&&j?!v.shiftKey&&x===j?(v.preventDefault(),n&&Is(b,{select:!0})):v.shiftKey&&x===b&&(v.preventDefault(),n&&Is(j,{select:!0})):x===g&&v.preventDefault()}},[n,r,p.paused]);return o.jsx(ue.div,{tabIndex:-1,...a,ref:h,onKeyDown:y})});Ty.displayName=WF;function HF(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Is(r,{select:t}),document.activeElement!==n)return}function qF(e){const t=RP(e),n=vb(t,e),r=vb(t.reverse(),e);return[n,r]}function RP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vb(e,t){for(const n of e)if(!KF(n,{upTo:t}))return n}function KF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QF(e){return e instanceof HTMLInputElement&&"select"in e}function Is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&QF(e)&&t&&e.select()}}var yb=GF();function GF(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=xb(e,t),e.unshift(t)},remove(t){var n;e=xb(e,t),(n=e[0])==null||n.resume()}}}function xb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function YF(e){return e.filter(t=>t.tagName!=="A")}var Um=0;function IP(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wb()),document.body.insertAdjacentElement("beforeend",e[1]??wb()),Um++,()=>{Um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Um--}},[])}function wb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ir=function(){return Ir=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ir.apply(this,arguments)};function OP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ZF(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var jd="right-scroll-bar-position",Sd="width-before-scroll-bar",XF="with-scroll-bars-hidden",JF="--removed-body-scroll-bar-size";function zm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eL(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var tL=typeof window<"u"?m.useLayoutEffect:m.useEffect,bb=new WeakMap;function nL(e,t){var n=eL(null,function(r){return e.forEach(function(s){return zm(s,r)})});return tL(function(){var r=bb.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||zm(l,null)}),i.forEach(function(l){s.has(l)||zm(l,a)})}bb.set(n,e)},[e]),n}function rL(e){return e}function sL(e,t){t===void 0&&(t=rL);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var f=a;a=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),n}}}};return s}function iL(e){e===void 0&&(e={});var t=sL(null);return t.options=Ir({async:!0,ssr:!1},e),t}var DP=function(e){var t=e.sideCar,n=OP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ir({},n))};DP.isSideCarExport=!0;function oL(e,t){return e.useMedium(t),DP}var MP=iL(),Bm=function(){},uh=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Bm,onWheelCapture:Bm,onTouchMoveCapture:Bm}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,y=e.inert,v=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,g=e.gapMode,b=OP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=nL([n,t]),P=Ir(Ir({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(j,{sideCar:MP,removeScrollBar:u,shards:d,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:g}),a?m.cloneElement(m.Children.only(l),Ir(Ir({},P),{ref:N})):m.createElement(x,Ir({},P,{className:c,ref:N}),l))});uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uh.classNames={fullWidth:Sd,zeroRight:jd};var aL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aL();return t&&e.setAttribute("nonce",t),e}function cL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lL())&&(cL(t,n),uL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fL=function(){var e=dL();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},FP=function(){var e=fL(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},hL={left:0,top:0,right:0,gap:0},Wm=function(e){return parseInt(e||"",10)||0},mL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Wm(n),Wm(r),Wm(s)]},pL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hL;var t=mL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gL=FP(),wa="data-scroll-locked",vL=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(XF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(wa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Sd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sd," .").concat(Sd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wa,`] {
    `).concat(JF,": ").concat(l,`px;
  }
`)},jb=function(){var e=parseInt(document.body.getAttribute(wa)||"0",10);return isFinite(e)?e:0},yL=function(){m.useEffect(function(){return document.body.setAttribute(wa,(jb()+1).toString()),function(){var e=jb()-1;e<=0?document.body.removeAttribute(wa):document.body.setAttribute(wa,e.toString())}},[])},xL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;yL();var i=m.useMemo(function(){return pL(s)},[s]);return m.createElement(gL,{styles:vL(i,!t,s,n?"":"!important")})},Og=!1;if(typeof window<"u")try{var Gu=Object.defineProperty({},"passive",{get:function(){return Og=!0,!0}});window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{Og=!1}var Fo=Og?{passive:!1}:!1,wL=function(e){return e.tagName==="TEXTAREA"},LP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wL(e)&&n[t]==="visible")},bL=function(e){return LP(e,"overflowY")},jL=function(e){return LP(e,"overflowX")},Sb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=VP(e,r);if(s){var i=$P(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},NL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},VP=function(e,t){return e==="v"?bL(t):jL(t)},$P=function(e,t){return e==="v"?SL(t):NL(t)},CL=function(e,t){return e==="h"&&t==="rtl"?-1:1},PL=function(e,t,n,r,s){var i=CL(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,f=a>0,d=0,h=0;do{var p=$P(e,l),y=p[0],v=p[1],w=p[2],x=v-w-i*y;(y||x)&&VP(e,l)&&(d+=x,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!s)||!f&&(Math.abs(h)<1||!s))&&(u=!0),u},Yu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nb=function(e){return[e.deltaX,e.deltaY]},Cb=function(e){return e&&"current"in e?e.current:e},EL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TL=0,Lo=[];function AL(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(TL++)[0],i=m.useState(FP)[0],a=m.useRef(e);m.useEffect(function(){a.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=ZF([e.lockRef.current],(e.shards||[]).map(Cb),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var x=Yu(v),g=n.current,b="deltaX"in v?v.deltaX:g[0]-x[0],j="deltaY"in v?v.deltaY:g[1]-x[1],N,P=v.target,E=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in v&&E==="h"&&P.type==="range")return!1;var C=Sb(E,P);if(!C)return!0;if(C?N=E:(N=E==="v"?"h":"v",C=Sb(E,P)),!C)return!1;if(!r.current&&"changedTouches"in v&&(b||j)&&(r.current=N),!N)return!0;var A=r.current||N;return PL(A,w,v,A==="h"?b:j,!0)},[]),c=m.useCallback(function(v){var w=v;if(!(!Lo.length||Lo[Lo.length-1]!==i)){var x="deltaY"in w?Nb(w):Yu(w),g=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&EL(N.delta,x)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var b=(a.current.shards||[]).map(Cb).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=b.length>0?l(w,b[0]):!a.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(v,w,x,g){var b={name:v,delta:w,target:x,should:g,shadowParent:_L(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),f=m.useCallback(function(v){n.current=Yu(v),r.current=void 0},[]),d=m.useCallback(function(v){u(v.type,Nb(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,Yu(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return Lo.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fo),document.addEventListener("touchmove",c,Fo),document.addEventListener("touchstart",f,Fo),function(){Lo=Lo.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Fo),document.removeEventListener("touchmove",c,Fo),document.removeEventListener("touchstart",f,Fo)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(i,{styles:kL(s)}):null,p?m.createElement(xL,{gapMode:e.gapMode}):null)}function _L(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RL=oL(MP,AL);var Ay=m.forwardRef(function(e,t){return m.createElement(uh,Ir({},e,{ref:t,sideCar:RL}))});Ay.classNames=uh.classNames;var IL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vo=new WeakMap,Zu=new WeakMap,Xu={},Hm=0,UP=function(e){return e&&(e.host||UP(e.parentNode))},OL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=UP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},DL=function(e,t,n,r){var s=OL(t,Array.isArray(e)?e:[e]);Xu[n]||(Xu[n]=new WeakMap);var i=Xu[n],a=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",v=(Vo.get(h)||0)+1,w=(i.get(h)||0)+1;Vo.set(h,v),i.set(h,w),a.push(h),v===1&&y&&Zu.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return f(t),l.clear(),Hm++,function(){a.forEach(function(d){var h=Vo.get(d)-1,p=i.get(d)-1;Vo.set(d,h),i.set(d,p),h||(Zu.has(d)||d.removeAttribute(r),Zu.delete(d)),p||d.removeAttribute(n)}),Hm--,Hm||(Vo=new WeakMap,Vo=new WeakMap,Zu=new WeakMap,Xu={})}},zP=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=IL(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),DL(r,s,n,"aria-hidden")):function(){return null}},_y="Dialog",[BP,l9]=Jn(_y),[ML,br]=BP(_y),WP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,f]=Rn({prop:r,defaultProp:s,onChange:i});return o.jsx(ML,{scope:t,triggerRef:l,contentRef:c,contentId:pr(),titleId:pr(),descriptionId:pr(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(d=>!d),[f]),modal:a,children:n})};WP.displayName=_y;var HP="DialogTrigger",qP=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(HP,n),i=Ae(t,s.triggerRef);return o.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Oy(s.open),...r,ref:i,onClick:oe(e.onClick,s.onOpenToggle)})});qP.displayName=HP;var Ry="DialogPortal",[FL,KP]=BP(Ry,{forceMount:void 0}),QP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=br(Ry,t);return o.jsx(FL,{scope:t,forceMount:n,children:m.Children.map(r,a=>o.jsx(jn,{present:n||i.open,children:o.jsx(rh,{asChild:!0,container:s,children:a})}))})};QP.displayName=Ry;var cf="DialogOverlay",GP=m.forwardRef((e,t)=>{const n=KP(cf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=br(cf,e.__scopeDialog);return i.modal?o.jsx(jn,{present:r||i.open,children:o.jsx(LL,{...s,ref:t})}):null});GP.displayName=cf;var LL=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(cf,n);return o.jsx(Ay,{as:gi,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ue.div,{"data-state":Oy(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),wo="DialogContent",YP=m.forwardRef((e,t)=>{const n=KP(wo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=br(wo,e.__scopeDialog);return o.jsx(jn,{present:r||i.open,children:i.modal?o.jsx(VL,{...s,ref:t}):o.jsx($L,{...s,ref:t})})});YP.displayName=wo;var VL=m.forwardRef((e,t)=>{const n=br(wo,e.__scopeDialog),r=m.useRef(null),s=Ae(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return zP(i)},[]),o.jsx(ZP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),$L=m.forwardRef((e,t)=>{const n=br(wo,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(ZP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZP=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=br(wo,n),c=m.useRef(null),u=Ae(t,c);return IP(),o.jsxs(o.Fragment,{children:[o.jsx(Ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(cu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Oy(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(UL,{titleId:l.titleId}),o.jsx(BL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Iy="DialogTitle",XP=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(Iy,n);return o.jsx(ue.h2,{id:s.titleId,...r,ref:t})});XP.displayName=Iy;var JP="DialogDescription",eE=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(JP,n);return o.jsx(ue.p,{id:s.descriptionId,...r,ref:t})});eE.displayName=JP;var tE="DialogClose",nE=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=br(tE,n);return o.jsx(ue.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});nE.displayName=tE;function Oy(e){return e?"open":"closed"}var rE="DialogTitleWarning",[c9,sE]=oD(rE,{contentName:wo,titleName:Iy,docsSlug:"dialog"}),UL=({titleId:e})=>{const t=sE(rE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zL="DialogDescriptionWarning",BL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sE(zL).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},WL=WP,HL=qP,qL=QP,iE=GP,oE=YP,aE=XP,lE=eE,KL=nE;const or=WL,QL=HL,GL=qL,cE=m.forwardRef(({className:e,...t},n)=>o.jsx(iE,{ref:n,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cE.displayName=iE.displayName;const Un=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(GL,{children:[o.jsx(cE,{}),o.jsxs(oE,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(KL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Xi,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Un.displayName=oE.displayName;const zn=({className:e,...t})=>o.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zn.displayName="DialogHeader";const Er=({className:e,...t})=>o.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Er.displayName="DialogFooter";const Bn=m.forwardRef(({className:e,...t},n)=>o.jsx(aE,{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));Bn.displayName=aE.displayName;const Wn=m.forwardRef(({className:e,...t},n)=>o.jsx(lE,{ref:n,className:te("text-sm text-muted-foreground",e),...t}));Wn.displayName=lE.displayName;function uE(){const{user:e}=ut(),t=(e==null?void 0:e.id)||"",{data:n,isLoading:r,error:s}=Pt({queryKey:["/api/user/qrcode"],queryFn:vy({on401:"returnNull"}),enabled:!!t});return r?o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-white p-4 rounded-md",children:o.jsx(At,{className:"h-12 w-12 animate-spin text-primary"})}):s||!(n!=null&&n.qrCode)?o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-white p-4 rounded-md",children:o.jsxs("div",{className:"w-full aspect-square relative border-4 border-primary",children:[o.jsx("div",{className:"border-4 border-primary absolute top-0 left-0 w-1/4 h-1/4 border-r-0 border-b-0"}),o.jsx("div",{className:"border-4 border-primary absolute top-0 right-0 w-1/4 h-1/4 border-l-0 border-b-0"}),o.jsx("div",{className:"border-4 border-primary absolute bottom-0 left-0 w-1/4 h-1/4 border-r-0 border-t-0"}),o.jsx("div",{className:"border-4 border-primary absolute bottom-0 right-0 w-1/4 h-1/4 border-l-0 border-t-0"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4 text-center",children:o.jsx("div",{className:"text-sm text-gray-600",children:"Unable to load QR code. Please try again later."})}),o.jsxs("div",{className:"absolute -bottom-8 left-0 right-0 text-center text-xs",children:["ID: ",t]})]})}):o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-white p-4 rounded-md",children:o.jsxs("div",{className:"w-full aspect-square relative",children:[o.jsx("img",{src:n.qrCode,alt:"User QR Code",className:"w-full h-full object-contain"}),o.jsxs("div",{className:"absolute -bottom-8 left-0 right-0 text-center text-xs",children:["ID: ",t]})]})})}const dE=m.createContext(void 0);function Ju(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!==t.length)return!1;const n=[...e].sort((s,i)=>s.name.localeCompare(i.name)),r=[...t].sort((s,i)=>s.name.localeCompare(i.name));return n.every((s,i)=>{const a=r[i];return s.name===a.name&&s.value===a.value&&s.priceAdjustment===a.priceAdjustment})}function qm(e){return!e||e.length===0?"":e.map(t=>t.name===t.value?t.value:`${t.value} ${t.name}`).join(", ")}const fE="bean-stalker-cart",YL=e=>{try{localStorage.setItem(fE,JSON.stringify(e))}catch(t){console.warn("Failed to save cart to localStorage:",t)}},ZL=()=>{try{const e=localStorage.getItem(fE);return e?JSON.parse(e):[]}catch(e){return console.warn("Failed to load cart from localStorage:",e),[]}};function XL({children:e}){const[t,n]=m.useState([]),{toast:r}=tt();m.useEffect(()=>{const d=ZL();d.length>0&&(n(d),r({title:"Cart restored",description:`${d.length} item${d.length>1?"s":""} restored from your previous session`,duration:3e3}))},[r]),m.useEffect(()=>{YL(t)},[t]);const s=d=>{n(h=>{const p=h.findIndex(y=>y.menuItemId===d.menuItemId&&(!y.size&&!d.size||y.size===d.size)&&(!y.option&&!d.option||y.option===d.option)&&Ju(y.options,d.options));if(p!==-1){const y=[...h];y[p]={...y[p],quantity:y[p].quantity+d.quantity};const v=d.size?` (${d.size})`:"",w=d.options&&d.options.length>0?` with ${qm(d.options)}`:d.option?` with ${d.option}`:"";return r({title:"Cart updated",description:`Increased ${d.name}${v}${w} quantity.`}),y}else{const y=d.size?` (${d.size})`:"",v=d.options&&d.options.length>0?` with ${qm(d.options)}`:d.option?` with ${d.option}`:"";return r({title:"Item added to cart",description:`${d.name}${y}${v} has been added to your cart.`}),[...h,d]}})},i=(d,h,p,y)=>{n(v=>{let w,x;if(h||p||y&&y.length>0?(w=v.filter(g=>{const b=h?g.size===h:!0,j=p?g.option===p:!0,N=y&&y.length>0?Ju(g.options||[],y):!0;return!(g.menuItemId===d&&b&&j&&N)}),x=v.find(g=>{const b=h?g.size===h:!0,j=p?g.option===p:!0,N=y&&y.length>0?Ju(g.options||[],y):!0;return g.menuItemId===d&&b&&j&&N})):(w=v.filter(g=>g.menuItemId!==d),x=v.find(g=>g.menuItemId===d)),x){const g=x.size?` (${x.size})`:"",b=x.options&&x.options.length>0?` with ${qm(x.options)}`:x.option?` with ${x.option}`:"";r({title:"Item removed",description:`${x.name}${g}${b} has been removed from your cart.`})}return w})},a=(d,h,p,y,v)=>{if(h<=0){i(d,p,y,v);return}n(w=>w.map(x=>{const g=p?x.size===p:!0,b=y?x.option===y:!0,j=v&&v.length>0?Ju(x.options||[],v):!0;if((p||y||v&&v.length>0)&&x.menuItemId===d){if(g&&b&&j)return{...x,quantity:h}}else if(!p&&!y&&(!v||v.length===0)&&x.menuItemId===d)return{...x,quantity:h};return x}))},l=()=>{n([])},c=()=>t.reduce((d,h)=>d+h.price*h.quantity,0),u=()=>0,f=()=>c();return o.jsx(dE.Provider,{value:{cart:t,addToCart:s,removeFromCart:i,updateCartItemQuantity:a,clearCart:l,calculateSubtotal:c,calculateTax:u,calculateTotal:f},children:e})}function cl(){const e=m.useContext(dE);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function yi(){const[e,t]=m.useState(!1),{logout:n,user:r}=ut(),{cart:s}=cl(),i=async()=>{await n()};return r?o.jsxs(o.Fragment,{children:[o.jsx("header",{className:"relative",children:o.jsx("div",{className:"bg-gradient-to-r from-green-800 to-green-700 text-white shadow-lg border-b border-green-600",children:o.jsx("div",{className:"px-4 py-3 pt-safe",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(MF,{className:"h-8 w-8 text-white"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"font-bold text-lg leading-tight",children:"Bean Stalker"}),o.jsx("p",{className:"text-green-100 text-xs",children:"Premium Coffee Experience"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(U,{variant:"ghost",size:"icon",className:"flex flex-col items-center h-auto w-auto text-green-100 hover:text-white hover:bg-green-800/50 transition-all duration-200",onClick:()=>t(!0),children:[o.jsx(kg,{className:"w-5 h-5"}),o.jsx("span",{className:"text-xs mt-1",children:"QR"})]}),o.jsx(lu,{href:"/cart",children:o.jsxs(U,{variant:"ghost",size:"icon",className:"flex flex-col items-center h-auto w-auto relative text-green-100 hover:text-white hover:bg-green-800/50 transition-all duration-200",children:[o.jsx(LF,{className:""}),o.jsx("span",{className:"text-xs mt-1",children:"Cart"}),s.length>0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-semibold",children:s.reduce((a,l)=>a+l.quantity,0)})]})}),o.jsxs(U,{variant:"ghost",size:"icon",className:"flex flex-col items-center h-auto w-auto text-green-100 hover:text-white hover:bg-green-800/50 transition-all duration-200",onClick:i,children:[o.jsx(VF,{className:""}),o.jsx("span",{className:"text-xs mt-1",children:"Logout"})]})]})]})})})}),o.jsx(or,{open:e,onOpenChange:t,children:o.jsxs(Un,{className:"sm:max-w-md",children:[o.jsxs(zn,{children:[o.jsxs(Bn,{className:"flex items-center gap-2",children:[o.jsx(FF,{className:"h-5 w-5"}),"Your QR Code"]}),o.jsx(Wn,{children:"Show this QR code to staff for quick identification and credit transfers."})]}),o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(uE,{})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Username: ",r.username]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This QR code contains your username for easy identification."})]})]})})]}):null}function nt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function xi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const hE=6048e5,JL=864e5,ed=43200,Pb=1440;let e4={};function hu(){return e4}function Ac(e,t){var l,c,u,f;const n=hu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=nt(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function uf(e){return Ac(e,{weekStartsOn:1})}function mE(e){const t=nt(e),n=t.getFullYear(),r=xi(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=uf(r),i=xi(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=uf(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Eb(e){const t=nt(e);return t.setHours(0,0,0,0),t}function df(e){const t=nt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function t4(e,t){const n=Eb(e),r=Eb(t),s=+n-df(n),i=+r-df(r);return Math.round((s-i)/JL)}function n4(e){const t=mE(e),n=xi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),uf(n)}function Nd(e,t){const n=nt(e),r=nt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function r4(e){return xi(e,Date.now())}function s4(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function i4(e){if(!s4(e)&&typeof e!="number")return!1;const t=nt(e);return!isNaN(Number(t))}function o4(e,t){const n=nt(e),r=nt(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function a4(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function l4(e,t){return+nt(e)-+nt(t)}function c4(e){const t=nt(e);return t.setHours(23,59,59,999),t}function u4(e){const t=nt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function d4(e){const t=nt(e);return+c4(t)==+u4(t)}function f4(e,t){const n=nt(e),r=nt(t),s=Nd(n,r),i=Math.abs(o4(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=Nd(n,r)===-s;d4(nt(e))&&i===1&&Nd(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function h4(e,t,n){const r=l4(e,t)/1e3;return a4(n==null?void 0:n.roundingMethod)(r)}function m4(e){const t=nt(e),n=xi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const p4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g4=(e,t,n)=>{let r;const s=p4[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Km(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const v4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w4={date:Km({formats:v4,defaultWidth:"full"}),time:Km({formats:y4,defaultWidth:"full"}),dateTime:Km({formats:x4,defaultWidth:"full"})},b4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j4=(e,t,n,r)=>b4[e];function Tl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const S4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T4=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A4={ordinalNumber:T4,era:Tl({values:S4,defaultWidth:"wide"}),quarter:Tl({values:N4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Tl({values:C4,defaultWidth:"wide"}),day:Tl({values:P4,defaultWidth:"wide"}),dayPeriod:Tl({values:E4,defaultWidth:"wide",formattingValues:k4,defaultFormattingWidth:"wide"})};function Al(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?R4(l,d=>d.test(a)):_4(l,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}function _4(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function R4(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function I4(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const O4=/^(\d+)(th|st|nd|rd)?/i,D4=/\d+/i,M4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F4={any:[/^b/i,/^(a|c)/i]},L4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V4={any:[/1/i,/2/i,/3/i,/4/i]},$4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q4={ordinalNumber:I4({matchPattern:O4,parsePattern:D4,valueCallback:e=>parseInt(e,10)}),era:Al({matchPatterns:M4,defaultMatchWidth:"wide",parsePatterns:F4,defaultParseWidth:"any"}),quarter:Al({matchPatterns:L4,defaultMatchWidth:"wide",parsePatterns:V4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Al({matchPatterns:$4,defaultMatchWidth:"wide",parsePatterns:U4,defaultParseWidth:"any"}),day:Al({matchPatterns:z4,defaultMatchWidth:"wide",parsePatterns:B4,defaultParseWidth:"any"}),dayPeriod:Al({matchPatterns:W4,defaultMatchWidth:"any",parsePatterns:H4,defaultParseWidth:"any"})},pE={code:"en-US",formatDistance:g4,formatLong:w4,formatRelative:j4,localize:A4,match:q4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K4(e){const t=nt(e);return t4(t,m4(t))+1}function Q4(e){const t=nt(e),n=+uf(t)-+n4(t);return Math.round(n/hE)+1}function gE(e,t){var f,d,h,p;const n=nt(e),r=n.getFullYear(),s=hu(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=xi(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Ac(a,t),c=xi(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Ac(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function G4(e,t){var l,c,u,f;const n=hu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=gE(e,t),i=xi(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ac(i,t)}function Y4(e,t){const n=nt(e),r=+Ac(n,t)-+G4(n,t);return Math.round(r/hE)+1}function Ye(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const _s={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ye(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ye(n+1,2)},d(e,t){return Ye(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ye(e.getHours()%12||12,t.length)},H(e,t){return Ye(e.getHours(),t.length)},m(e,t){return Ye(e.getMinutes(),t.length)},s(e,t){return Ye(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ye(s,t.length)}},$o={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return _s.y(e,t)},Y:function(e,t,n,r){const s=gE(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Ye(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ye(i,t.length)},R:function(e,t){const n=mE(e);return Ye(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ye(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return _s.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Y4(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ye(s,t.length)},I:function(e,t,n){const r=Q4(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ye(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_s.d(e,t)},D:function(e,t,n){const r=K4(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ye(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ye(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ye(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ye(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=$o.noon:r===0?s=$o.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=$o.evening:r>=12?s=$o.afternoon:r>=4?s=$o.morning:s=$o.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _s.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_s.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_s.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_s.s(e,t)},S:function(e,t){return _s.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ab(r);case"XXXX":case"XX":return $i(r);case"XXXXX":case"XXX":default:return $i(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ab(r);case"xxxx":case"xx":return $i(r);case"xxxxx":case"xxx":default:return $i(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Tb(r,":");case"OOOO":default:return"GMT"+$i(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Tb(r,":");case"zzzz":default:return"GMT"+$i(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ye(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ye(r,t.length)}};function Tb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Ye(i,2)}function Ab(e,t){return e%60===0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):$i(e,t)}function $i(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ye(Math.trunc(r/60),2),i=Ye(r%60,2);return n+s+t+i}const _b=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z4=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return _b(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",_b(r,t)).replace("{{time}}",vE(s,t))},X4={p:vE,P:Z4},J4=/^D+$/,e5=/^Y+$/,t5=["D","DD","YY","YYYY"];function n5(e){return J4.test(e)}function r5(e){return e5.test(e)}function s5(e,t,n){const r=i5(e,t,n);if(console.warn(r),t5.includes(e))throw new RangeError(r)}function i5(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l5=/^'([^]*?)'?$/,c5=/''/g,u5=/[a-zA-Z]/;function Rb(e,t,n){var f,d,h,p;const r=hu(),s=r.locale??pE,i=r.firstWeekContainsDate??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,a=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=nt(e);if(!i4(l))throw new RangeError("Invalid time value");let c=t.match(a5).map(y=>{const v=y[0];if(v==="p"||v==="P"){const w=X4[v];return w(y,s.formatLong)}return y}).join("").match(o5).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:d5(y)};if(kb[v])return{isToken:!0,value:y};if(v.match(u5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const v=y.value;(r5(v)||n5(v))&&s5(v,t,String(e));const w=kb[v[0]];return w(l,v,s.localize,u)}).join("")}function d5(e){const t=e.match(l5);return t?t[1].replace(c5,"'"):e}function f5(e,t,n){const r=hu(),s=(n==null?void 0:n.locale)??r.locale??pE,i=2520,a=Nd(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,u;a>0?(c=nt(t),u=nt(e)):(c=nt(e),u=nt(t));const f=h4(u,c),d=(df(u)-df(c))/1e3,h=Math.round((f-d)/60);let p;if(h<2)return n!=null&&n.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Pb){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<ed){const y=Math.round(h/Pb);return s.formatDistance("xDays",y,l)}else if(h<ed*2)return p=Math.round(h/ed),s.formatDistance("aboutXMonths",p,l)}if(p=f4(u,c),p<12){const y=Math.round(h/ed);return s.formatDistance("xMonths",y,l)}else{const y=p%12,v=Math.trunc(p/12);return y<3?s.formatDistance("aboutXYears",v,l):y<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function nc(e,t){return f5(e,r4(e),t)}const h5=[{id:"com.beanstalker.credits10",amount:10,price:10},{id:"com.beanstalker.credits25",amount:25,price:25,bonus:2},{id:"com.beanstalker.credits50",amount:50,price:50,bonus:5,popular:!0},{id:"com.beanstalker.credits100",amount:100,price:100,bonus:15}];function m5(){const[e,t]=m.useState(null),[n,r]=m.useState(!1),{purchaseProduct:s,isAvailable:i,isLoading:a}=cP(),l=rs.isNativePlatform(),c=async u=>{r(!0),t(u);try{const f=await s(u.id);f.success&&console.log("App Store purchase successful:",f)}catch(f){console.error("App Store purchase failed:",f)}finally{r(!1),t(null)}};return o.jsx("div",{className:"h-full max-h-[65vh] overflow-y-auto",children:o.jsxs("div",{className:"space-y-4 p-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 px-2",children:[o.jsx(HC,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs",children:"App Store In-App Purchase"})]}),o.jsx("div",{className:"space-y-3",children:h5.map(u=>o.jsxs(de,{className:`relative cursor-pointer transition-all duration-200 ${u.popular?"ring-2 ring-green-500 shadow-lg":"hover:shadow-md"}`,children:[u.popular&&o.jsx(Ze,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-green-500 text-xs",children:"Popular"}),o.jsx(fe,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Ha,{className:"h-4 w-4 text-green-600"}),o.jsxs("span",{className:"font-semibold text-lg",children:[u.amount+(u.bonus||0)," Credits"]})]}),u.bonus&&o.jsxs("p",{className:"text-xs text-green-600 mb-2",children:[u.amount," + ",u.bonus," bonus"]}),o.jsx("div",{className:"text-xl font-bold text-gray-900",children:xt(u.price)})]}),o.jsx(U,{onClick:()=>c(u),disabled:n||l&&a,size:"sm",variant:u.popular?"default":"outline",className:"ml-4",children:n&&(e==null?void 0:e.id)===u.id?o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Buy"})]})})]},u.id))}),o.jsxs("div",{className:"text-xs text-gray-500 space-y-1 px-2 pb-4",children:[o.jsx("p",{children:"• Secure payments processed by App Store"}),o.jsx("p",{children:"• Credits added immediately after purchase"}),o.jsx("p",{children:"• Credits never expire and can be used for any order"})]})]})})}function Ib(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}function Dy(){const{user:e}=ut(),{toast:t}=tt(),[n,r]=m.useState({isSupported:!1,isSubscribed:!1,subscription:null,isPending:!1,isPermissionDenied:!1}),s=ke({mutationFn:async c=>{const u=c.getKey("p256dh"),f=c.getKey("auth"),d=btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(u)))),h=btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(f))));return await(await ve("POST","/api/push/subscribe",{endpoint:c.endpoint,p256dh:d,auth:h})).json()},onSuccess:()=>{t({title:"Push Notifications Enabled",description:"You will now receive order status updates."})},onError:c=>{t({title:"Subscription Failed",description:c.message||"Failed to enable push notifications.",variant:"destructive"}),n.subscription&&"pushManager"in navigator.serviceWorker&&n.subscription.unsubscribe()}}),i=ke({mutationFn:async c=>await(await ve("DELETE","/api/push/unsubscribe",{endpoint:c})).json(),onSuccess:()=>{t({title:"Push Notifications Disabled",description:"You will no longer receive order status updates."})},onError:c=>{t({title:"Unsubscribe Failed",description:c.message||"Failed to disable push notifications.",variant:"destructive"})}});m.useEffect(()=>{if(!e)return;(async()=>{try{const u=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,f=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||u&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(navigator.userAgent),d=/chrome|crios/i.test(navigator.userAgent)&&!/edge|edg/i.test(navigator.userAgent),h=/firefox|fxios/i.test(navigator.userAgent),p=/edge|edg/i.test(navigator.userAgent);if(u&&f&&!d&&!h&&!p){console.log("Push notifications not supported on iOS Safari"),r(w=>({...w,isSupported:!1}));return}if(!("serviceWorker"in navigator)){console.log("Service Worker not supported"),r(w=>({...w,isSupported:!1}));return}if(!("PushManager"in window)){console.log("Push API not supported"),r(w=>({...w,isSupported:!1}));return}if(!("Notification"in window)){console.log("Notification API not supported"),r(w=>({...w,isSupported:!1}));return}try{if(!await navigator.serviceWorker.getRegistration()){console.log("No service worker registration found");try{await navigator.serviceWorker.register("/service-worker.js"),console.log("Service worker registered successfully")}catch(x){console.error("Failed to register service worker:",x),r(g=>({...g,isSupported:!1}));return}}}catch(w){console.error("Error checking service worker registration:",w),r(x=>({...x,isSupported:!1}));return}if(r(w=>({...w,isSupported:!0})),Notification.permission==="denied"){r(w=>({...w,isPermissionDenied:!0}));return}try{const x=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(r(g=>({...g,isSubscribed:!!x,subscription:x})),!x&&Notification.permission==="granted"){const g=localStorage.getItem("push-notifications-enabled");e.isAdmin?(console.log("Auto-subscribing admin user to push notifications"),localStorage.setItem("push-notifications-enabled","true"),setTimeout(()=>{a()},500)):(g===null||g==="true")&&(console.log("Auto-subscribing to push notifications"),setTimeout(()=>{a()},500))}else Notification.permission!=="denied"&&!x&&(e.isAdmin?(console.log("Requesting permission for admin user"),localStorage.setItem("push-notifications-enabled","true"),setTimeout(()=>{a()},1e3)):localStorage.getItem("push-notifications-enabled")===null&&(localStorage.setItem("push-notifications-enabled","true"),setTimeout(()=>{a()},3e3)))}catch(w){console.error("Error getting service worker registration:",w),r(x=>({...x,isSupported:!1}))}}catch(u){console.error("Error checking push support:",u),r(f=>({...f,isSupported:!1}))}})()},[e]);const a=async()=>{var c;if(!(!n.isSupported||!e||n.isSubscribed||n.isPending||n.isPermissionDenied)){r(u=>({...u,isPending:!0}));try{let u;try{const j=await navigator.serviceWorker.getRegistration();j?u=j:(console.log("No service worker found, registering new one..."),u=await navigator.serviceWorker.register("/service-worker.js"),u.installing&&(console.log("Waiting for service worker to be activated..."),await new Promise(N=>{var P;(P=u.installing)==null||P.addEventListener("statechange",E=>{E.target.state==="activated"&&N()})})))}catch(j){throw console.error("Error with service worker registration:",j),new Error("Service worker registration failed. Please reload the page and try again.")}const f=await Notification.requestPermission();if(f!=="granted"){r(j=>({...j,isPending:!1,isPermissionDenied:f==="denied"}));return}const d=await navigator.serviceWorker.ready;let h="",p=0;const y=2;for(;p<=y;)try{console.log(`Fetching VAPID key from server (attempt ${p+1}/${y+1})`);const j=await fetch("/api/push/vapid-key");if(j.ok){h=(await j.json()).publicKey,console.log("Retrieved VAPID public key from server:",h.substring(0,10)+"...");break}else if(console.warn(`Server returned ${j.status} when fetching VAPID key`),p++,p<=y){const N=Math.min(1e3*Math.pow(2,p),5e3);console.log(`Waiting ${N}ms before retry ${p}/${y}`),await new Promise(P=>setTimeout(P,N))}}catch(j){if(console.warn(`Error fetching VAPID key (attempt ${p+1}/${y+1}):`,j),p++,p<=y){const N=Math.min(1e3*Math.pow(2,p),5e3);console.log(`Waiting ${N}ms before retry ${p}/${y}`),await new Promise(P=>setTimeout(P,N))}}h||(h="BLeQMZeMxGSl0T1YGtCufXPz6aKE8c7ItAwJ5bAavW8FSz0d-Czw5wR-nvGVIhhjkRPs2vok9MzViHINmzdCdCQ",console.log("Using fallback VAPID public key after all server requests failed"));let v=Ib(h);const w=navigator.userAgent;console.log("Subscribing with user agent:",w),console.log("Is Windows:",w.includes("Windows")),console.log("Is Edge:",w.includes("Edg"));let x=null,g=0;const b=2;for(;g<=b;)try{console.log(`Attempting to subscribe (attempt ${g+1}/${b+1})`);const j=d.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:v}),N=new Promise((P,E)=>{setTimeout(()=>E(new Error("Subscription request timed out")),1e4)});x=await Promise.race([j,N]),console.log("Successfully created push subscription on attempt",g+1);break}catch(j){console.error(`Push subscription error (attempt ${g+1}):`,j);const N=((c=j==null?void 0:j.message)==null?void 0:c.toLowerCase())||"",P=N.includes("key")||N.includes("invalid")||N.includes("token")||N.includes("vapid"),E=navigator.userAgent.includes("Windows");try{const A=await d.pushManager.getSubscription();A&&(console.log("Found existing subscription, unsubscribing first"),await A.unsubscribe(),console.log("Successfully unsubscribed from existing subscription"))}catch(A){console.error("Error while trying to unsubscribe:",A)}if(g++,g>b)throw console.error("All subscription attempts failed, giving up"),j;const C=Math.min(1e3*Math.pow(2,g),5e3);if(console.log(`Waiting ${C}ms before retry ${g}/${b}`),await new Promise(A=>setTimeout(A,C)),P||E&&g===1){console.log("Potential VAPID key issue detected, fetching fresh key");try{const A=await fetch("/api/push/vapid-key");if(A.ok){const M=(await A.json()).publicKey;console.log("Fetched fresh VAPID key:",M.substring(0,10)+"..."),M!==h?(console.log("Received different VAPID key from server, using the new one"),h=M,v=Ib(h)):console.log("VAPID key from server is the same as before")}}catch(A){console.error("Failed to fetch fresh VAPID key:",A)}}}if(!x)throw new Error("Failed to create subscription");console.log("Successfully created push subscription"),console.log("Endpoint:",x.endpoint.substring(0,100)+"..."),await s.mutateAsync(x),r(j=>({...j,isSubscribed:!0,subscription:x,isPending:!1})),localStorage.setItem("push-notifications-enabled","true")}catch(u){console.error("Error subscribing to push notifications:",u),r(f=>({...f,isPending:!1})),t({title:"Subscription Failed",description:u instanceof Error?u.message:"There was an error enabling push notifications. Please try again.",variant:"destructive"})}}};return{...n,subscribe:a,unsubscribe:async()=>{if(!(!n.isSupported||!n.isSubscribed||!n.subscription||n.isPending)){r(c=>({...c,isPending:!0}));try{const c=n.subscription.endpoint;console.log("Attempting to unsubscribe from push notifications"),console.log("Endpoint:",c.substring(0,50)+"...");try{const u=n.subscription.unsubscribe(),f=new Promise((d,h)=>{setTimeout(()=>h(new Error("Unsubscribe request timed out")),5e3)});await Promise.race([u,f]),console.log("Successfully unsubscribed on client side")}catch(u){console.error("Error during client-side unsubscribe:",u),console.log("Continuing with server-side unsubscribe")}await i.mutateAsync(c),console.log("Successfully unsubscribed on server side"),r(u=>({...u,isSubscribed:!1,subscription:null,isPending:!1})),localStorage.setItem("push-notifications-enabled","false")}catch(c){console.error("Error unsubscribing from push notifications:",c),r(u=>({...u,isSubscribed:!1,subscription:null,isPending:!1})),t({title:"Unsubscribe Had Issues",description:"There was an error while disabling push notifications. You may need to manually deny permission in your browser settings.",variant:"destructive"})}}}}}const p5=m.createContext({enabled:!1,enableNotifications:()=>{},disableNotifications:()=>{},lastChecked:null,isInitializing:!1}),Ob=()=>{if(typeof window>"u"||typeof navigator>"u")return!1;const e=navigator.userAgent.toLowerCase(),t=/ipad|iphone|ipod/.test(e),n=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,r=e.includes("safari")&&!e.includes("chrome")&&(e.includes("apple")||e.includes("ios")),s=t||n||r;return s&&console.log("iOS device detected via:",{userAgent:t,platform:n,safari:r}),s};function g5({children:e}){const t=My();return o.jsx(p5.Provider,{value:t,children:e})}function My(){const{toast:e}=tt(),{user:t}=ut(),[n]=m.useState(()=>{if(typeof window<"u"){const v=Ob();return console.log("iOS device detection on init:",v),v}return!1}),[r,s]=m.useState(!0);m.useEffect(()=>{console.log(`iOS notification service initialization state: ${r?"initializing":"ready"}`)},[r]);const[i,a]=m.useState({}),[l,c]=m.useState(()=>{if(typeof window<"u"){const v=localStorage.getItem("use-alternative-notifications"),w=n?!0:v!==null?v==="true":!0;return console.log("In-app notifications enabled:",w,"iOS:",n),w}return!0}),[u,f]=m.useState(null),[d,h]=m.useState(()=>typeof window<"u"?localStorage.getItem("last-seen-order-update"):null);return m.useEffect(()=>{typeof window<"u"&&localStorage.setItem("use-alternative-notifications",l.toString())},[l]),m.useEffect(()=>{if(!l||!t)return;const v=Ob();console.log("Device is iOS:",v),console.log("Starting in-app notification polling for orders");const w=async()=>{try{console.log("Checking for order updates via in-app notifications");const b=await(await ve("GET","/api/orders")).json();if(!b||b.length===0){r&&(console.log("No orders found on first load, marking initialization complete"),s(!1));return}const j=[...b].sort((C,A)=>new Date(A.updatedAt||A.createdAt).getTime()-new Date(C.updatedAt||C.createdAt).getTime());console.log(`Found ${j.length} orders to check:`),j.forEach((C,A)=>{console.log(`Order #${A+1}: id=${C.id}, status=${C.status}, userId=${C.userId}`)});const N=j.filter(C=>C.userId===(t==null?void 0:t.id));if(console.log(`Found ${N.length} orders for current user (id: ${t==null?void 0:t.id})`),r){console.log("First load of orders after login, initializing order cache without notifications");const C={};N.forEach(A=>{const _=A.updatedAt||A.createdAt,M=`order-${A.id}-${_}`;localStorage.setItem(M,"seen"),C[A.id]=A.status,_&&(h(_),localStorage.setItem("last-seen-order-update",_))}),a(C),console.log("Initial order statuses:",C),s(!1);return}const P={};N.forEach(C=>{P[C.id]=C.status});const E=N.filter(C=>i[C.id]!==void 0&&i[C.id]!==C.status);E.length>0&&console.log("Detected status changes:",E.map(C=>({id:C.id,oldStatus:i[C.id],newStatus:C.status})));for(const C of N){const A=C.updatedAt||C.createdAt,_=`order-${C.id}-${A}`,M=i[C.id]!==void 0&&i[C.id]!==C.status,I=!localStorage.getItem(_);if(M||I){console.log(`Showing in-app notification for order #${C.id} update to ${C.status}`),M&&console.log(`Status changed from ${i[C.id]} to ${C.status}`);let V=`Your order is now ${C.status.toLowerCase()}`;C.status.toLowerCase()==="completed"?V="Your order is ready for pickup!":C.status.toLowerCase()==="processing"?V="Your order is being prepared.":C.status.toLowerCase()==="cancelled"&&(V="Your order has been cancelled.");const F="☕ ";if(v&&typeof window<"u")try{const X=new Audio("/notification-sound.mp3");X.volume=.7,X.play().catch(Y=>{console.log("Could not play notification sound:",Y)})}catch(X){console.error("Error playing notification sound:",X)}e({title:`${F}Order #${C.id} Update`,description:V,duration:v?1e4:5e3,variant:v?"destructive":"default",className:v?"ios-notification":""}),console.log(`In-app notification shown for order #${C.id}:`,{status:C.status,message:V,device:v?"iOS":"other",time:new Date().toISOString()}),localStorage.setItem(_,"seen"),h(A),localStorage.setItem("last-seen-order-update",A);break}}a(P),console.log("Updated order status map:",P)}catch(g){console.error("Error checking for order updates:",g)}finally{f(new Date)}};w();const x=setInterval(w,5e3);return()=>clearInterval(x)},[l,t,e,d,r,i]),{enabled:l,enableNotifications:()=>c(!0),disableNotifications:()=>c(!1),lastChecked:u,isInitializing:r}}const yE=m.createContext({isReady:!1,notificationsEnabled:!1,forceRefreshOrders:()=>{}});function v5({children:e}){const{user:t}=ut(),{toast:n}=tt(),[r,s]=m.useState(!1),i=m.useRef(new Set),a=m.useRef(null),{isSupported:l,isSubscribed:c}=Dy(),{enabled:u}=My(),f=c||u,d=m.useCallback(()=>{console.log("Force refreshing orders from context"),pe.invalidateQueries({queryKey:["/api/orders"]})},[]),h=m.useCallback(p=>{var y,v,w,x;if(p.data){if(console.log("Received message from service worker:",p.data.type),p.data.type==="VERIFY_NOTIFICATION_USER"&&(t!=null&&t.id)){console.log("Verifying user ID for notification display",t.id);const P=p.data.notificationData,E=(y=P==null?void 0:P.data)==null?void 0:y.userId;console.log("Notification target user ID:",E,"Current user ID:",t.id,"Types:",typeof E,typeof t.id),E&&String(E)===String(t.id)?(console.log("User ID match confirmed, sending notification data back for display"),(v=navigator.serviceWorker.controller)==null||v.postMessage({type:"USER_ID_FOR_TEST_NOTIFICATION",userId:t.id,notificationData:P})):(console.log("User ID mismatch, notification not intended for this user"),console.log(E?`Notification was intended for user ${E} but current user is ${t.id}`:"Notification has no target user ID"));return}if(p.data.type==="CHECK_USER_ID_FOR_NOTIFICATION"&&(t!=null&&t.id)){console.log("Service worker is checking user ID for notification",t.id),(w=navigator.serviceWorker.controller)==null||w.postMessage({type:"USER_ID_FOR_TEST_NOTIFICATION",userId:t.id,notificationData:p.data.data});return}if((p.data.type==="NOTIFICATION_SHOWN"||p.data.type==="NOTIFICATION_CLICKED"||p.data.type==="TEST_NOTIFICATION")&&(console.log(`Received ${p.data.type} message from service worker:`,p.data),p.data.type==="TEST_NOTIFICATION"&&(t!=null&&t.id))){console.log("Received test notification request, passing user ID to service worker"),(x=navigator.serviceWorker.controller)==null||x.postMessage({type:"USER_ID_FOR_TEST_NOTIFICATION",userId:t.id,notificationData:p.data.notificationData});return}let g,b;if(p.data.data&&(typeof p.data.data.orderId=="number"?g=p.data.data.orderId:typeof p.data.data.orderId=="string"&&!isNaN(parseInt(p.data.data.orderId))&&(g=parseInt(p.data.data.orderId)),typeof p.data.data.status=="string"&&(b=p.data.data.status)),p.data.type==="NOTIFICATION_CLICKED"){console.log("Notification clicked, refreshing order data"),pe.invalidateQueries({queryKey:["/api/orders"]}),g&&pe.invalidateQueries({queryKey:[`/api/orders/${g}`]});return}const j=`${p.data.title}-${p.data.body}-${p.data.timestamp||Date.now()}`,N=g?`${j}-order-${g}`:j;if(!i.current.has(N)){if(i.current.add(N),i.current.size>50){const E=Array.from(i.current),C=new Set(E.slice(E.length-50));i.current=C}if(g!==void 0||p.data.title&&p.data.title.toLowerCase().includes("order")||p.data.body&&(p.data.body.toLowerCase().includes("order")||p.data.body.toLowerCase().includes("ready")||p.data.body.toLowerCase().includes("prepared")||p.data.body.toLowerCase().includes("cancelled")||p.data.body.toLowerCase().includes("completed"))){console.log("Invalidating orders cache due to order notification"),pe.invalidateQueries({queryKey:["/api/orders"]}),g&&!isNaN(g)?(console.log(`Fetching specific order details for order #${g}`),pe.invalidateQueries({queryKey:[`/api/orders/${g}`]}),fetch(`/api/orders/${g}`).then(C=>{if(!C.ok)throw new Error("Failed to fetch order details");return C.json()}).then(C=>{console.log("Successfully fetched order details:",C);const A=C.status||b||"updated";let _=`Your order is now ${A.toLowerCase()}`;A.toLowerCase()==="completed"?_="Your order is ready for pickup!":A.toLowerCase()==="cancelled"?_="Your order has been cancelled.":A.toLowerCase()==="processing"&&(_="Your order is being prepared."),n({title:`Order #${C.id} Update`,description:_,duration:5e3})}).catch(C=>{console.error("Error fetching order details:",C),n({title:p.data.title||"Order Update",description:p.data.body||"Your order status has been updated.",duration:5e3})})):n({title:p.data.title||"Order Update",description:p.data.body||"Your order status has been updated.",duration:5e3}),a.current&&window.clearInterval(a.current);let E=0;a.current=window.setInterval(()=>{E<20?(console.log("Polling orders (notification triggered)"),pe.invalidateQueries({queryKey:["/api/orders"]}),g&&pe.invalidateQueries({queryKey:[`/api/orders/${g}`]}),E++):a.current&&(window.clearInterval(a.current),a.current=null)},3e3)}else n({title:p.data.title||"Notification",description:p.data.body||"You have a new notification",duration:5e3})}}},[n,pe,t]);return m.useEffect(()=>{if(!t){s(!1);return}console.log("PushNotificationContext: Setting up service worker listener for user",t.id),s(!0);const p=()=>{document.visibilityState==="visible"&&(t!=null&&t.id)&&(console.log("Document became visible, notifying service worker with user ID:",t.id),setTimeout(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"APP_VISIBLE",userId:t.id,timestamp:Date.now()})},200),d())};return"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("message",h),navigator.serviceWorker.ready.then(y=>{var v;console.log("Service worker is active and ready:",(v=y.active)==null?void 0:v.state),t!=null&&t.id&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"APP_VISIBLE",userId:t.id,timestamp:Date.now()})}),document.addEventListener("visibilitychange",p)),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",h),document.removeEventListener("visibilitychange",p),a.current&&(window.clearInterval(a.current),a.current=null)}},[t,h,d]),o.jsx(yE.Provider,{value:{isReady:r,notificationsEnabled:f,forceRefreshOrders:d},children:e})}function y5(){return m.useContext(yE)}function x5(){const{user:e}=ut(),[t,n]=au(),[r,s]=m.useState(!1),{toast:i}=tt(),{notificationsEnabled:a}=y5(),{addToCart:l}=cl(),{data:c=[]}=Pt({queryKey:["/api/orders"],refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:5e3}),u=ke({mutationFn:async()=>(await ve("POST","/api/square/sync-my-orders")).json(),onSuccess:p=>{pe.invalidateQueries({queryKey:["/api/orders"]}),p.updatedOrders&&p.updatedOrders.length>0?i({title:"Orders Updated",description:`${p.updatedOrders.length} order(s) status updated from Square Kitchen`}):i({title:"Up to Date",description:"All orders are already up to date"})},onError:p=>{i({title:"Sync Failed",description:p.message||"Failed to sync with Square Kitchen",variant:"destructive"})}});m.useEffect(()=>{if(!e)return;if(!("serviceWorker"in navigator)){console.log("Service worker not available");return}console.log("Home page notification setup. Notifications enabled:",a);const p=y=>{console.log("Service worker message received in home page:",y.data),y.data&&y.data.type==="NOTIFICATION_SHOWN"&&(y.data.title&&y.data.title.toLowerCase().includes("order")||y.data.body&&y.data.body.toLowerCase().includes("order"))&&console.log("Order notification received, refreshing orders list")};return navigator.serviceWorker.addEventListener("message",p),()=>{navigator.serviceWorker.removeEventListener("message",p)}},[e,a]);const f=[...c].sort((p,y)=>new Date(y.createdAt).getTime()-new Date(p.createdAt).getTime()).slice(0,3),d=async()=>{if(e)try{const y=await(await ve("GET","/api/favorites")).json();if(y.length===0){i({title:"No Favorites Found",description:"You haven't marked any items as favorites yet. Visit the menu to add favorites!",variant:"default"});return}let v=0;for(const w of y)try{l({menuItemId:w.id,name:w.name,price:w.price,quantity:1,imageUrl:w.imageUrl||void 0,size:w.hasSizes?"small":void 0,options:[]}),v++}catch(x){console.error(`Error adding ${w.name} to cart:`,x)}i({title:"Favorites Added to Cart",description:`${v} favorite item${v!==1?"s":""} added to your cart!`})}catch(p){console.error("Error ordering favorites:",p),i({title:"Error",description:"Failed to load your favorite items. Please try again.",variant:"destructive"})}},h=()=>{n("/profile")};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 via-gray-50 to-green-50/30",children:[o.jsx(yi,{}),o.jsxs("main",{className:"flex-1 px-6 py-8 max-w-7xl mx-auto w-full",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h1",{className:"text-xl font-semibold text-gray-900 mb-1",children:["Welcome back, ",e==null?void 0:e.username]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account and enjoy premium coffee experiences"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs(de,{className:"lg:col-span-2 bg-gradient-to-br from-green-800 via-green-700 to-green-900 border-0 shadow-xl relative overflow-hidden group hover:shadow-2xl transition-all duration-300",children:[o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(circle at 20% 80%, white 1px, transparent 1px), radial-gradient(circle at 80% 20%, white 1px, transparent 1px)",backgroundSize:"20px 20px"}})}),o.jsx(fe,{className:"p-8",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"text-white",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Ha,{className:"h-5 w-5 text-green-300"}),o.jsx("span",{className:"text-sm font-medium text-green-100",children:"Available Balance"})]}),o.jsxs("div",{className:"text-4xl font-bold mb-2",children:["$",e==null?void 0:e.credits.toFixed(2)]}),o.jsx("p",{className:"text-green-100/80 text-sm",children:"Ready for your next order"})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(U,{className:"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 transition-all duration-200 border border-white/30",onClick:()=>s(!0),children:[o.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Add Credits"]}),(e==null?void 0:e.credits)&&e.credits>0&&o.jsxs(U,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white hover:bg-white/10 transition-all duration-200",onClick:()=>n("/send-credits"),children:[o.jsx(Uw,{className:"h-4 w-4 mr-2"}),"Send Credits"]})]})]})})]}),o.jsx(de,{className:"lg:col-span-3 bg-white border-2 border-green-200 shadow-sm hover:shadow-md hover:border-green-300 transition-all duration-300 cursor-pointer group mb-6",children:o.jsx(fe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-gray-900",children:[o.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Order Your Favorites"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Quick access to your most loved items"})]}),o.jsxs(U,{className:"bg-green-600 hover:bg-green-700 text-white transition-all duration-200",onClick:d,children:[o.jsx(fu,{className:"h-4 w-4 mr-2"}),"Order Now"]})]})})}),o.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[o.jsx(de,{className:"bg-white border-2 border-green-200 shadow-sm hover:shadow-md hover:border-green-300 transition-all duration-300 cursor-pointer group",onClick:()=>n("/menu"),children:o.jsxs(fe,{className:"p-4 text-center",children:[o.jsx(Wa,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-gray-900 font-semibold text-sm",children:"Order Coffee"})]})}),o.jsx(de,{className:"bg-white border-2 border-blue-200 shadow-sm hover:shadow-md hover:border-blue-300 transition-all duration-300 cursor-pointer group",onClick:()=>s(!0),children:o.jsxs(fe,{className:"p-4 text-center",children:[o.jsx(Tc,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-gray-900 font-semibold text-sm",children:"Buy Credits"})]})}),o.jsx(de,{className:"bg-white border-2 border-purple-200 shadow-sm hover:shadow-md hover:border-purple-300 transition-all duration-300 cursor-pointer group",onClick:()=>n("/send-credits"),children:o.jsxs(fe,{className:"p-4 text-center",children:[o.jsx(Uw,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-gray-900 font-semibold text-sm",children:"Send Credits"})]})}),o.jsx(de,{className:"bg-white border-2 border-orange-200 shadow-sm hover:shadow-md hover:border-orange-300 transition-all duration-300 cursor-pointer group",onClick:h,children:o.jsxs(fe,{className:"p-4 text-center",children:[o.jsx(nM,{className:"h-6 w-6 text-orange-600 mx-auto mb-2"}),o.jsx("h3",{className:"text-gray-900 font-semibold text-sm",children:"Profile Settings"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(de,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(fe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(rM,{className:"h-5 w-5 text-green-600"}),"Recent Orders"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>u.mutate(),disabled:u.isPending,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx(oh,{className:`h-4 w-4 mr-1 ${u.isPending?"animate-spin":""}`}),u.isPending?"Syncing...":"Check Updates"]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>n("/orders"),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:"View All"})]})]}),o.jsx("div",{className:"space-y-3",children:f.length>0?f.slice(0,3).map(p=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Order #",p.id]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[Array.isArray(p.items)?`${p.items.length} ${p.items.length===1?"item":"items"}`:"1 item"," • ",xt(p.total)]}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:nc(new Date(p.createdAt),{addSuffix:!0})})]}),o.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${p.status==="completed"?"bg-green-100 text-green-600":p.status==="pending"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"}`,children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]},p.id)):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(af,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"No recent orders"}),o.jsx(U,{variant:"outline",size:"sm",className:"mt-2 border-green-200 text-green-600 hover:bg-green-50",onClick:()=>n("/menu"),children:"Start Ordering"})]})})]})}),o.jsx(de,{className:"bg-white border border-gray-200 shadow-sm",children:o.jsxs(fe,{className:"p-6",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(li,{className:"h-5 w-5 text-green-600"}),"Account Summary"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Ha,{className:"h-4 w-4 text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:"Current Balance"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Available credits"})]})]}),o.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["$",e==null?void 0:e.credits.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(sa,{className:"h-4 w-4 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:"Membership Status"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Premium member"})]})]}),o.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Active"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(af,{className:"h-4 w-4 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:"Total Orders"}),o.jsx("div",{className:"text-xs text-gray-600",children:"Lifetime orders"})]})]}),o.jsx("div",{className:"text-sm font-medium text-purple-600",children:c.length})]})]})]})})]})]}),o.jsx(or,{open:r,onOpenChange:s,children:o.jsxs(Un,{children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:"Buy Credits"}),o.jsx(Wn,{children:"Add credits to your account to use for purchases."})]}),o.jsx(m5,{}),o.jsx(Er,{className:"mt-4",children:o.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Close"})})]})})]})}function Dg(e,[t,n]){return Math.min(n,Math.max(t,e))}function w5(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Fy="ScrollArea",[xE,u9]=Jn(Fy),[b5,er]=xE(Fy),wE=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=m.useState(null),[u,f]=m.useState(null),[d,h]=m.useState(null),[p,y]=m.useState(null),[v,w]=m.useState(null),[x,g]=m.useState(0),[b,j]=m.useState(0),[N,P]=m.useState(!1),[E,C]=m.useState(!1),A=Ae(t,M=>c(M)),_=ll(s);return o.jsx(b5,{scope:n,type:r,dir:_,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:P,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:g,onCornerHeightChange:j,children:o.jsx(ue.div,{dir:_,...a,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});wE.displayName=Fy;var bE="ScrollAreaViewport",jE=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...a}=e,l=er(bE,n),c=m.useRef(null),u=Ae(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),o.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...a,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:_5({asChild:s,children:r},f=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});jE.displayName=bE;var Hr="ScrollAreaScrollbar",Ly=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=er(Hr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(j5,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(S5,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(SE,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(Vy,{...r,ref:t}):null});Ly.displayName=Hr;var j5=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=er(Hr,e.__scopeScrollArea),[i,a]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},f=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(jn,{present:n||i,children:o.jsx(SE,{"data-state":i?"visible":"hidden",...r,ref:t})})}),S5=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=er(Hr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=fh(()=>c("SCROLL_END"),100),[l,c]=w5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,f=i?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(c("SCROLL"),a()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,a]),o.jsx(jn,{present:n||l!=="hidden",children:o.jsx(Vy,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),SE=m.forwardRef((e,t)=>{const n=er(Hr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=m.useState(!1),l=e.orientation==="horizontal",c=fh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:f)}},10);return Qa(n.viewport,c),Qa(n.content,c),o.jsx(jn,{present:r||i,children:o.jsx(Vy,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Vy=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=er(Hr,e.__scopeScrollArea),i=m.useRef(null),a=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=kE(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function d(h,p){return T5(h,a.current,l,p)}return n==="horizontal"?o.jsx(N5,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=Db(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=d(h,s.dir))}}):n==="vertical"?o.jsx(C5,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=Db(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=d(h))}}):null}),N5=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=er(Hr,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Ae(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(CE,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dh(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),AE(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:hf(a.paddingLeft),paddingEnd:hf(a.paddingRight)}})}})}),C5=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=er(Hr,e.__scopeScrollArea),[a,l]=m.useState(),c=m.useRef(null),u=Ae(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(CE,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dh(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),AE(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:hf(a.paddingTop),paddingEnd:hf(a.paddingBottom)}})}})}),[P5,NE]=xE(Hr),CE=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,p=er(Hr,n),[y,v]=m.useState(null),w=Ae(t,A=>v(A)),x=m.useRef(null),g=m.useRef(""),b=p.viewport,j=r.content-r.viewport,N=Et(f),P=Et(c),E=fh(d,10);function C(A){if(x.current){const _=A.clientX-x.current.left,M=A.clientY-x.current.top;u({x:_,y:M})}}return m.useEffect(()=>{const A=_=>{const M=_.target;(y==null?void 0:y.contains(M))&&N(_,j)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,y,j,N]),m.useEffect(P,[r,P]),Qa(y,E),Qa(p.content,E),o.jsx(P5,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Et(i),onThumbPointerUp:Et(a),onThumbPositionChange:P,onThumbPointerDown:Et(l),children:o.jsx(ue.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:oe(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),x.current=y.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:oe(e.onPointerMove,C),onPointerUp:oe(e.onPointerUp,A=>{const _=A.target;_.hasPointerCapture(A.pointerId)&&_.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),ff="ScrollAreaThumb",PE=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=NE(ff,e.__scopeScrollArea);return o.jsx(jn,{present:n||s.hasThumb,children:o.jsx(E5,{ref:t,...r})})}),E5=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=er(ff,n),a=NE(ff,n),{onThumbPositionChange:l}=a,c=Ae(t,d=>a.onThumbChange(d)),u=m.useRef(),f=fh(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(f(),!u.current){const p=A5(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,f,l]),o.jsx(ue.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),y=d.clientX-p.left,v=d.clientY-p.top;a.onThumbPointerDown({x:y,y:v})}),onPointerUp:oe(e.onPointerUp,a.onThumbPointerUp)})});PE.displayName=ff;var $y="ScrollAreaCorner",EE=m.forwardRef((e,t)=>{const n=er($y,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(k5,{...e,ref:t}):null});EE.displayName=$y;var k5=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=er($y,n),[i,a]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return Qa(s.scrollbarX,()=>{var d;const f=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),Qa(s.scrollbarY,()=>{var d;const f=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(f),a(f)}),u?o.jsx(ue.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function hf(e){return e?parseInt(e,10):0}function kE(e,t){const n=e/t;return isNaN(n)?0:n}function dh(e){const t=kE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function T5(e,t,n,r="ltr"){const s=dh(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return TE([c,u],d)(e)}function Db(e,t,n="ltr"){const r=dh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=Dg(e,c);return TE([0,a],[0,l])(u)}function TE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function AE(e,t){return e>0&&e<t}var A5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function fh(e,t){const n=Et(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Qa(e,t){const n=Et(t);$t(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function _5(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=m.Children.only(r);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var _E=wE,R5=jE,I5=EE;const RE=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(_E,{ref:r,className:te("relative overflow-hidden",e),...n,children:[o.jsx(R5,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Uy,{}),o.jsx(I5,{})]}));RE.displayName=_E.displayName;const Uy=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(Ly,{ref:r,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(PE,{className:"relative flex-1 rounded-full bg-border"})}));Uy.displayName=Ly.displayName;function O5({categories:e,selectedCategory:t,onSelectCategory:n}){const r=m.useRef(null);return o.jsxs(RE,{className:"w-full whitespace-nowrap mb-6",children:[o.jsxs("div",{className:"flex space-x-2 py-4",ref:r,children:[o.jsx(Ze,{variant:t==="all"?"selectedCategory":"unselectedCategory",className:"cursor-pointer px-4 py-2 text-sm rounded-full",onClick:()=>n("all"),children:"All"}),e.map(s=>o.jsx(Ze,{variant:t===s?"selectedCategory":"unselectedCategory",className:"cursor-pointer px-4 py-2 text-sm rounded-full",onClick:()=>n(s),children:s.charAt(0).toUpperCase()+s.slice(1).replace(/-/g," ")},s))]}),o.jsx(Uy,{orientation:"horizontal"})]})}function Mb({item:e,onClick:t}){const{user:n}=ut(),r=Wr(),{toast:s}=tt(),{data:i}=Pt({queryKey:["/api/favorites",e.id],queryFn:async()=>{if(!n)return{isFavorite:!1};try{return await(await ve("GET",`/api/favorites/${e.id}`)).json()}catch{return{isFavorite:!1}}},enabled:!!n}),a=ke({mutationFn:async()=>(await ve("POST","/api/favorites",{menuItemId:e.id})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/favorites"]}),r.invalidateQueries({queryKey:["/api/favorites",e.id]}),s({title:"Added to favorites",description:`${e.name} has been added to your favorites.`})},onError:u=>{s({title:"Failed to add favorite",description:u.message,variant:"destructive"})}}),l=ke({mutationFn:async()=>(await ve("DELETE",`/api/favorites/${e.id}`)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/favorites"]}),r.invalidateQueries({queryKey:["/api/favorites",e.id]}),s({title:"Removed from favorites",description:`${e.name} has been removed from your favorites.`})},onError:u=>{s({title:"Failed to remove favorite",description:u.message,variant:"destructive"})}}),c=u=>{if(u.stopPropagation(),!n){s({title:"Login required",description:"Please log in to add items to favorites.",variant:"destructive"});return}i!=null&&i.isFavorite?l.mutate():a.mutate()};return o.jsxs(de,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-all duration-200 border-gray-200 bg-white",onClick:t,children:[o.jsxs("div",{className:"aspect-square w-full bg-gray-100 relative overflow-hidden",children:[e.imageUrl?o.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"}):o.jsx("div",{className:"h-full w-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center text-green-700",children:o.jsx("span",{className:"text-sm font-medium text-center px-3",children:"No Image"})}),n&&o.jsx("button",{onClick:c,className:"absolute top-2 right-2 p-1.5 bg-white/90 rounded-full shadow-sm hover:bg-white transition-colors","aria-label":i!=null&&i.isFavorite?"Remove from favorites":"Add to favorites",children:o.jsx(fu,{className:`h-4 w-4 ${i!=null&&i.isFavorite?"fill-red-500 text-red-500":"text-gray-500"}`})})]}),o.jsxs("div",{className:"p-3",children:[o.jsx("h3",{className:"font-medium text-sm text-gray-900 mb-1 line-clamp-2 leading-tight",children:e.name}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-semibold text-green-600 text-sm",children:["$",e.price.toFixed(2)]}),(e.hasSizes||e.hasOptions)&&o.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Options"})]})]})]})}function D5(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function hh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Mg=e=>Array.isArray(e);function IE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _c(e){return typeof e=="string"||Array.isArray(e)}function Fb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function zy(e,t,n,r){if(typeof t=="function"){const[s,i]=Fb(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Fb(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function mh(e,t,n){const r=e.getProps();return zy(r,t,n!==void 0?n:r.custom,e)}const By=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wy=["initial",...By],mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ko=new Set(mu),ds=e=>e*1e3,fs=e=>e/1e3,M5={type:"spring",stiffness:500,damping:25,restSpeed:10},F5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),L5={type:"keyframes",duration:.8},V5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$5=(e,{keyframes:t})=>t.length>2?L5:ko.has(e)?e.startsWith("scale")?F5(t[1]):M5:V5;function Hy(e,t){return e?e[t]||e.default||e:void 0}const U5={skipAnimations:!1,useManualTiming:!1},z5=e=>e!==null;function ph(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(z5),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Xt=e=>e;let Fg=Xt;function B5(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,f=!1,d=!1)=>{const p=d&&r?t:n;return f&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(l),r=!1,s&&(s=!1,c.process(u))}};return c}const td=["read","resolveKeyframes","update","preRender","render","postRender"],W5=40;function OE(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=td.reduce((x,g)=>(x[g]=B5(i),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:f,render:d,postRender:h}=a,p=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,W5),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),f.process(s),d.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},y=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:td.reduce((x,g)=>{const b=a[g];return x[g]=(j,N=!1,P=!1)=>(n||y(),b.schedule(j,N,P)),x},{}),cancel:x=>{for(let g=0;g<td.length;g++)a[td[g]].cancel(x)},state:s,steps:a}}const{schedule:et,cancel:wi,state:zt,steps:Qm}=OE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xt,!0),DE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,H5=1e-7,q5=12;function K5(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=DE(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>H5&&++l<q5);return a}function pu(e,t,n,r){if(e===t&&n===r)return Xt;const s=i=>K5(i,0,1,e,n);return i=>i===0||i===1?i:DE(s(i),t,r)}const ME=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,FE=e=>t=>1-e(1-t),LE=pu(.33,1.53,.69,.99),qy=FE(LE),VE=ME(qy),$E=e=>(e*=2)<1?.5*qy(e):.5*(2-Math.pow(2,-10*(e-1))),Ky=e=>1-Math.sin(Math.acos(e)),UE=FE(Ky),zE=ME(Ky),BE=e=>/^0[^.\s]+$/u.test(e);function Q5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||BE(e):!0}const WE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),HE=e=>t=>typeof t=="string"&&t.startsWith(e),qE=HE("--"),G5=HE("var(--"),Qy=e=>G5(e)?Y5.test(e.split("/*")[0].trim()):!1,Y5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Z5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X5(e){const t=Z5.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function KE(e,t,n=1){const[r,s]=X5(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return WE(a)?parseFloat(a):a}return Qy(s)?KE(s,t,n+1):s}const ws=(e,t,n)=>n>t?t:n<e?e:n,ul={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rc={...ul,transform:e=>ws(0,1,e)},nd={...ul,default:1},gu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Os=gu("deg"),Fr=gu("%"),ge=gu("px"),J5=gu("vh"),e3=gu("vw"),Lb={...Fr,parse:e=>Fr.parse(e)/100,transform:e=>Fr.transform(e*100)},t3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Vb=e=>e===ul||e===ge,$b=(e,t)=>parseFloat(e.split(", ")[t]),Ub=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return $b(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?$b(i[1],e):0}},n3=new Set(["x","y","z"]),r3=mu.filter(e=>!n3.has(e));function s3(e){const t=[];return r3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ga={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ub(4,13),y:Ub(5,14)};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const QE=e=>t=>t.test(e),i3={test:e=>e==="auto",parse:e=>e},GE=[ul,ge,Fr,Os,e3,J5,i3],zb=e=>GE.find(QE(e)),uo=new Set;let Lg=!1,Vg=!1;function YE(){if(Vg){const e=Array.from(uo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=s3(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vg=!1,Lg=!1,uo.forEach(e=>e.complete()),uo.clear()}function ZE(){uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vg=!0)})}function o3(){ZE(),YE()}class Gy{constructor(t,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(uo.add(this),Lg||(Lg=!0,et.read(ZE),et.resolveKeyframes(YE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const a=s==null?void 0:s.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const rc=e=>Math.round(e*1e5)/1e5,Yy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function a3(e){return e==null}const l3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zy=(e,t)=>n=>!!(typeof n=="string"&&l3.test(n)&&n.startsWith(e)||t&&!a3(n)&&Object.prototype.hasOwnProperty.call(n,t)),XE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(Yy);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},c3=e=>ws(0,255,e),Gm={...ul,transform:e=>Math.round(c3(e))},Ji={test:Zy("rgb","red"),parse:XE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Gm.transform(e)+", "+Gm.transform(t)+", "+Gm.transform(n)+", "+rc(Rc.transform(r))+")"};function u3(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $g={test:Zy("#"),parse:u3,transform:Ji.transform},ia={test:Zy("hsl","hue"),parse:XE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fr.transform(rc(t))+", "+Fr.transform(rc(n))+", "+rc(Rc.transform(r))+")"},Qt={test:e=>Ji.test(e)||$g.test(e)||ia.test(e),parse:e=>Ji.test(e)?Ji.parse(e):ia.test(e)?ia.parse(e):$g.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ji.transform(e):ia.transform(e)},d3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Yy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(d3))===null||n===void 0?void 0:n.length)||0)>0}const JE="number",ek="color",h3="var",m3="var(",Bb="${}",p3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ic(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(p3,c=>(Qt.test(c)?(r.color.push(i),s.push(ek),n.push(Qt.parse(c))):c.startsWith(m3)?(r.var.push(i),s.push(h3),n.push(c)):(r.number.push(i),s.push(JE),n.push(parseFloat(c))),++i,Bb)).split(Bb);return{values:n,split:l,indexes:r,types:s}}function tk(e){return Ic(e).values}function nk(e){const{split:t,types:n}=Ic(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const l=n[a];l===JE?i+=rc(s[a]):l===ek?i+=Qt.transform(s[a]):i+=s[a]}return i}}const g3=e=>typeof e=="number"?0:e;function v3(e){const t=tk(e);return nk(e)(t.map(g3))}const bi={test:f3,parse:tk,createTransformer:nk,getAnimatableNone:v3},y3=new Set(["brightness","contrast","saturate","opacity"]);function x3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Yy)||[];if(!r)return e;const s=n.replace(r,"");let i=y3.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const w3=/\b([a-z-]*)\(.*?\)/gu,Ug={...bi,getAnimatableNone:e=>{const t=e.match(w3);return t?t.map(x3).join(" "):e}},b3={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},j3={rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:nd,scaleX:nd,scaleY:nd,scaleZ:nd,skew:Os,skewX:Os,skewY:Os,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Rc,originX:Lb,originY:Lb,originZ:ge},Wb={...ul,transform:Math.round},Xy={...b3,...j3,zIndex:Wb,size:ge,fillOpacity:Rc,strokeOpacity:Rc,numOctaves:Wb},S3={...Xy,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:Ug,WebkitFilter:Ug},Jy=e=>S3[e];function rk(e,t){let n=Jy(e);return n!==Ug&&(n=bi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const N3=new Set(["auto","none","0"]);function C3(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!N3.has(i)&&Ic(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=rk(n,s)}class sk extends Gy{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Qy(u))){const f=KE(u,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!t3.has(r)||t.length!==2)return;const[s,i]=t,a=zb(s),l=zb(i);if(a!==l)if(Vb(a)&&Vb(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Q5(t[s])&&r.push(s);r.length&&C3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ga[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Ga[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function ex(e){return typeof e=="function"}let Cd;function P3(){Cd=void 0}const Lr={now:()=>(Cd===void 0&&Lr.set(zt.isProcessing||U5.useManualTiming?zt.timestamp:performance.now()),Cd),set:e=>{Cd=e,queueMicrotask(P3)}},Hb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bi.test(e)||e==="0")&&!e.startsWith("url("));function E3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function k3(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Hb(s,t),l=Hb(i,t);return!a||!l?!1:E3(e)||(n==="spring"||ex(n))&&r}const T3=40;class ik{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lr.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>T3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&o3(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Lr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!k3(t,r,s,i))if(a)this.options.duration=0;else{c==null||c(ph(t,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ya=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ok=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Ya(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function ak(e,t){return t?e*(1e3/t):0}const A3=5;function lk(e,t,n){const r=Math.max(t-A3,0);return ak(n-e(r),t-r)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ym=.001;function _3({duration:e=wt.duration,bounce:t=wt.bounce,velocity:n=wt.velocity,mass:r=wt.mass}){let s,i,a=1-t;a=ws(wt.minDamping,wt.maxDamping,a),e=ws(wt.minDuration,wt.maxDuration,fs(e)),a<1?(s=u=>{const f=u*a,d=f*e,h=f-n,p=zg(u,a),y=Math.exp(-d);return Ym-h/p*y},i=u=>{const d=u*a*e,h=d*n+n,p=Math.pow(a,2)*Math.pow(u,2)*e,y=Math.exp(-d),v=zg(Math.pow(u,2),a);return(-s(u)+Ym>0?-1:1)*((h-p)*y)/v}):(s=u=>{const f=Math.exp(-u*e),d=(u-n)*e+1;return-Ym+f*d},i=u=>{const f=Math.exp(-u*e),d=(n-u)*(e*e);return f*d});const l=5/e,c=I3(s,i,l);if(e=ds(e),isNaN(c))return{stiffness:wt.stiffness,damping:wt.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const R3=12;function I3(e,t,n){let r=n;for(let s=1;s<R3;s++)r=r-e(r)/t(r);return r}function zg(e,t){return e*Math.sqrt(1-t*t)}const Bg=2e4;function ck(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Bg;)t+=n,r=e.next(t);return t>=Bg?1/0:t}const O3=["duration","bounce"],D3=["stiffness","damping","mass"];function qb(e,t){return t.some(n=>e[n]!==void 0)}function M3(e){let t={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...e};if(!qb(e,D3)&&qb(e,O3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ws(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:wt.mass,stiffness:s,damping:i}}else{const n=_3(e);t={...t,...n,mass:wt.mass},t.isResolvedFromDuration=!0}return t}function uk(e=wt.visualDuration,t=wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:f,duration:d,velocity:h,isResolvedFromDuration:p}=M3({...n,velocity:-fs(n.velocity||0)}),y=h||0,v=u/(2*Math.sqrt(c*f)),w=a-i,x=fs(Math.sqrt(c/f)),g=Math.abs(w)<5;r||(r=g?wt.restSpeed.granular:wt.restSpeed.default),s||(s=g?wt.restDelta.granular:wt.restDelta.default);let b;if(v<1){const N=zg(x,v);b=P=>{const E=Math.exp(-v*x*P);return a-E*((y+v*x*w)/N*Math.sin(N*P)+w*Math.cos(N*P))}}else if(v===1)b=N=>a-Math.exp(-x*N)*(w+(y+x*w)*N);else{const N=x*Math.sqrt(v*v-1);b=P=>{const E=Math.exp(-v*x*P),C=Math.min(N*P,300);return a-E*((y+v*x*w)*Math.sinh(C)+N*w*Math.cosh(C))/N}}const j={calculatedDuration:p&&d||null,next:N=>{const P=b(N);if(p)l.done=N>=d;else{let E=0;v<1&&(E=N===0?ds(y):lk(b,N,P));const C=Math.abs(E)<=r,A=Math.abs(a-P)<=s;l.done=C&&A}return l.value=l.done?a:P,l},toString:()=>{const N=Math.min(ck(j),Bg),P=ok(E=>j.next(N*E).value,N,30);return N+"ms "+P}};return j}function Kb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:f}){const d=e[0],h={done:!1,value:d},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,y=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let v=n*t;const w=d+v,x=a===void 0?w:a(w);x!==w&&(v=x-d);const g=C=>-v*Math.exp(-C/r),b=C=>x+g(C),j=C=>{const A=g(C),_=b(C);h.done=Math.abs(A)<=u,h.value=h.done?x:_};let N,P;const E=C=>{p(h.value)&&(N=C,P=uk({keyframes:[h.value,y(h.value)],velocity:lk(b,C,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return E(0),{calculatedDuration:null,next:C=>{let A=!1;return!P&&N===void 0&&(A=!0,j(C),E(C)),N!==void 0&&C>=N?P.next(C-N):(!A&&j(C),h)}}}const F3=pu(.42,0,1,1),L3=pu(0,0,.58,1),dk=pu(.42,0,.58,1),V3=e=>Array.isArray(e)&&typeof e[0]!="number",tx=e=>Array.isArray(e)&&typeof e[0]=="number",Qb={linear:Xt,easeIn:F3,easeInOut:dk,easeOut:L3,circIn:Ky,circInOut:zE,circOut:UE,backIn:qy,backInOut:VE,backOut:LE,anticipate:$E},Gb=e=>{if(tx(e)){Fg(e.length===4);const[t,n,r,s]=e;return pu(t,n,r,s)}else if(typeof e=="string")return Fg(Qb[e]!==void 0),Qb[e];return e},$3=(e,t)=>n=>t(e(n)),ci=(...e)=>e.reduce($3),pt=(e,t,n)=>e+(t-e)*n;function Zm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function U3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Zm(c,l,e+1/3),i=Zm(c,l,e),a=Zm(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function mf(e,t){return n=>n>0?t:e}const Xm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},z3=[$g,Ji,ia],B3=e=>z3.find(t=>t.test(e));function Yb(e){const t=B3(e);if(!t)return!1;let n=t.parse(e);return t===ia&&(n=U3(n)),n}const Zb=(e,t)=>{const n=Yb(e),r=Yb(t);if(!n||!r)return mf(e,t);const s={...n};return i=>(s.red=Xm(n.red,r.red,i),s.green=Xm(n.green,r.green,i),s.blue=Xm(n.blue,r.blue,i),s.alpha=pt(n.alpha,r.alpha,i),Ji.transform(s))},Wg=new Set(["none","hidden"]);function W3(e,t){return Wg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function H3(e,t){return n=>pt(e,t,n)}function nx(e){return typeof e=="number"?H3:typeof e=="string"?Qy(e)?mf:Qt.test(e)?Zb:Q3:Array.isArray(e)?fk:typeof e=="object"?Qt.test(e)?Zb:q3:mf}function fk(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>nx(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function q3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=nx(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function K3(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],l=e.indexes[a][s[a]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[a]++}return r}const Q3=(e,t)=>{const n=bi.createTransformer(t),r=Ic(e),s=Ic(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wg.has(e)&&!s.values.length||Wg.has(t)&&!r.values.length?W3(e,t):ci(fk(K3(r,s),s.values),n):mf(e,t)};function hk(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?pt(e,t,n):nx(e)(e,t)}function G3(e,t,n){const r=[],s=n||hk,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Xt:t;l=ci(c,l)}r.push(l)}return r}function Y3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Fg(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=G3(t,r,s),l=a.length,c=u=>{let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const d=Ya(e[f],e[f+1],u);return a[f](d)};return n?u=>c(ws(e[0],e[i-1],u)):c}function Z3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ya(0,t,r);e.push(pt(n,1,s))}}function X3(e){const t=[0];return Z3(t,e.length-1),t}function J3(e,t){return e.map(n=>n*t)}function eV(e,t){return e.map(()=>t||dk).splice(0,e.length-1)}function pf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=V3(r)?r.map(Gb):Gb(r),i={done:!1,value:t[0]},a=J3(n&&n.length===t.length?n:X3(t),e),l=Y3(a,t,{ease:Array.isArray(s)?s:eV(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const tV=e=>{const t=({timestamp:n})=>e(n);return{start:()=>et.update(t,!0),stop:()=>wi(t),now:()=>zt.isProcessing?zt.timestamp:Lr.now()}},nV={decay:Kb,inertia:Kb,tween:pf,keyframes:pf,spring:uk},rV=e=>e/100;class rx extends ik{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Gy,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=ex(n)?n:nV[n]||pf;let c,u;l!==pf&&typeof t[0]!="number"&&(c=ci(rV,hk(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=ck(f));const{calculatedDuration:d}=f,h=d+s,p=h*(r+1)-s;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:f,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:y,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),g=this.speed>=0?x<0:x>f;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let b=this.currentTime,j=i;if(p){const C=Math.min(this.currentTime,f)/d;let A=Math.floor(C),_=C%1;!_&&C>=1&&(_=1),_===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(y==="reverse"?(_=1-_,v&&(_-=v/d)):y==="mirror"&&(j=a)),b=ws(0,1,_)*d}const N=g?{done:!1,value:c[0]}:j.next(b);l&&(N.value=l(N.value));let{done:P}=N;!g&&u!==null&&(P=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return E&&s!==void 0&&(N.value=ph(c,this.options,s)),w&&w(N.value),E&&this.finish(),N}get duration(){const{resolved:t}=this;return t?fs(t.calculatedDuration):0}get time(){return fs(this.currentTime)}set time(t){t=ds(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=fs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=tV,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const sV=new Set(["opacity","clipPath","filter","transform"]);function sx(e){let t;return()=>(t===void 0&&(t=e()),t)}const iV={linearEasing:void 0};function oV(e,t){const n=sx(e);return()=>{var r;return(r=iV[t])!==null&&r!==void 0?r:n()}}const gf=oV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function mk(e){return!!(typeof e=="function"&&gf()||!e||typeof e=="string"&&(e in Hg||gf())||tx(e)||Array.isArray(e)&&e.every(mk))}const Vl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vl([0,.65,.55,1]),circOut:Vl([.55,0,1,.45]),backIn:Vl([.31,.01,.66,-.59]),backOut:Vl([.33,1.53,.69,.99])};function pk(e,t){if(e)return typeof e=="function"&&gf()?ok(e,t):tx(e)?Vl(e):Array.isArray(e)?e.map(n=>pk(n,t)||Hg.easeOut):Hg[e]}function aV(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const f=pk(l,s);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function Xb(e,t){e.timeline=t,e.onfinish=null}const lV=sx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vf=10,cV=2e4;function uV(e){return ex(e.type)||e.type==="spring"||!mk(e.ease)}function dV(e,t){const n=new rx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<cV;)r=n.sample(i),s.push(r.value),i+=vf;return{times:void 0,keyframes:s,duration:i-vf,ease:"linear"}}const gk={anticipate:$E,backInOut:VE,circInOut:zE};function fV(e){return e in gk}class Jb extends ik{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new sk(i,(a,l)=>this.onKeyframesResolved(a,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:i,ease:a,type:l,motionValue:c,name:u,startTime:f}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof a=="string"&&gf()&&fV(a)&&(a=gk[a]),uV(this.options)){const{onComplete:h,onUpdate:p,motionValue:y,element:v,...w}=this.options,x=dV(t,w);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,i=x.times,a=x.ease,l="keyframes"}const d=aV(c.owner.current,u,t,{...this.options,duration:s,times:i,ease:a});return d.startTime=f??this.calcStartTime(),this.pendingTimeline?(Xb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;c.set(ph(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:l,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return fs(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return fs(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ds(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Xt;const{animation:r}=n;Xb(r,t)}return Xt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:d,element:h,...p}=this.options,y=new rx({...p,keyframes:r,duration:s,type:i,ease:a,times:l,isGenerator:!0}),v=ds(this.time);u.setWithVelocity(y.sample(v-vf).value,y.sample(v).value,vf)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=t;return lV()&&r&&sV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const hV=sx(()=>window.ScrollTimeline!==void 0);class mV{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>hV()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function pV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const ix=(e,t,n,r={},s,i)=>a=>{const l=Hy(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ds(c);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};pV(l)||(f={...f,...$5(e,f)}),f.duration&&(f.duration=ds(f.duration)),f.repeatDelay&&(f.repeatDelay=ds(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(d=!0)),d&&!i&&t.get()!==void 0){const h=ph(f.keyframes,l);if(h!==void 0)return et.update(()=>{f.onUpdate(h),f.onComplete()}),new mV([])}return!i&&Jb.supports(f)?new Jb(f):new rx(f)},gV=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),vV=e=>Mg(e)?e[e.length-1]||0:e;function ox(e,t){e.indexOf(t)===-1&&e.push(t)}function ax(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class lx{constructor(){this.subscriptions=[]}add(t){return ox(this.subscriptions,t),()=>ax(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ej=30,yV=e=>!isNaN(parseFloat(e));class xV{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Lr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lx);const r=this.events[t].add(n);return t==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ej)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ej);return ak(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oc(e,t){return new xV(e,t)}function wV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Oc(n))}function bV(e,t){const n=mh(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=vV(i[a]);wV(e,a,l)}}const cx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jV="framerAppearId",vk="data-"+cx(jV);function yk(e){return e.props[vk]}const Zt=e=>!!(e&&e.getVelocity);function SV(e){return!!(Zt(e)&&e.add)}function qg(e,t){const n=e.getValue("willChange");if(SV(n))return n.add(t)}function NV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xk(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(a=r);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const d in c){const h=e.getValue(d,(i=e.latestValues[d])!==null&&i!==void 0?i:null),p=c[d];if(p===void 0||f&&NV(f,d))continue;const y={delay:n,...Hy(a||{},d)};let v=!1;if(window.MotionHandoffAnimation){const x=yk(e);if(x){const g=window.MotionHandoffAnimation(x,d,et);g!==null&&(y.startTime=g,v=!0)}}qg(e,d),h.start(ix(d,h,p,e.shouldReduceMotion&&ko.has(d)?{type:!1}:y,e,v));const w=h.animation;w&&u.push(w)}return l&&Promise.all(u).then(()=>{et.update(()=>{l&&bV(e,l)})}),u}function Kg(e,t,n={}){var r;const s=mh(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(xk(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:h}=i;return CV(e,t,f+u,d,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,f]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function CV(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(PV).forEach((u,f)=>{u.notify("AnimationStart",t),a.push(Kg(u,t,{...i,delay:n+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function PV(e,t){return e.sortNodePosition(t)}function EV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Kg(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Kg(e,t,n);else{const s=typeof t=="function"?mh(e,t,n.custom):t;r=Promise.all(xk(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const kV=Wy.length;function wk(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?wk(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<kV;n++){const r=Wy[n],s=e.props[r];(_c(s)||s===!1)&&(t[r]=s)}return t}const TV=[...By].reverse(),AV=By.length;function _V(e){return t=>Promise.all(t.map(({animation:n,options:r})=>EV(e,n,r)))}function RV(e){let t=_V(e),n=tj(),r=!0;const s=c=>(u,f)=>{var d;const h=mh(e,f,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:p,transitionEnd:y,...v}=h;u={...u,...v,...y}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,f=wk(e.parent)||{},d=[],h=new Set;let p={},y=1/0;for(let w=0;w<AV;w++){const x=TV[w],g=n[x],b=u[x]!==void 0?u[x]:f[x],j=_c(b),N=x===c?g.isActive:null;N===!1&&(y=w);let P=b===f[x]&&b!==u[x]&&j;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),g.protectedKeys={...p},!g.isActive&&N===null||!b&&!g.prevProp||hh(b)||typeof b=="boolean")continue;const E=IV(g.prevProp,b);let C=E||x===c&&g.isActive&&!P&&j||w>y&&j,A=!1;const _=Array.isArray(b)?b:[b];let M=_.reduce(s(x),{});N===!1&&(M={});const{prevResolvedValues:I={}}=g,V={...I,...M},F=K=>{C=!0,h.has(K)&&(A=!0,h.delete(K)),g.needsAnimating[K]=!0;const D=e.getValue(K);D&&(D.liveStyle=!1)};for(const K in V){const D=M[K],z=I[K];if(p.hasOwnProperty(K))continue;let B=!1;Mg(D)&&Mg(z)?B=!IE(D,z):B=D!==z,B?D!=null?F(K):h.add(K):D!==void 0&&h.has(K)?F(K):g.protectedKeys[K]=!0}g.prevProp=b,g.prevResolvedValues=M,g.isActive&&(p={...p,...M}),r&&e.blockInitialAnimation&&(C=!1),C&&(!(P&&E)||A)&&d.push(..._.map(K=>({animation:K,options:{type:x}})))}if(h.size){const w={};h.forEach(x=>{const g=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),w[x]=g??null}),d.push({animation:w})}let v=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=tj(),r=!0}}}function IV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IE(t,e):!1}function Fi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tj(){return{animate:Fi(!0),whileInView:Fi(),whileHover:Fi(),whileTap:Fi(),whileDrag:Fi(),whileFocus:Fi(),exit:Fi()}}class Ri{constructor(t){this.isMounted=!1,this.node=t}update(){}}class OV extends Ri{constructor(t){super(t),t.animationState||(t.animationState=RV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let DV=0;class MV extends Ri{constructor(){super(...arguments),this.id=DV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const FV={animation:{Feature:OV},exit:{Feature:MV}};function LV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const rr={x:!1,y:!1};function bk(){return rr.x||rr.y}function nj(e){return t=>{t.pointerType==="touch"||bk()||e(t)}}function VV(e,t,n={}){const r=new AbortController,s={passive:!0,...n,signal:r.signal},i=nj(a=>{const{target:l}=a,c=t(a);if(!c||!l)return;const u=nj(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return LV(e).forEach(a=>{a.addEventListener("pointerenter",i,s)}),()=>r.abort()}function $V(e){return e==="x"||e==="y"?rr[e]?null:(rr[e]=!0,()=>{rr[e]=!1}):rr.x||rr.y?null:(rr.x=rr.y=!0,()=>{rr.x=rr.y=!1})}const jk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function vu(e){return{point:{x:e.pageX,y:e.pageY}}}const UV=e=>t=>jk(t)&&e(t,vu(t));function ls(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ui(e,t,n,r){return ls(e,t,UV(n),r)}const rj=(e,t)=>Math.abs(e-t);function zV(e,t){const n=rj(e.x,t.x),r=rj(e.y,t.y);return Math.sqrt(n**2+r**2)}class Sk{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ep(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=zV(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=d,{timestamp:v}=zt;this.history.push({...y,timestamp:v});const{onStart:w,onMove:x}=this.handlers;h||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Jm(h,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ep(d.type==="pointercancel"?this.lastMoveEventInfo:Jm(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,w),y&&y(d,w)},!jk(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=vu(t),l=Jm(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=zt;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,ep(l,this.history)),this.removeListeners=ci(ui(this.contextWindow,"pointermove",this.handlePointerMove),ui(this.contextWindow,"pointerup",this.handlePointerUp),ui(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function Jm(e,t){return t?{point:t(e.point)}:e}function sj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ep({point:e},t){return{point:e,delta:sj(e,Nk(t)),offset:sj(e,BV(t)),velocity:WV(t,.1)}}function BV(e){return e[0]}function Nk(e){return e[e.length-1]}function WV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Nk(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ds(t)));)n--;if(!r)return{x:0,y:0};const i=fs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function oa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Ck=1e-4,HV=1-Ck,qV=1+Ck,Pk=.01,KV=0-Pk,QV=0+Pk;function In(e){return e.max-e.min}function GV(e,t,n){return Math.abs(e-t)<=n}function ij(e,t,n,r=.5){e.origin=r,e.originPoint=pt(t.min,t.max,e.origin),e.scale=In(n)/In(t),e.translate=pt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=HV&&e.scale<=qV||isNaN(e.scale))&&(e.scale=1),(e.translate>=KV&&e.translate<=QV||isNaN(e.translate))&&(e.translate=0)}function sc(e,t,n,r){ij(e.x,t.x,n.x,r?r.originX:void 0),ij(e.y,t.y,n.y,r?r.originY:void 0)}function oj(e,t,n){e.min=n.min+t.min,e.max=e.min+In(t)}function YV(e,t,n){oj(e.x,t.x,n.x),oj(e.y,t.y,n.y)}function aj(e,t,n){e.min=t.min-n.min,e.max=e.min+In(t)}function ic(e,t,n){aj(e.x,t.x,n.x),aj(e.y,t.y,n.y)}function ZV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pt(n,e,r.max):Math.min(e,n)),e}function lj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function XV(e,{top:t,left:n,bottom:r,right:s}){return{x:lj(e.x,n,s),y:lj(e.y,t,r)}}function cj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function JV(e,t){return{x:cj(e.x,t.x),y:cj(e.y,t.y)}}function e$(e,t){let n=.5;const r=In(e),s=In(t);return s>r?n=Ya(t.min,t.max-r,e.min):r>s&&(n=Ya(e.min,e.max-s,t.min)),ws(0,1,n)}function t$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qg=.35;function n$(e=Qg){return e===!1?e=0:e===!0&&(e=Qg),{x:uj(e,"left","right"),y:uj(e,"top","bottom")}}function uj(e,t,n){return{min:dj(e,t),max:dj(e,n)}}function dj(e,t){return typeof e=="number"?e:e[t]||0}const fj=()=>({translate:0,scale:1,origin:0,originPoint:0}),aa=()=>({x:fj(),y:fj()}),hj=()=>({min:0,max:0}),Nt=()=>({x:hj(),y:hj()});function Ln(e){return[e("x"),e("y")]}function Ek({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function r$({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function s$(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tp(e){return e===void 0||e===1}function Gg({scale:e,scaleX:t,scaleY:n}){return!tp(e)||!tp(t)||!tp(n)}function Ui(e){return Gg(e)||kk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kk(e){return mj(e.x)||mj(e.y)}function mj(e){return e&&e!=="0%"}function yf(e,t,n){const r=e-n,s=t*r;return n+s}function pj(e,t,n,r,s){return s!==void 0&&(e=yf(e,s,r)),yf(e,n,r)+t}function Yg(e,t=0,n=1,r,s){e.min=pj(e.min,t,n,r,s),e.max=pj(e.max,t,n,r,s)}function Tk(e,{x:t,y:n}){Yg(e.x,t.translate,t.scale,t.originPoint),Yg(e.y,n.translate,n.scale,n.originPoint)}const gj=.999999999999,vj=1.0000000000001;function i$(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ca(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Tk(e,a)),r&&Ui(i.latestValues)&&ca(e,i.latestValues))}t.x<vj&&t.x>gj&&(t.x=1),t.y<vj&&t.y>gj&&(t.y=1)}function la(e,t){e.min=e.min+t,e.max=e.max+t}function yj(e,t,n,r,s=.5){const i=pt(e.min,e.max,s);Yg(e,t,n,i,r)}function ca(e,t){yj(e.x,t.x,t.scaleX,t.scale,t.originX),yj(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ak(e,t){return Ek(s$(e.getBoundingClientRect(),t))}function o$(e,t,n){const r=Ak(e,n),{scroll:s}=t;return s&&(la(r.x,s.offset.x),la(r.y,s.offset.y)),r}const _k=({current:e})=>e?e.ownerDocument.defaultView:null,a$=new WeakMap;class l${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vu(f).point)},i=(f,d)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$V(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ln(w=>{let x=this.getAxisMotionValue(w).get()||0;if(Fr.test(x)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[w];b&&(x=In(b)*(parseFloat(x)/100))}}this.originPoint[w]=x}),y&&et.postRender(()=>y(f,d)),qg(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(f,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=d;if(p&&this.currentDirection===null){this.currentDirection=c$(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),v&&v(f,d)},l=(f,d)=>this.stop(f,d),c=()=>Ln(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Sk(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:_k(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&et.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!rd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=ZV(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&oa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=XV(s.layoutBox,n):this.constraints=!1,this.elastic=n$(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ln(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=t$(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!oa(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=o$(r,s.root,this.visualElement.getTransformPagePoint());let a=JV(s.layout.layoutBox,i);if(n){const l=n(r$(a));this.hasMutatedConstraints=!!l,l&&(a=Ek(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ln(f=>{if(!rd(f,n,this.currentDirection))return;let d=c&&c[f]||{};a&&(d={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:r?t[f]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(f,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return qg(this.visualElement,t),r.start(ix(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ln(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ln(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ln(n=>{const{drag:r}=this.getProps();if(!rd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-pt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ln(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=e$({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ln(a=>{if(!rd(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(pt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;a$.set(this.visualElement,this);const t=this.visualElement.current,n=ui(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();oa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const a=ls(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ln(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=c[f].translate,d.set(d.get()+c[f].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Qg,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function rd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function c$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class u$ extends Ri{constructor(t){super(t),this.removeGroupControls=Xt,this.removeListeners=Xt,this.controls=new l$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const xj=e=>(t,n)=>{e&&et.postRender(()=>e(t,n))};class d$ extends Ri{constructor(){super(...arguments),this.removePointerDownListener=Xt}onPointerDown(t){this.session=new Sk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_k(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:xj(t),onStart:xj(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&et.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ui(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gh=m.createContext(null);function f$(){const e=m.useContext(gh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=m.useId();m.useEffect(()=>r(s),[]);const i=m.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,i]:[!0]}const ux=m.createContext({}),Rk=m.createContext({}),Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _l={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=wj(e,t.target.x),r=wj(e,t.target.y);return`${n}% ${r}%`}},h$={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=bi.parse(e);if(s.length>5)return r;const i=bi.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=pt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},xf={};function m$(e){Object.assign(xf,e)}const{schedule:dx,cancel:d9}=OE(queueMicrotask,!1);class p$ extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;m$(g$),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||et.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ik(e){const[t,n]=f$(),r=m.useContext(ux);return o.jsx(p$,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(Rk),isPresent:t,safeToRemove:n})}const g$={borderRadius:{..._l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_l,borderTopRightRadius:_l,borderBottomLeftRadius:_l,borderBottomRightRadius:_l,boxShadow:h$},Ok=["TopLeft","TopRight","BottomLeft","BottomRight"],v$=Ok.length,bj=e=>typeof e=="string"?parseFloat(e):e,jj=e=>typeof e=="number"||ge.test(e);function y$(e,t,n,r,s,i){s?(e.opacity=pt(0,n.opacity!==void 0?n.opacity:1,x$(r)),e.opacityExit=pt(t.opacity!==void 0?t.opacity:1,0,w$(r))):i&&(e.opacity=pt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<v$;a++){const l=`border${Ok[a]}Radius`;let c=Sj(t,l),u=Sj(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jj(c)===jj(u)?(e[l]=Math.max(pt(bj(c),bj(u),r),0),(Fr.test(u)||Fr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=pt(t.rotate||0,n.rotate||0,r))}function Sj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const x$=Dk(0,.5,UE),w$=Dk(.5,.95,Xt);function Dk(e,t,n){return r=>r<e?0:r>t?1:n(Ya(e,t,r))}function Nj(e,t){e.min=t.min,e.max=t.max}function Fn(e,t){Nj(e.x,t.x),Nj(e.y,t.y)}function Cj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Pj(e,t,n,r,s){return e-=t,e=yf(e,1/n,r),s!==void 0&&(e=yf(e,1/s,r)),e}function b$(e,t=0,n=1,r=.5,s,i=e,a=e){if(Fr.test(t)&&(t=parseFloat(t),t=pt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=pt(i.min,i.max,r);e===i&&(l-=t),e.min=Pj(e.min,t,n,l,s),e.max=Pj(e.max,t,n,l,s)}function Ej(e,t,[n,r,s],i,a){b$(e,t[n],t[r],t[s],t.scale,i,a)}const j$=["x","scaleX","originX"],S$=["y","scaleY","originY"];function kj(e,t,n,r){Ej(e.x,t,j$,n?n.x:void 0,r?r.x:void 0),Ej(e.y,t,S$,n?n.y:void 0,r?r.y:void 0)}function Tj(e){return e.translate===0&&e.scale===1}function Mk(e){return Tj(e.x)&&Tj(e.y)}function Aj(e,t){return e.min===t.min&&e.max===t.max}function N$(e,t){return Aj(e.x,t.x)&&Aj(e.y,t.y)}function _j(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Fk(e,t){return _j(e.x,t.x)&&_j(e.y,t.y)}function Rj(e){return In(e.x)/In(e.y)}function Ij(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class C${constructor(){this.members=[]}add(t){ox(this.members,t),t.scheduleRender()}remove(t){if(ax(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P$(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:h,skewX:p,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const E$=(e,t)=>e.depth-t.depth;class k${constructor(){this.children=[],this.isDirty=!1}add(t){ox(this.children,t),this.isDirty=!0}remove(t){ax(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(E$),this.isDirty=!1,this.children.forEach(t)}}function Ed(e){const t=Zt(e)?e.get():e;return gV(t)?t.toValue():t}function T$(e,t){const n=Lr.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(wi(r),e(i-t))};return et.read(r,!0),()=>wi(r)}function A$(e){return e instanceof SVGElement&&e.tagName!=="svg"}function _$(e,t,n){const r=Zt(e)?e:Oc(e);return r.start(ix("",r,t,n)),r.animation}const zi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$l=typeof window<"u"&&window.MotionDebug!==void 0,np=["","X","Y","Z"],R$={visibility:"hidden"},Oj=1e3;let I$=0;function rp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Lk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=yk(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Lk(r)}function Vk({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=I$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$l&&(zi.totalNodes=zi.resolvedTargetDeltas=zi.recalculatedProjection=0),this.nodes.forEach(M$),this.nodes.forEach(U$),this.nodes.forEach(z$),this.nodes.forEach(F$),$l&&window.MotionDebug.record(zi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new k$)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new lx),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=A$(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=T$(h,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(Mj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||K$,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=f.getProps(),g=!this.targetLayout||!Fk(this.targetLayout,y)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const j={...Hy(v,"layout"),onPlay:w,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||Mj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Dj);return}this.isUpdating||this.nodes.forEach(V$),this.isUpdating=!1,this.nodes.forEach($$),this.nodes.forEach(O$),this.nodes.forEach(D$),this.clearAllSnapshots();const l=Lr.now();zt.delta=ws(0,1e3/60,l-zt.timestamp),zt.timestamp=l,zt.isProcessing=!0,Qm.update.process(zt),Qm.preRender.process(zt),Qm.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L$),this.sharedNodes.forEach(W$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Mk(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&(l||Ui(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Q$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return Nt();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(G$))){const{scroll:f}=this.root;f&&(la(c.x,f.offset.x),la(c.y,f.offset.y))}return c}removeElementScroll(a){var l;const c=Nt();if(Fn(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:h}=f;f!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Fn(c,a),la(c.x,d.offset.x),la(c.y,d.offset.y))}return c}applyTransform(a,l=!1){const c=Nt();Fn(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ca(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ui(f.latestValues)&&ca(c,f.latestValues)}return Ui(this.latestValues)&&ca(c,this.latestValues),c}removeTransform(a){const l=Nt();Fn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ui(u.latestValues))continue;Gg(u.latestValues)&&u.updateSnapshot();const f=Nt(),d=u.measurePageBox();Fn(f,d),kj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Ui(this.latestValues)&&kj(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),ic(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),Tk(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),ic(this.relativeTargetOrigin,this.target,p.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$l&&zi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gg(this.parent.latestValues)||kk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Fn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;i$(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Nt());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cj(this.prevProjectionDelta.x,this.projectionDelta.x),Cj(this.prevProjectionDelta.y,this.projectionDelta.y)),sc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!Ij(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ij(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),$l&&zi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=aa(),this.projectionDelta=aa(),this.projectionDeltaWithTransform=aa()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},d=aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Nt(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=p!==y,w=this.getStack(),x=!w||w.members.length<=1,g=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(q$));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const N=j/1e3;Fj(d.x,a.x,N),Fj(d.y,a.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ic(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H$(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&N$(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Nt()),Fn(b,this.relativeTarget)),v&&(this.animationValues=f,y$(f,u,this.latestValues,N,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Pd.hasAnimatedSinceResize=!0,this.currentAnimation=_$(0,Oj,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&$k(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Nt();const d=In(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+d;const h=In(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Fn(l,c),ca(l,f),sc(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new C$),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&rp("z",a,u,this.animationValues);for(let f=0;f<np.length;f++)rp(`rotate${np[f]}`,a,u,this.animationValues),rp(`skew${np[f]}`,a,u,this.animationValues);a.render();for(const f in u)a.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return R$;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ed(a==null?void 0:a.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ed(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ui(this.latestValues)&&(v.transform=f?f({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=P$(this.projectionDeltaWithTransform,this.treeScale,h),f&&(u.transform=f(h,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in xf){if(h[v]===void 0)continue;const{correct:w,applyTo:x}=xf[v],g=u.transform==="none"?h[v]:w(h[v],d);if(x){const b=x.length;for(let j=0;j<b;j++)u[x[j]]=g}else u[v]=g}return this.options.layoutId&&(u.pointerEvents=d===this?Ed(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Dj),this.root.sharedNodes.clear()}}}function O$(e){e.updateLayout()}function D$(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?Ln(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],p=In(h);h.min=r[d].min,h.max=h.min+p}):$k(i,n.layoutBox,r)&&Ln(d=>{const h=a?n.measuredBox[d]:n.layoutBox[d],p=In(r[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const l=aa();sc(l,r,n.layoutBox);const c=aa();a?sc(c,e.applyTransform(s,!0),n.measuredBox):sc(c,r,n.layoutBox);const u=!Mk(l);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const y=Nt();ic(y,n.layoutBox,h.layoutBox);const v=Nt();ic(v,r,p.layoutBox),Fk(y,v)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function M$(e){$l&&zi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function F$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L$(e){e.clearSnapshot()}function Dj(e){e.clearMeasurements()}function V$(e){e.isLayoutDirty=!1}function $$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function U$(e){e.resolveTargetDelta()}function z$(e){e.calcProjection()}function B$(e){e.resetSkewAndRotation()}function W$(e){e.removeLeadSnapshot()}function Fj(e,t,n){e.translate=pt(t.translate,0,n),e.scale=pt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Lj(e,t,n,r){e.min=pt(t.min,n.min,r),e.max=pt(t.max,n.max,r)}function H$(e,t,n,r){Lj(e.x,t.x,n.x,r),Lj(e.y,t.y,n.y,r)}function q$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const K$={duration:.45,ease:[.4,0,.1,1]},Vj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$j=Vj("applewebkit/")&&!Vj("chrome/")?Math.round:Xt;function Uj(e){e.min=$j(e.min),e.max=$j(e.max)}function Q$(e){Uj(e.x),Uj(e.y)}function $k(e,t,n){return e==="position"||e==="preserve-aspect"&&!GV(Rj(t),Rj(n),.2)}function G$(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Y$=Vk({attachResizeListener:(e,t)=>ls(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sp={current:void 0},Uk=Vk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sp.current){const e=new Y$({});e.mount(window),e.setOptions({layoutScroll:!0}),sp.current=e}return sp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Z$={pan:{Feature:d$},drag:{Feature:u$,ProjectionNode:Uk,MeasureLayout:Ik}};function zj(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const s=r[n?"onHoverStart":"onHoverEnd"];s&&et.postRender(()=>s(t,vu(t)))}class X$ extends Ri{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=VV(t,r=>(zj(this.node,r,!0),s=>zj(this.node,s,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class J$ extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ci(ls(this.node.current,"focus",()=>this.onFocus()),ls(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const zk=(e,t)=>t?e===t?!0:zk(e,t.parentElement):!1;function ip(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,vu(n))}class eU extends Ri{constructor(){super(...arguments),this.removeStartListeners=Xt,this.removeEndListeners=Xt,this.removeAccessibleListeners=Xt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=ui(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:d}=this.node.getProps(),h=!d&&!zk(this.node.current,l.target)?f:u;h&&et.update(()=>h(l,c))},{passive:!(r.onTap||r.onPointerUp)}),a=ui(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ci(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||ip("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&et.postRender(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=ls(this.node.current,"keyup",a),ip("down",(l,c)=>{this.startPress(l,c)})},n=ls(this.node.current,"keydown",t),r=()=>{this.isPressing&&ip("cancel",(i,a)=>this.cancelPress(i,a))},s=ls(this.node.current,"blur",r);this.removeAccessibleListeners=ci(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&et.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bk()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&et.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ui(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ls(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ci(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Zg=new WeakMap,op=new WeakMap,tU=e=>{const t=Zg.get(e.target);t&&t(e)},nU=e=>{e.forEach(tU)};function rU({root:e,...t}){const n=e||document;op.has(n)||op.set(n,{});const r=op.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(nU,{root:e,...t})),r[s]}function sU(e,t,n){const r=rU(t);return Zg.set(e,n),r.observe(e),()=>{Zg.delete(e),r.unobserve(e)}}const iU={some:0,all:1};class oU extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:iU[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),h=u?f:d;h&&h(c)};return sU(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(aU(t,n))&&this.startObserver()}unmount(){}}function aU({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const lU={inView:{Feature:oU},tap:{Feature:eU},focus:{Feature:J$},hover:{Feature:X$}},cU={layout:{ProjectionNode:Uk,MeasureLayout:Ik}},fx=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),vh=m.createContext({}),hx=typeof window<"u",Bk=hx?m.useLayoutEffect:m.useEffect,Wk=m.createContext({strict:!1});function uU(e,t,n,r,s){var i,a;const{visualElement:l}=m.useContext(vh),c=m.useContext(Wk),u=m.useContext(gh),f=m.useContext(fx).reducedMotion,d=m.useRef();r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const h=d.current,p=m.useContext(Rk);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&dU(d.current,n,s,p);const y=m.useRef(!1);m.useInsertionEffect(()=>{h&&y.current&&h.update(n,u)});const v=n[vk],w=m.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,v)));return Bk(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),dx.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,v)}),w.current=!1))}),h}function dU(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Hk(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&oa(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function Hk(e){if(e)return e.options.allowProjection!==!1?e.projection:Hk(e.parent)}function fU(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):oa(n)&&(n.current=r))},[t])}function yh(e){return hh(e.animate)||Wy.some(t=>_c(e[t]))}function qk(e){return!!(yh(e)||e.variants)}function hU(e,t){if(yh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||_c(n)?n:void 0,animate:_c(r)?r:void 0}}return e.inherit!==!1?t:{}}function mU(e){const{initial:t,animate:n}=hU(e,m.useContext(vh));return m.useMemo(()=>({initial:t,animate:n}),[Bj(t),Bj(n)])}function Bj(e){return Array.isArray(e)?e.join(" "):e}const Wj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Za={};for(const e in Wj)Za[e]={isEnabled:t=>Wj[e].some(n=>!!t[n])};function pU(e){for(const t in e)Za[t]={...Za[t],...e[t]}}const gU=Symbol.for("motionComponentSymbol");function vU({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&pU(e);function i(l,c){let u;const f={...m.useContext(fx),...l,layoutId:yU(l)},{isStatic:d}=f,h=mU(l),p=r(l,d);if(!d&&hx){xU();const y=wU(f);u=y.MeasureLayout,h.visualElement=uU(s,p,f,t,y.ProjectionNode)}return o.jsxs(vh.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...f}):null,n(s,l,fU(p,h.visualElement,c),p,d,h.visualElement)]})}const a=m.forwardRef(i);return a[gU]=s,a}function yU({layoutId:e}){const t=m.useContext(ux).id;return t&&e!==void 0?t+"-"+e:e}function xU(e,t){m.useContext(Wk).strict}function wU(e){const{drag:t,layout:n}=Za;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const bU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mx(e){return typeof e!="string"||e.includes("-")?!1:!!(bU.indexOf(e)>-1||/[A-Z]/u.test(e))}function Kk(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Qk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gk(e,t,n,r){Kk(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Qk.has(s)?s:cx(s),t.attrs[s])}function Yk(e,{layout:t,layoutId:n}){return ko.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xf[e]||e==="opacity")}function px(e,t,n){var r;const{style:s}=e,i={};for(const a in s)(Zt(s[a])||t.style&&Zt(t.style[a])||Yk(a,e)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function Zk(e,t,n){const r=px(e,t,n);for(const s in e)if(Zt(e[s])||Zt(t[s])){const i=mu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function gx(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}function jU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:SU(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const Xk=e=>(t,n)=>{const r=m.useContext(vh),s=m.useContext(gh),i=()=>jU(e,t,r,s);return n?i():gx(i)};function SU(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Ed(i[h]);let{initial:a,animate:l}=e;const c=yh(e),u=qk(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const d=f?l:a;if(d&&typeof d!="boolean"&&!hh(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const y=zy(e,h[p]);if(y){const{transitionEnd:v,transition:w,...x}=y;for(const g in x){let b=x[g];if(Array.isArray(b)){const j=f?b.length-1:0;b=b[j]}b!==null&&(s[g]=b)}for(const g in v)s[g]=v[g]}}}return s}const vx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Jk=()=>({...vx(),attrs:{}}),eT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,NU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CU=mu.length;function PU(e,t,n){let r="",s=!0;for(let i=0;i<CU;i++){const a=mu[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=eT(l,Xy[a]);if(!c){s=!1;const f=NU[a]||a;r+=`${f}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function yx(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(ko.has(c)){a=!0;continue}else if(qE(c)){s[c]=u;continue}else{const f=eT(u,Xy[c]);c.startsWith("origin")?(l=!0,i[c]=f):r[c]=f}}if(t.transform||(a||n?r.transform=PU(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=i;r.transformOrigin=`${c} ${u} ${f}`}}function Hj(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function EU(e,t,n){const r=Hj(t,e.x,e.width),s=Hj(n,e.y,e.height);return`${r} ${s}`}const kU={offset:"stroke-dashoffset",array:"stroke-dasharray"},TU={offset:"strokeDashoffset",array:"strokeDasharray"};function AU(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?kU:TU;e[i.offset]=ge.transform(-r);const a=ge.transform(t),l=ge.transform(n);e[i.array]=`${a} ${l}`}function xx(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},f,d){if(yx(e,u,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:y}=e;h.transform&&(y&&(p.transform=h.transform),delete h.transform),y&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=EU(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&AU(h,a,l,c,!1)}const wx=e=>typeof e=="string"&&e.toLowerCase()==="svg",_U={useVisualState:Xk({scrapeMotionValuesFromProps:Zk,createRenderState:Jk,onMount:(e,t,{renderState:n,latestValues:r})=>{et.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),et.render(()=>{xx(n,r,wx(t.tagName),e.transformTemplate),Gk(t,n)})}})},RU={useVisualState:Xk({scrapeMotionValuesFromProps:px,createRenderState:vx})};function tT(e,t,n){for(const r in t)!Zt(t[r])&&!Yk(r,n)&&(e[r]=t[r])}function IU({transformTemplate:e},t){return m.useMemo(()=>{const n=vx();return yx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function OU(e,t){const n=e.style||{},r={};return tT(r,n,e),Object.assign(r,IU(e,t)),r}function DU(e,t){const n={},r=OU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const MU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||MU.has(e)}let nT=e=>!wf(e);function FU(e){e&&(nT=t=>t.startsWith("on")?!wf(t):e(t))}try{FU(require("@emotion/is-prop-valid").default)}catch{}function LU(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(nT(s)||n===!0&&wf(s)||!t&&!wf(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function VU(e,t,n,r){const s=m.useMemo(()=>{const i=Jk();return xx(i,t,wx(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};tT(i,e.style,e),s.style={...i,...s.style}}return s}function $U(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(mx(n)?VU:DU)(r,i,a,n),u=LU(r,typeof n=="string",e),f=n!==m.Fragment?{...u,...c,ref:s}:{},{children:d}=r,h=m.useMemo(()=>Zt(d)?d.get():d,[d]);return m.createElement(n,{...f,children:h})}}function UU(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...mx(r)?_U:RU,preloadedFeatures:e,useRender:$U(s),createVisualElement:t,Component:r};return vU(a)}}const Xg={current:null},rT={current:!1};function zU(){if(rT.current=!0,!!hx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xg.current=e.matches;e.addListener(t),t()}else Xg.current=!1}function BU(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Zt(s))e.addValue(r,s);else if(Zt(i))e.addValue(r,Oc(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,Oc(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const qj=new WeakMap,WU=[...GE,Qt,bi],HU=e=>WU.find(QE(e)),Kj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qU{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Lr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,et.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=yh(n),this.isVariantNode=qk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const p=d[h];c[h]!==void 0&&Zt(p)&&p.set(c[h],!1)}}mount(t){this.current=t,qj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rT.current||zU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qj.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ko.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Za){const n=Za[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Kj.length;r++){const s=Kj[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=BU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Oc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(WE(s)||BE(s))?s=parseFloat(s):!HU(s)&&bi.test(n)&&(s=rk(t,n)),this.setBaseTarget(t,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=zy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Zt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class sT extends qU{constructor(){super(...arguments),this.KeyframeResolver=sk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KU(e){return window.getComputedStyle(e)}class QU extends sT{constructor(){super(...arguments),this.type="html",this.renderInstance=Kk}readValueFromInstance(t,n){if(ko.has(n)){const r=Jy(n);return r&&r.default||0}else{const r=KU(t),s=(qE(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ak(t,n)}build(t,n,r){yx(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return px(t,n,r)}}class GU extends sT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ko.has(n)){const r=Jy(n);return r&&r.default||0}return n=Qk.has(n)?n:cx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Zk(t,n,r)}build(t,n,r){xx(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Gk(t,n,r,s)}mount(t){this.isSVGTag=wx(t.tagName),super.mount(t)}}const YU=(e,t)=>mx(e)?new GU(t):new QU(t,{allowProjection:e!==m.Fragment}),ZU=UU({...FV,...lU,...Z$,...cU},YU),an=D5(ZU);class XU extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JU({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(fx);return m.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=s.current;if(t||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return i&&(f.nonce=i),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),o.jsx(XU,{isPresent:t,childRef:r,sizeRef:s,children:m.cloneElement(e,{ref:r})})}const e6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=gx(t6),c=m.useId(),u=m.useCallback(d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),f=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:d=>(l.set(d,!1),()=>l.delete(d))}),i?[Math.random(),u]:[n,u]);return m.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=o.jsx(JU,{isPresent:n,children:e})),o.jsx(gh.Provider,{value:f,children:e})};function t6(){return new Map}const sd=e=>e.key||"";function Qj(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const n6=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=m.useMemo(()=>Qj(e),[e]),c=l.map(sd),u=m.useRef(!0),f=m.useRef(l),d=gx(()=>new Map),[h,p]=m.useState(l),[y,v]=m.useState(l);Bk(()=>{u.current=!1,f.current=l;for(let g=0;g<y.length;g++){const b=sd(y[g]);c.includes(b)?d.delete(b):d.get(b)!==!0&&d.set(b,!1)}},[y,c.length,c.join("-")]);const w=[];if(l!==h){let g=[...l];for(let b=0;b<y.length;b++){const j=y[b],N=sd(j);c.includes(N)||(g.splice(b,0,j),w.push(j))}a==="wait"&&w.length&&(g=w),v(Qj(g)),p(l);return}const{forceRender:x}=m.useContext(ux);return o.jsx(o.Fragment,{children:y.map(g=>{const b=sd(g),j=l===y||c.includes(b),N=()=>{if(d.has(b))d.set(b,!0);else return;let P=!0;d.forEach(E=>{E||(P=!1)}),P&&(x==null||x(),v(f.current),s&&s())};return o.jsx(e6,{isPresent:j,initial:!u.current||r?void 0:!1,custom:j?void 0:n,presenceAffectsLayout:i,mode:a,onExitComplete:j?void 0:N,children:g},b)})})};function xh(e){const[t,n]=m.useState(void 0);return $t(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function wh(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bx="Radio",[r6,iT]=Jn(bx),[s6,i6]=r6(bx),oT=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...f}=e,[d,h]=m.useState(null),p=Ae(t,w=>h(w)),y=m.useRef(!1),v=d?u||!!d.closest("form"):!0;return o.jsxs(s6,{scope:n,checked:s,disabled:a,children:[o.jsx(ue.button,{type:"button",role:"radio","aria-checked":s,"data-state":cT(s),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:p,onClick:oe(e.onClick,w=>{s||c==null||c(),v&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),v&&o.jsx(o6,{control:d,bubbles:!y.current,name:r,value:l,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});oT.displayName=bx;var aT="RadioIndicator",lT=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=i6(aT,n);return o.jsx(jn,{present:r||i.checked,children:o.jsx(ue.span,{"data-state":cT(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});lT.displayName=aT;var o6=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=m.useRef(null),a=wh(n),l=xh(t);return m.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&d){const h=new Event("click",{bubbles:r});d.call(c,n),c.dispatchEvent(h)}},[a,n,r]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cT(e){return e?"checked":"unchecked"}var a6=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jx="RadioGroup",[l6,h9]=Jn(jx,[lh,iT]),uT=lh(),dT=iT(),[c6,u6]=l6(jx),fT=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...h}=e,p=uT(n),y=ll(u),[v,w]=Rn({prop:i,defaultProp:s,onChange:d});return o.jsx(c6,{scope:n,name:r,required:a,disabled:l,value:v,onValueChange:w,children:o.jsx(vP,{asChild:!0,...p,orientation:c,dir:y,loop:f,children:o.jsx(ue.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...h,ref:t})})})});fT.displayName=jx;var hT="RadioGroupItem",mT=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=u6(hT,n),a=i.disabled||r,l=uT(n),c=dT(n),u=m.useRef(null),f=Ae(t,u),d=i.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=v=>{a6.includes(v.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),o.jsx(yP,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(oT,{disabled:a,required:i.required,checked:d,...c,...s,name:i.name,ref:f,onCheck:()=>i.onValueChange(s.value),onKeyDown:oe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:oe(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});mT.displayName=hT;var d6="RadioGroupIndicator",pT=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=dT(n);return o.jsx(lT,{...s,...r,ref:t})});pT.displayName=d6;var gT=fT,vT=mT,f6=pT;const yT=m.forwardRef(({className:e,...t},n)=>o.jsx(gT,{className:te("grid gap-2",e),...t,ref:n}));yT.displayName=gT.displayName;const kd=m.forwardRef(({className:e,...t},n)=>o.jsx(vT,{ref:n,className:te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(f6,{className:"flex items-center justify-center",children:o.jsx(YD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));kd.displayName=vT.displayName;var h6="Label",xT=m.forwardRef((e,t)=>o.jsx(ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xT.displayName=h6;var wT=xT;const m6=du("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=m.forwardRef(({className:e,...t},n)=>o.jsx(wT,{ref:n,className:te(m6(),e),...t}));Te.displayName=wT.displayName;const p6=["top","right","bottom","left"],ji=Math.min,Pn=Math.max,bf=Math.round,id=Math.floor,Vr=e=>({x:e,y:e}),g6={left:"right",right:"left",bottom:"top",top:"bottom"},v6={start:"end",end:"start"};function Jg(e,t,n){return Pn(e,ji(t,n))}function bs(e,t){return typeof e=="function"?e(t):e}function js(e){return e.split("-")[0]}function dl(e){return e.split("-")[1]}function Sx(e){return e==="x"?"y":"x"}function Nx(e){return e==="y"?"height":"width"}function Si(e){return["top","bottom"].includes(js(e))?"y":"x"}function Cx(e){return Sx(Si(e))}function y6(e,t,n){n===void 0&&(n=!1);const r=dl(e),s=Cx(e),i=Nx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=jf(a)),[a,jf(a)]}function x6(e){const t=jf(e);return[ev(e),t,ev(t)]}function ev(e){return e.replace(/start|end/g,t=>v6[t])}function w6(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function b6(e,t,n,r){const s=dl(e);let i=w6(js(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(ev)))),i}function jf(e){return e.replace(/left|right|bottom|top/g,t=>g6[t])}function j6(e){return{top:0,right:0,bottom:0,left:0,...e}}function bT(e){return typeof e!="number"?j6(e):{top:e,right:e,bottom:e,left:e}}function Sf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Gj(e,t,n){let{reference:r,floating:s}=e;const i=Si(t),a=Cx(t),l=Nx(a),c=js(t),u=i==="y",f=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:r.y-s.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(dl(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const S6=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Gj(u,r,c),h=r,p={},y=0;for(let v=0;v<l.length;v++){const{name:w,fn:x}=l[v],{x:g,y:b,data:j,reset:N}=await x({x:f,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});f=g??f,d=b??d,p={...p,[w]:{...p[w],...j}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:f,y:d}=Gj(u,h,c)),v=-1)}return{x:f,y:d,placement:h,strategy:s,middlewareData:p}};async function Dc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=bs(t,e),y=bT(p),w=l[h?d==="floating"?"reference":"floating":d],x=Sf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),g=d==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Sf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(x.top-N.top+y.top)/j.y,bottom:(N.bottom-x.bottom+y.bottom)/j.y,left:(x.left-N.left+y.left)/j.x,right:(N.right-x.right+y.right)/j.x}}const N6=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=bs(e,t)||{};if(u==null)return{};const d=bT(f),h={x:n,y:r},p=Cx(s),y=Nx(p),v=await a.getDimensions(u),w=p==="y",x=w?"top":"left",g=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[y]+i.reference[p]-h[p]-i.floating[y],N=h[p]-i.reference[p],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=P?P[b]:0;(!E||!await(a.isElement==null?void 0:a.isElement(P)))&&(E=l.floating[b]||i.floating[y]);const C=j/2-N/2,A=E/2-v[y]/2-1,_=ji(d[x],A),M=ji(d[g],A),I=_,V=E-v[y]-M,F=E/2-v[y]/2+C,X=Jg(I,F,V),Y=!c.arrow&&dl(s)!=null&&F!==X&&i.reference[y]/2-(F<I?_:M)-v[y]/2<0,K=Y?F<I?F-I:F-V:0;return{[p]:h[p]+K,data:{[p]:X,centerOffset:F-X-K,...Y&&{alignmentOffset:K}},reset:Y}}}),C6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=bs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=js(s),g=Si(l),b=js(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(b||!v?[jf(l)]:x6(l)),P=y!=="none";!h&&P&&N.push(...b6(l,v,y,j));const E=[l,...N],C=await Dc(t,w),A=[];let _=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&A.push(C[x]),d){const F=y6(s,a,j);A.push(C[F[0]],C[F[1]])}if(_=[..._,{placement:s,overflows:A}],!A.every(F=>F<=0)){var M,I;const F=(((M=i.flip)==null?void 0:M.index)||0)+1,X=E[F];if(X)return{data:{index:F,overflows:_},reset:{placement:X}};let Y=(I=_.filter(K=>K.overflows[0]<=0).sort((K,D)=>K.overflows[1]-D.overflows[1])[0])==null?void 0:I.placement;if(!Y)switch(p){case"bestFit":{var V;const K=(V=_.filter(D=>{if(P){const z=Si(D.placement);return z===g||z==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(z=>z>0).reduce((z,B)=>z+B,0)]).sort((D,z)=>D[1]-z[1])[0])==null?void 0:V[0];K&&(Y=K);break}case"initialPlacement":Y=l;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function Yj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zj(e){return p6.some(t=>e[t]>=0)}const P6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=bs(e,t);switch(r){case"referenceHidden":{const i=await Dc(t,{...s,elementContext:"reference"}),a=Yj(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Zj(a)}}}case"escaped":{const i=await Dc(t,{...s,altBoundary:!0}),a=Yj(i,n.floating);return{data:{escapedOffsets:a,escaped:Zj(a)}}}default:return{}}}}};async function E6(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=js(n),l=dl(n),c=Si(n)==="y",u=["left","top"].includes(a)?-1:1,f=i&&c?-1:1,d=bs(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const k6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await E6(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},T6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x,y:g}=w;return{x,y:g}}},...c}=bs(e,t),u={x:n,y:r},f=await Dc(t,c),d=Si(js(s)),h=Sx(d);let p=u[h],y=u[d];if(i){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=p+f[w],b=p-f[x];p=Jg(g,p,b)}if(a){const w=d==="y"?"top":"left",x=d==="y"?"bottom":"right",g=y+f[w],b=y-f[x];y=Jg(g,y,b)}const v=l.fn({...t,[h]:p,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:i,[d]:a}}}}}},A6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bs(e,t),f={x:n,y:r},d=Si(s),h=Sx(d);let p=f[h],y=f[d];const v=bs(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+w.mainAxis,N=i.reference[h]+i.reference[b]-w.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var x,g;const b=h==="y"?"width":"height",j=["top","left"].includes(js(s)),N=i.reference[d]-i.floating[b]+(j&&((x=a.offset)==null?void 0:x[d])||0)+(j?0:w.crossAxis),P=i.reference[d]+i.reference[b]+(j?0:((g=a.offset)==null?void 0:g[d])||0)-(j?w.crossAxis:0);y<N?y=N:y>P&&(y=P)}return{[h]:p,[d]:y}}}},_6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=bs(e,t),f=await Dc(t,u),d=js(s),h=dl(s),p=Si(s)==="y",{width:y,height:v}=i.floating;let w,x;d==="top"||d==="bottom"?(w=d,x=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,w=h==="end"?"top":"bottom");const g=v-f.top-f.bottom,b=y-f.left-f.right,j=ji(v-f[w],g),N=ji(y-f[x],b),P=!t.middlewareData.shift;let E=j,C=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=g),P&&!h){const _=Pn(f.left,0),M=Pn(f.right,0),I=Pn(f.top,0),V=Pn(f.bottom,0);p?C=y-2*(_!==0||M!==0?_+M:Pn(f.left,f.right)):E=v-2*(I!==0||V!==0?I+V:Pn(f.top,f.bottom))}await c({...t,availableWidth:C,availableHeight:E});const A=await a.getDimensions(l.floating);return y!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function bh(){return typeof window<"u"}function fl(e){return jT(e)?(e.nodeName||"").toLowerCase():"#document"}function Tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qr(e){var t;return(t=(jT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jT(e){return bh()?e instanceof Node||e instanceof Tn(e).Node:!1}function yr(e){return bh()?e instanceof Element||e instanceof Tn(e).Element:!1}function Ur(e){return bh()?e instanceof HTMLElement||e instanceof Tn(e).HTMLElement:!1}function Xj(e){return!bh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tn(e).ShadowRoot}function yu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=xr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function R6(e){return["table","td","th"].includes(fl(e))}function jh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Px(e){const t=Ex(),n=yr(e)?xr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function I6(e){let t=Ni(e);for(;Ur(t)&&!Xa(t);){if(Px(t))return t;if(jh(t))return null;t=Ni(t)}return null}function Ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xa(e){return["html","body","#document"].includes(fl(e))}function xr(e){return Tn(e).getComputedStyle(e)}function Sh(e){return yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ni(e){if(fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xj(e)&&e.host||qr(e);return Xj(t)?t.host:t}function ST(e){const t=Ni(e);return Xa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ur(t)&&yu(t)?t:ST(t)}function Mc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=ST(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=Tn(s);if(i){const l=tv(a);return t.concat(a,a.visualViewport||[],yu(s)?s:[],l&&n?Mc(l):[])}return t.concat(s,Mc(s,[],n))}function tv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NT(e){const t=xr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ur(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=bf(n)!==i||bf(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function kx(e){return yr(e)?e:e.contextElement}function ba(e){const t=kx(e);if(!Ur(t))return Vr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=NT(t);let a=(i?bf(n.width):n.width)/r,l=(i?bf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const O6=Vr(0);function CT(e){const t=Tn(e);return!Ex()||!t.visualViewport?O6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function D6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tn(e)?!1:t}function bo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=kx(e);let a=Vr(1);t&&(r?yr(r)&&(a=ba(r)):a=ba(e));const l=D6(i,n,r)?CT(i):Vr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,f=s.width/a.x,d=s.height/a.y;if(i){const h=Tn(i),p=r&&yr(r)?Tn(r):r;let y=h,v=tv(y);for(;v&&r&&p!==y;){const w=ba(v),x=v.getBoundingClientRect(),g=xr(v),b=x.left+(v.clientLeft+parseFloat(g.paddingLeft))*w.x,j=x.top+(v.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=b,u+=j,y=Tn(v),v=tv(y)}}return Sf({width:f,height:d,x:c,y:u})}function Tx(e,t){const n=Sh(e).scrollLeft;return t?t.left+n:bo(qr(e)).left+n}function PT(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Tx(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function M6(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=qr(r),l=t?jh(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Vr(1);const f=Vr(0),d=Ur(r);if((d||!d&&!i)&&((fl(r)!=="body"||yu(a))&&(c=Sh(r)),Ur(r))){const p=bo(r);u=ba(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const h=a&&!d&&!i?PT(a,c,!0):Vr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:n.y*u.y-c.scrollTop*u.y+f.y+h.y}}function F6(e){return Array.from(e.getClientRects())}function L6(e){const t=qr(e),n=Sh(e),r=e.ownerDocument.body,s=Pn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Pn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Tx(e);const l=-n.scrollTop;return xr(r).direction==="rtl"&&(a+=Pn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function V6(e,t){const n=Tn(e),r=qr(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Ex();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function $6(e,t){const n=bo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ur(e)?ba(e):Vr(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function Jj(e,t,n){let r;if(t==="viewport")r=V6(e,n);else if(t==="document")r=L6(qr(e));else if(yr(t))r=$6(t,n);else{const s=CT(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Sf(r)}function ET(e,t){const n=Ni(e);return n===t||!yr(n)||Xa(n)?!1:xr(n).position==="fixed"||ET(n,t)}function U6(e,t){const n=t.get(e);if(n)return n;let r=Mc(e,[],!1).filter(l=>yr(l)&&fl(l)!=="body"),s=null;const i=xr(e).position==="fixed";let a=i?Ni(e):e;for(;yr(a)&&!Xa(a);){const l=xr(a),c=Px(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||yu(a)&&!c&&ET(e,a))?r=r.filter(f=>f!==a):s=l,a=Ni(a)}return t.set(e,r),r}function z6(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?jh(t)?[]:U6(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,f)=>{const d=Jj(t,f,s);return u.top=Pn(d.top,u.top),u.right=ji(d.right,u.right),u.bottom=ji(d.bottom,u.bottom),u.left=Pn(d.left,u.left),u},Jj(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function B6(e){const{width:t,height:n}=NT(e);return{width:t,height:n}}function W6(e,t,n){const r=Ur(t),s=qr(t),i=n==="fixed",a=bo(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Vr(0);if(r||!r&&!i)if((fl(t)!=="body"||yu(s))&&(l=Sh(t)),r){const h=bo(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=Tx(s));const u=s&&!r&&!i?PT(s,l):Vr(0),f=a.left+l.scrollLeft-c.x-u.x,d=a.top+l.scrollTop-c.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function ap(e){return xr(e).position==="static"}function eS(e,t){if(!Ur(e)||xr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qr(e)===n&&(n=n.ownerDocument.body),n}function kT(e,t){const n=Tn(e);if(jh(e))return n;if(!Ur(e)){let s=Ni(e);for(;s&&!Xa(s);){if(yr(s)&&!ap(s))return s;s=Ni(s)}return n}let r=eS(e,t);for(;r&&R6(r)&&ap(r);)r=eS(r,t);return r&&Xa(r)&&ap(r)&&!Px(r)?n:r||I6(e)||n}const H6=async function(e){const t=this.getOffsetParent||kT,n=this.getDimensions,r=await n(e.floating);return{reference:W6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function q6(e){return xr(e).direction==="rtl"}const K6={convertOffsetParentRelativeRectToViewportRelativeRect:M6,getDocumentElement:qr,getClippingRect:z6,getOffsetParent:kT,getElementRects:H6,getClientRects:F6,getDimensions:B6,getScale:ba,isElement:yr,isRTL:q6};function Q6(e,t){let n=null,r;const s=qr(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const p=id(f),y=id(s.clientWidth-(u+d)),v=id(s.clientHeight-(f+h)),w=id(u),g={rootMargin:-p+"px "+-y+"px "+-v+"px "+-w+"px",threshold:Pn(0,ji(1,c))||1};let b=!0;function j(N){const P=N[0].intersectionRatio;if(P!==c){if(!b)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(j,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,g)}n.observe(e)}return a(!0),i}function G6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=kx(e),f=s||i?[...u?Mc(u):[],...Mc(t)]:[];f.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const d=u&&l?Q6(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let y,v=c?bo(e):null;c&&w();function w(){const x=bo(e);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,y=requestAnimationFrame(w)}return n(),()=>{var x;f.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Y6=k6,Z6=T6,X6=C6,J6=_6,ez=P6,tS=N6,tz=A6,nz=(e,t,n)=>{const r=new Map,s={platform:K6,...n},i={...s.platform,_c:r};return S6(e,t,{...s,platform:i})};var Td=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Nf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Nf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Nf(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function TT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nS(e,t){const n=TT(e);return Math.round(t*n)/n}function lp(e){const t=m.useRef(e);return Td(()=>{t.current=e}),t}function rz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);Nf(h,r)||p(r);const[y,v]=m.useState(null),[w,x]=m.useState(null),g=m.useCallback(D=>{D!==P.current&&(P.current=D,v(D))},[]),b=m.useCallback(D=>{D!==E.current&&(E.current=D,x(D))},[]),j=i||y,N=a||w,P=m.useRef(null),E=m.useRef(null),C=m.useRef(f),A=c!=null,_=lp(c),M=lp(s),I=lp(u),V=m.useCallback(()=>{if(!P.current||!E.current)return;const D={placement:t,strategy:n,middleware:h};M.current&&(D.platform=M.current),nz(P.current,E.current,D).then(z=>{const B={...z,isPositioned:I.current!==!1};F.current&&!Nf(C.current,B)&&(C.current=B,Eo.flushSync(()=>{d(B)}))})},[h,t,n,M,I]);Td(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[u]);const F=m.useRef(!1);Td(()=>(F.current=!0,()=>{F.current=!1}),[]),Td(()=>{if(j&&(P.current=j),N&&(E.current=N),j&&N){if(_.current)return _.current(j,N,V);V()}},[j,N,V,_,A]);const X=m.useMemo(()=>({reference:P,floating:E,setReference:g,setFloating:b}),[g,b]),Y=m.useMemo(()=>({reference:j,floating:N}),[j,N]),K=m.useMemo(()=>{const D={position:n,left:0,top:0};if(!Y.floating)return D;const z=nS(Y.floating,f.x),B=nS(Y.floating,f.y);return l?{...D,transform:"translate("+z+"px, "+B+"px)",...TT(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:B}},[n,l,Y.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:V,refs:X,elements:Y,floatingStyles:K}),[f,V,X,Y,K])}const sz=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?tS({element:r.current,padding:s}).fn(n):{}:r?tS({element:r,padding:s}).fn(n):{}}}},iz=(e,t)=>({...Y6(e),options:[e,t]}),oz=(e,t)=>({...Z6(e),options:[e,t]}),az=(e,t)=>({...tz(e),options:[e,t]}),lz=(e,t)=>({...X6(e),options:[e,t]}),cz=(e,t)=>({...J6(e),options:[e,t]}),uz=(e,t)=>({...ez(e),options:[e,t]}),dz=(e,t)=>({...sz(e),options:[e,t]});var fz="Arrow",AT=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(ue.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});AT.displayName=fz;var hz=AT;function mz(e,t=[]){let n=[];function r(i,a){const l=m.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:h,children:p,...y}=d,v=(h==null?void 0:h[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:w,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,y=m.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,f]}const s=()=>{const i=n.map(a=>m.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,pz(s,...t)]}function pz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Ax="Popper",[_T,Nh]=mz(Ax),[gz,RT]=_T(Ax),IT=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return o.jsx(gz,{scope:t,anchor:r,onAnchorChange:s,children:n})};IT.displayName=Ax;var OT="PopperAnchor",DT=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=RT(OT,n),a=m.useRef(null),l=Ae(t,a);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ue.div,{...s,ref:l})});DT.displayName=OT;var _x="PopperContent",[vz,yz]=_T(_x),MT=m.forwardRef((e,t)=>{var le,Be,dt,He,Ie,We;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...v}=e,w=RT(_x,n),[x,g]=m.useState(null),b=Ae(t,Mt=>g(Mt)),[j,N]=m.useState(null),P=xh(j),E=(P==null?void 0:P.width)??0,C=(P==null?void 0:P.height)??0,A=r+(i!=="center"?"-"+i:""),_=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],I=M.length>0,V={padding:_,boundary:M.filter(wz),altBoundary:I},{refs:F,floatingStyles:X,placement:Y,isPositioned:K,middlewareData:D}=rz({strategy:"fixed",placement:A,whileElementsMounted:(...Mt)=>G6(...Mt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[iz({mainAxis:s+C,alignmentAxis:a}),c&&oz({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?az():void 0,...V}),c&&lz({...V}),cz({...V,apply:({elements:Mt,rects:tn,availableWidth:Mn,availableHeight:Sn})=>{const{width:jr,height:k}=tn.reference,O=Mt.floating.style;O.setProperty("--radix-popper-available-width",`${Mn}px`),O.setProperty("--radix-popper-available-height",`${Sn}px`),O.setProperty("--radix-popper-anchor-width",`${jr}px`),O.setProperty("--radix-popper-anchor-height",`${k}px`)}}),j&&dz({element:j,padding:l}),bz({arrowWidth:E,arrowHeight:C}),h&&uz({strategy:"referenceHidden",...V})]}),[z,B]=VT(Y),G=Et(y);$t(()=>{K&&(G==null||G())},[K,G]);const je=(le=D.arrow)==null?void 0:le.x,Je=(Be=D.arrow)==null?void 0:Be.y,Le=((dt=D.arrow)==null?void 0:dt.centerOffset)!==0,[Qe,Ge]=m.useState();return $t(()=>{x&&Ge(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:K?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qe,"--radix-popper-transform-origin":[(He=D.transformOrigin)==null?void 0:He.x,(Ie=D.transformOrigin)==null?void 0:Ie.y].join(" "),...((We=D.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(vz,{scope:n,placedSide:z,onArrowChange:N,arrowX:je,arrowY:Je,shouldHideArrow:Le,children:o.jsx(ue.div,{"data-side":z,"data-align":B,...v,ref:b,style:{...v.style,animation:K?void 0:"none"}})})})});MT.displayName=_x;var FT="PopperArrow",xz={top:"bottom",right:"left",bottom:"top",left:"right"},LT=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=yz(FT,r),a=xz[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(hz,{...s,ref:n,style:{...s.style,display:"block"}})})});LT.displayName=FT;function wz(e){return e!==null}var bz=e=>({name:"transformOrigin",options:e,fn(t){var w,x,g;const{placement:n,rects:r,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=VT(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let y="",v="";return u==="bottom"?(y=a?d:`${h}px`,v=`${-c}px`):u==="top"?(y=a?d:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=a?d:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=a?d:`${p}px`),{data:{x:y,y:v}}}});function VT(e){const[t,n="center"]=e.split("-");return[t,n]}var $T=IT,UT=DT,zT=MT,BT=LT,jz=[" ","Enter","ArrowUp","ArrowDown"],Sz=[" ","Enter"],xu="Select",[Ch,Ph,Nz]=nh(xu),[hl,m9]=Jn(xu,[Nz,Nh]),Eh=Nh(),[Cz,Ii]=hl(xu),[Pz,Ez]=hl(xu),WT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:y}=e,v=Eh(t),[w,x]=m.useState(null),[g,b]=m.useState(null),[j,N]=m.useState(!1),P=ll(u),[E=!1,C]=Rn({prop:r,defaultProp:s,onChange:i}),[A,_]=Rn({prop:a,defaultProp:l,onChange:c}),M=m.useRef(null),I=w?y||!!w.closest("form"):!0,[V,F]=m.useState(new Set),X=Array.from(V).map(Y=>Y.props.value).join(";");return o.jsx($T,{...v,children:o.jsxs(Cz,{required:p,scope:t,trigger:w,onTriggerChange:x,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:pr(),value:A,onValueChange:_,open:E,onOpenChange:C,dir:P,triggerPointerDownPosRef:M,disabled:h,children:[o.jsx(Ch.Provider,{scope:t,children:o.jsx(Pz,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(Y=>{F(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:m.useCallback(Y=>{F(K=>{const D=new Set(K);return D.delete(Y),D})},[]),children:n})}),I?o.jsxs(p2,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:A,onChange:Y=>_(Y.target.value),disabled:h,form:y,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(V)]},X):null]})})};WT.displayName=xu;var HT="SelectTrigger",qT=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Eh(n),a=Ii(HT,n),l=a.disabled||r,c=Ae(t,a.onTriggerChange),u=Ph(n),f=m.useRef("touch"),[d,h,p]=g2(v=>{const w=u().filter(b=>!b.disabled),x=w.find(b=>b.value===a.value),g=v2(w,v,x);g!==void 0&&a.onValueChange(g.value)}),y=v=>{l||(a.onOpenChange(!0),p()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(UT,{asChild:!0,...i,children:o.jsx(ue.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":m2(a.value)?"":void 0,...s,ref:c,onClick:oe(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&y(v)}),onPointerDown:oe(s.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:oe(s.onKeyDown,v=>{const w=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&jz.includes(v.key)&&(y(),v.preventDefault())})})})});qT.displayName=HT;var KT="SelectValue",QT=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=Ii(KT,n),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=Ae(t,c.onValueNodeChange);return $t(()=>{u(f)},[u,f]),o.jsx(ue.span,{...l,ref:d,style:{pointerEvents:"none"},children:m2(c.value)?o.jsx(o.Fragment,{children:a}):i})});QT.displayName=KT;var kz="SelectIcon",GT=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});GT.displayName=kz;var Tz="SelectPortal",YT=e=>o.jsx(rh,{asChild:!0,...e});YT.displayName=Tz;var jo="SelectContent",ZT=m.forwardRef((e,t)=>{const n=Ii(jo,e.__scopeSelect),[r,s]=m.useState();if($t(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Eo.createPortal(o.jsx(XT,{scope:e.__scopeSelect,children:o.jsx(Ch.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(JT,{...e,ref:t})});ZT.displayName=jo;var sr=10,[XT,Oi]=hl(jo),Az="SelectContentImpl",JT=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w,...x}=e,g=Ii(jo,n),[b,j]=m.useState(null),[N,P]=m.useState(null),E=Ae(t,le=>j(le)),[C,A]=m.useState(null),[_,M]=m.useState(null),I=Ph(n),[V,F]=m.useState(!1),X=m.useRef(!1);m.useEffect(()=>{if(b)return zP(b)},[b]),IP();const Y=m.useCallback(le=>{const[Be,...dt]=I().map(We=>We.ref.current),[He]=dt.slice(-1),Ie=document.activeElement;for(const We of le)if(We===Ie||(We==null||We.scrollIntoView({block:"nearest"}),We===Be&&N&&(N.scrollTop=0),We===He&&N&&(N.scrollTop=N.scrollHeight),We==null||We.focus(),document.activeElement!==Ie))return},[I,N]),K=m.useCallback(()=>Y([C,b]),[Y,C,b]);m.useEffect(()=>{V&&K()},[V,K]);const{onOpenChange:D,triggerPointerDownPosRef:z}=g;m.useEffect(()=>{if(b){let le={x:0,y:0};const Be=He=>{var Ie,We;le={x:Math.abs(Math.round(He.pageX)-(((Ie=z.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(He.pageY)-(((We=z.current)==null?void 0:We.y)??0))}},dt=He=>{le.x<=10&&le.y<=10?He.preventDefault():b.contains(He.target)||D(!1),document.removeEventListener("pointermove",Be),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",dt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",dt,{capture:!0})}}},[b,D,z]),m.useEffect(()=>{const le=()=>D(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[D]);const[B,G]=g2(le=>{const Be=I().filter(Ie=>!Ie.disabled),dt=Be.find(Ie=>Ie.ref.current===document.activeElement),He=v2(Be,le,dt);He&&setTimeout(()=>He.ref.current.focus())}),je=m.useCallback((le,Be,dt)=>{const He=!X.current&&!dt;(g.value!==void 0&&g.value===Be||He)&&(A(le),He&&(X.current=!0))},[g.value]),Je=m.useCallback(()=>b==null?void 0:b.focus(),[b]),Le=m.useCallback((le,Be,dt)=>{const He=!X.current&&!dt;(g.value!==void 0&&g.value===Be||He)&&M(le)},[g.value]),Qe=r==="popper"?nv:e2,Ge=Qe===nv?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w}:{};return o.jsx(XT,{scope:n,content:b,viewport:N,onViewportChange:P,itemRefCallback:je,selectedItem:C,onItemLeave:Je,itemTextRefCallback:Le,focusSelectedItem:K,selectedItemText:_,position:r,isPositioned:V,searchRef:B,children:o.jsx(Ay,{as:gi,allowPinchZoom:!0,children:o.jsx(Ty,{asChild:!0,trapped:g.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:oe(s,le=>{var Be;(Be=g.trigger)==null||Be.focus({preventScroll:!0}),le.preventDefault()}),children:o.jsx(cu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:o.jsx(Qe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:le=>le.preventDefault(),...x,...Ge,onPlaced:()=>F(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:oe(x.onKeyDown,le=>{const Be=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Be&&le.key.length===1&&G(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let He=I().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(le.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ie=le.target,We=He.indexOf(Ie);He=He.slice(We+1)}setTimeout(()=>Y(He)),le.preventDefault()}})})})})})})});JT.displayName=Az;var _z="SelectItemAlignedPosition",e2=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Ii(jo,n),a=Oi(jo,n),[l,c]=m.useState(null),[u,f]=m.useState(null),d=Ae(t,E=>f(E)),h=Ph(n),p=m.useRef(!1),y=m.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:x,focusSelectedItem:g}=a,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&w&&x){const E=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),_=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=_.left-C.left,We=A.left-Ie,Mt=E.left-We,tn=E.width+Mt,Mn=Math.max(tn,C.width),Sn=window.innerWidth-sr,jr=Dg(We,[sr,Math.max(sr,Sn-Mn)]);l.style.minWidth=tn+"px",l.style.left=jr+"px"}else{const Ie=C.right-_.right,We=window.innerWidth-A.right-Ie,Mt=window.innerWidth-E.right-We,tn=E.width+Mt,Mn=Math.max(tn,C.width),Sn=window.innerWidth-sr,jr=Dg(We,[sr,Math.max(sr,Sn-Mn)]);l.style.minWidth=tn+"px",l.style.right=jr+"px"}const M=h(),I=window.innerHeight-sr*2,V=v.scrollHeight,F=window.getComputedStyle(u),X=parseInt(F.borderTopWidth,10),Y=parseInt(F.paddingTop,10),K=parseInt(F.borderBottomWidth,10),D=parseInt(F.paddingBottom,10),z=X+Y+V+D+K,B=Math.min(w.offsetHeight*5,z),G=window.getComputedStyle(v),je=parseInt(G.paddingTop,10),Je=parseInt(G.paddingBottom,10),Le=E.top+E.height/2-sr,Qe=I-Le,Ge=w.offsetHeight/2,le=w.offsetTop+Ge,Be=X+Y+le,dt=z-Be;if(Be<=Le){const Ie=M.length>0&&w===M[M.length-1].ref.current;l.style.bottom="0px";const We=u.clientHeight-v.offsetTop-v.offsetHeight,Mt=Math.max(Qe,Ge+(Ie?Je:0)+We+K),tn=Be+Mt;l.style.height=tn+"px"}else{const Ie=M.length>0&&w===M[0].ref.current;l.style.top="0px";const Mt=Math.max(Le,X+v.offsetTop+(Ie?je:0)+Ge)+dt;l.style.height=Mt+"px",v.scrollTop=Be-Le+v.offsetTop}l.style.margin=`${sr}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,v,w,x,i.dir,r]);$t(()=>b(),[b]);const[j,N]=m.useState();$t(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const P=m.useCallback(E=>{E&&y.current===!0&&(b(),g==null||g(),y.current=!1)},[b,g]);return o.jsx(Iz,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(ue.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});e2.displayName=_z;var Rz="SelectPopperPosition",nv=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=sr,...i}=e,a=Eh(n);return o.jsx(zT,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nv.displayName=Rz;var[Iz,Rx]=hl(jo,{}),rv="SelectViewport",t2=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Oi(rv,n),a=Rx(rv,n),l=Ae(t,i.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Ch.Slot,{scope:n,children:o.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const y=window.innerHeight-sr*2,v=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),x=Math.max(v,w);if(x<y){const g=x+p,b=Math.min(y,g),j=g-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});t2.displayName=rv;var n2="SelectGroup",[Oz,Dz]=hl(n2),Mz=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=pr();return o.jsx(Oz,{scope:n,id:s,children:o.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Mz.displayName=n2;var r2="SelectLabel",s2=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Dz(r2,n);return o.jsx(ue.div,{id:s.id,...r,ref:t})});s2.displayName=r2;var Cf="SelectItem",[Fz,i2]=hl(Cf),o2=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=Ii(Cf,n),c=Oi(Cf,n),u=l.value===r,[f,d]=m.useState(i??""),[h,p]=m.useState(!1),y=Ae(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,r,s)}),v=pr(),w=m.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Fz,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(g=>{d(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:o.jsx(Ch.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:o.jsx(ue.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:y,onFocus:oe(a.onFocus,()=>p(!0)),onBlur:oe(a.onBlur,()=>p(!1)),onClick:oe(a.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:oe(a.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:oe(a.onPointerDown,g=>{w.current=g.pointerType}),onPointerMove:oe(a.onPointerMove,g=>{var b;w.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(a.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:oe(a.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(Sz.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});o2.displayName=Cf;var Ul="SelectItemText",a2=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=Ii(Ul,n),l=Oi(Ul,n),c=i2(Ul,n),u=Ez(Ul,n),[f,d]=m.useState(null),h=Ae(t,x=>d(x),c.onItemTextChange,x=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,x,c.value,c.disabled)}),p=f==null?void 0:f.textContent,y=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return $t(()=>(v(y),()=>w(y)),[v,w,y]),o.jsxs(o.Fragment,{children:[o.jsx(ue.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Eo.createPortal(i.children,a.valueNode):null]})});a2.displayName=Ul;var l2="SelectItemIndicator",c2=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i2(l2,n).isSelected?o.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});c2.displayName=l2;var sv="SelectScrollUpButton",u2=m.forwardRef((e,t)=>{const n=Oi(sv,e.__scopeSelect),r=Rx(sv,e.__scopeSelect),[s,i]=m.useState(!1),a=Ae(t,r.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(f2,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});u2.displayName=sv;var iv="SelectScrollDownButton",d2=m.forwardRef((e,t)=>{const n=Oi(iv,e.__scopeSelect),r=Rx(iv,e.__scopeSelect),[s,i]=m.useState(!1),a=Ae(t,r.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(f2,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});d2.displayName=iv;var f2=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Oi("SelectScrollButton",n),a=m.useRef(null),l=Ph(n),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),$t(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{c()})})}),Lz="SelectSeparator",h2=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});h2.displayName=Lz;var ov="SelectArrow",Vz=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Eh(n),i=Ii(ov,n),a=Oi(ov,n);return i.open&&a.position==="popper"?o.jsx(BT,{...s,...r,ref:t}):null});Vz.displayName=ov;function m2(e){return e===""||e===void 0}var p2=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),i=Ae(t,s),a=wh(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&f){const d=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(d)}},[a,n]),o.jsx(uu,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});p2.displayName="BubbleSelect";function g2(e){const t=Et(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function v2(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=$z(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function $z(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Uz=WT,y2=qT,zz=QT,Bz=GT,Wz=YT,x2=ZT,Hz=t2,w2=s2,b2=o2,qz=a2,Kz=c2,j2=u2,S2=d2,N2=h2;const di=Uz,fi=zz,hs=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(y2,{ref:r,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(Bz,{asChild:!0,children:o.jsx(jy,{className:"h-4 w-4 opacity-50"})})]}));hs.displayName=y2.displayName;const C2=m.forwardRef(({className:e,...t},n)=>o.jsx(j2,{ref:n,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(QD,{className:"h-4 w-4"})}));C2.displayName=j2.displayName;const P2=m.forwardRef(({className:e,...t},n)=>o.jsx(S2,{ref:n,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(jy,{className:"h-4 w-4"})}));P2.displayName=S2.displayName;const ms=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(Wz,{children:o.jsxs(x2,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(C2,{}),o.jsx(Hz,{className:te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(P2,{})]})}));ms.displayName=x2.displayName;const Qz=m.forwardRef(({className:e,...t},n)=>o.jsx(w2,{ref:n,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Qz.displayName=w2.displayName;const Gt=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(b2,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Kz,{children:o.jsx(by,{className:"h-4 w-4"})})}),o.jsx(qz,{children:t})]}));Gt.displayName=b2.displayName;const Gz=m.forwardRef(({className:e,...t},n)=>o.jsx(N2,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));Gz.displayName=N2.displayName;function Yz({item:e,isOpen:t,onClose:n}){const{addToCart:r}=cl(),{user:s}=ut(),i=Wr(),{toast:a}=tt(),[l,c]=m.useState("small"),[u,f]=m.useState({}),[d,h]=m.useState(1),{data:p}=Pt({queryKey:["/api/menu",e==null?void 0:e.id,"options"],queryFn:async()=>{if(!(e!=null&&e.hasOptions))return[];try{return await(await ve("GET",`/api/menu/${e.id}/options`)).json()}catch(P){return console.error("Error fetching options:",P),[]}},enabled:!!(e!=null&&e.hasOptions)}),{data:y}=Pt({queryKey:["/api/favorites",e==null?void 0:e.id],queryFn:async()=>{if(!s||!e)return{isFavorite:!1};try{return await(await ve("GET",`/api/favorites/${e.id}`)).json()}catch{return{isFavorite:!1}}},enabled:!!s&&!!e});m.useEffect(()=>{if(t&&e)if(c("small"),h(1),p&&p.length>0){const P={};p.filter(E=>!E.isParent&&!E.parentId).length>0&&(P.Flavor=""),f(P)}else f({})},[t,e,p]);const v=ke({mutationFn:async()=>e?(await ve("POST","/api/favorites",{menuItemId:e.id})).json():void 0,onSuccess:()=>{i.invalidateQueries({queryKey:["/api/favorites"]}),i.invalidateQueries({queryKey:["/api/favorites",e==null?void 0:e.id]}),a({title:"Added to favorites",description:`${e==null?void 0:e.name} has been added to your favorites.`})}}),w=ke({mutationFn:async()=>e?(await ve("DELETE",`/api/favorites/${e.id}`)).json():void 0,onSuccess:()=>{i.invalidateQueries({queryKey:["/api/favorites"]}),i.invalidateQueries({queryKey:["/api/favorites",e==null?void 0:e.id]}),a({title:"Removed from favorites",description:`${e==null?void 0:e.name} has been removed from your favorites.`})}}),x=()=>{if(!s){a({title:"Login required",description:"Please log in to add items to favorites.",variant:"destructive"});return}y!=null&&y.isFavorite?w.mutate():v.mutate()},g=()=>{if(!p||p.length===0)return[];const P=[];return p.forEach(E=>{if(E.isParent&&E.children){const C=u[E.name];if(C){const A=E.children.find(_=>_.name===C);A&&P.push({name:E.name,value:A.name,priceAdjustment:A.priceAdjustment||0})}}else!E.parentId&&!E.isParent&&u.Flavor===E.name&&P.push({name:"Flavor",value:E.name,priceAdjustment:E.priceAdjustment||0})}),P},b=()=>g().reduce((E,C)=>E+C.priceAdjustment,0),j=()=>{if(!e)return 0;let P=e.price;if(e.hasSizes)switch(l){case"small":P=e.price;break;case"medium":P=e.mediumPrice||e.price*1.25;break;case"large":P=e.largePrice||e.price*1.5;break}const E=b();return P+E},N=()=>{if(!e)return;const P=g();for(let C=0;C<d;C++)r({menuItemId:e.id,name:e.name,price:j(),quantity:1,imageUrl:e.imageUrl||void 0,size:e.hasSizes?l:void 0,options:P});let E=`Added ${d}x ${e.name}`;if(e.hasSizes&&(E+=` (${l})`),P.length>0){const C=P.map(A=>`${A.value}`).join(", ");E+=` with ${C}`}a({title:"Added to cart",description:E}),n()};return e?o.jsx(n6,{children:t&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",children:[o.jsx(an.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:n}),o.jsxs(an.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"relative w-full max-w-md bg-white rounded-t-3xl shadow-2xl max-h-[85vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 p-4 flex justify-between items-center rounded-t-3xl z-10",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Product Details"}),o.jsx(U,{variant:"ghost",size:"sm",onClick:n,className:"p-2 h-auto",children:o.jsx(Xi,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6 pb-24",children:[o.jsxs("div",{className:"relative z-0",children:[o.jsx("div",{className:"aspect-video w-full bg-gray-100 rounded-2xl overflow-hidden mb-4",children:e.imageUrl?o.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"h-full w-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center text-green-700",children:o.jsx("span",{className:"text-lg font-medium",children:"No Image Available"})})}),s&&o.jsx("button",{onClick:x,className:"absolute top-4 right-4 p-2 bg-white/90 rounded-full shadow-md hover:bg-white transition-colors",children:o.jsx(fu,{className:`h-5 w-5 ${y!=null&&y.isFavorite?"fill-red-500 text-red-500":"text-gray-500"}`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",j().toFixed(2)]}),(e.hasSizes||e.hasOptions)&&o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:"Customizable"})]})]})]}),e.hasSizes&&o.jsxs(de,{children:[o.jsx($e,{className:"pb-3",children:o.jsx(Ue,{className:"text-base",children:"Choose Size"})}),o.jsx(fe,{className:"pt-0",children:o.jsxs(yT,{value:l,onValueChange:P=>c(P),children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(kd,{value:"small",id:"small"}),o.jsx(Te,{htmlFor:"small",className:"flex-1",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Small"}),o.jsxs("span",{className:"font-semibold",children:["$",e.price.toFixed(2)]})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(kd,{value:"medium",id:"medium"}),o.jsx(Te,{htmlFor:"medium",className:"flex-1",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Medium"}),o.jsxs("span",{className:"font-semibold",children:["$",(e.mediumPrice||e.price*1.25).toFixed(2)]})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[o.jsx(kd,{value:"large",id:"large"}),o.jsx(Te,{htmlFor:"large",className:"flex-1",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Large"}),o.jsxs("span",{className:"font-semibold",children:["$",(e.largePrice||e.price*1.5).toFixed(2)]})]})})]})]})})]}),e.hasOptions&&p&&p.length>0&&o.jsxs(de,{children:[o.jsx($e,{className:"pb-3",children:o.jsx(Ue,{className:"text-base",children:"Customize Your Order"})}),o.jsxs(fe,{className:"pt-0 space-y-4",children:[p.filter(P=>P.isParent&&P.children&&P.children.length>0).map(P=>{var E;return o.jsxs("div",{children:[o.jsxs(Te,{className:"text-sm font-medium text-gray-700 mb-2 block",children:[P.name," (Optional)"]}),o.jsxs(di,{value:u[P.name]||"",onValueChange:C=>{f(A=>({...A,[P.name]:C}))},children:[o.jsx(hs,{children:o.jsx(fi,{placeholder:`Choose ${P.name}`})}),o.jsx(ms,{children:(E=P.children)==null?void 0:E.map(C=>o.jsx(Gt,{value:C.name,children:o.jsxs("div",{className:"flex justify-between w-full",children:[o.jsx("span",{children:C.name}),typeof C.priceAdjustment=="number"&&C.priceAdjustment>0&&o.jsxs("span",{className:"ml-2",children:["+$",C.priceAdjustment.toFixed(2)]})]})},C.id))})]})]},P.id)}),p.filter(P=>!P.isParent&&!P.parentId).length>0&&o.jsxs("div",{children:[o.jsx(Te,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Flavor (Optional)"}),o.jsxs(di,{value:u.Flavor||"",onValueChange:P=>{f(E=>({...E,Flavor:P}))},children:[o.jsx(hs,{children:o.jsx(fi,{placeholder:"Choose Flavor"})}),o.jsx(ms,{children:p.filter(P=>!P.isParent&&!P.parentId).map(P=>o.jsx(Gt,{value:P.name,children:o.jsxs("div",{className:"flex justify-between w-full",children:[o.jsx("span",{children:P.name}),typeof P.priceAdjustment=="number"&&P.priceAdjustment>0&&o.jsxs("span",{className:"ml-2",children:["+$",P.priceAdjustment.toFixed(2)]})]})},P.id))})]})]})]})]}),o.jsxs(de,{children:[o.jsx($e,{className:"pb-3",children:o.jsx(Ue,{className:"text-base",children:"Quantity"})}),o.jsx(fe,{className:"pt-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700",children:"How many would you like?"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>h(Math.max(1,d-1)),className:"h-8 w-8 p-0",children:o.jsx(BC,{className:"h-4 w-4"})}),o.jsx("span",{className:"font-semibold text-lg w-8 text-center",children:d}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>h(d+1),className:"h-8 w-8 p-0",children:o.jsx(Sy,{className:"h-4 w-4"})})]})]})})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur-sm border-t border-gray-100 p-6 z-10",children:o.jsxs(U,{onClick:N,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white py-3 h-auto rounded-xl shadow-lg",children:["Add to Cart • $",(j()*d).toFixed(2)]})})]})]})}):null}const E2=m.createContext(void 0);function Zz({children:e}){const t=Wr(),{data:n=[],isLoading:r,error:s,isRefetching:i}=Pt({queryKey:["/api/menu"]}),{data:a=[],isLoading:l,error:c,isRefetching:u}=Pt({queryKey:["/api/categories"]}),f=a?[...a].sort((v,w)=>{const x=v.displayOrder??999,g=w.displayOrder??999;return x-g}).map(v=>v.name):[],d=r||l,h=s||c,p=i||u,y=async()=>{try{await t.invalidateQueries({queryKey:["/api/menu"]}),await t.invalidateQueries({queryKey:["/api/categories"]}),console.log("Menu data refreshed")}catch(v){console.error("Error refreshing menu data:",v)}};return o.jsx(E2.Provider,{value:{menuItems:n,categories:f,categoryObjects:a,isLoading:d,isRefreshing:p,error:h||null,refreshMenu:y},children:e})}function Xz(){const e=m.useContext(E2);if(e===void 0)throw new Error("useMenu must be used within a MenuProvider");return e}function Jz(){const{menuItems:e,categories:t,isLoading:n,isRefreshing:r,refreshMenu:s}=Xz(),[i,a]=m.useState("all"),[l,c]=m.useState(null),[u,f]=m.useState(!1),{toast:d}=tt(),h=x=>{c(x),f(!0)},p=()=>{f(!1),c(null)},y=m.useMemo(()=>i==="all"?e:e.filter(x=>x.category===i),[e,i]),v=m.useMemo(()=>{if(i!=="all")return new Map([[i,y]]);const x=new Map;e.forEach(b=>{var j;x.has(b.category)||x.set(b.category,[]),(j=x.get(b.category))==null||j.push(b)});const g=new Map;return t.forEach(b=>{x.has(b)&&g.set(b,x.get(b))}),g},[y,e,i,t]),w=m.useCallback(async()=>{try{await s(),d({title:"Menu Updated",description:"Latest menu items loaded"})}catch{d({title:"Refresh Failed",description:"Could not refresh menu items",variant:"destructive"})}},[s,d]);return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 via-gray-50 to-green-50/30",children:[o.jsx(yi,{}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("main",{className:"p-4 max-w-6xl mx-auto",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-5 mb-6 shadow-sm border border-white/20",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-bold text-2xl text-gray-900 mb-1",children:"Our Menu"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Freshly made with premium ingredients"})]}),o.jsxs(U,{variant:"outline",size:"sm",onClick:w,disabled:r,className:"border-green-200 text-green-700 hover:bg-green-50",children:[r?o.jsx(At,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(oh,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),n?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(At,{className:"h-8 w-8 animate-spin text-green-600"})}):o.jsxs(o.Fragment,{children:[o.jsx(O5,{categories:t,selectedCategory:i,onSelectCategory:a}),i==="all"?Array.from(v.entries()).map(([x,g])=>o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-xl p-4 mb-4 shadow-sm",children:[o.jsx("h2",{className:"font-bold text-xl text-white",children:Hw(x)}),o.jsxs("p",{className:"text-green-100 text-sm",children:[g.length," items available"]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:g.map(b=>o.jsx(Mb,{item:b,onClick:()=>h(b)},b.id))})]},x)):o.jsxs("div",{children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-xl p-4 mb-4 shadow-sm",children:[o.jsx("h2",{className:"font-bold text-xl text-white",children:Hw(i)}),o.jsxs("p",{className:"text-green-100 text-sm",children:[y.length," items available"]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:y.map(x=>o.jsx(Mb,{item:x,onClick:()=>h(x)},x.id))})]})]})]})}),o.jsx(Yz,{item:l,isOpen:u,onClose:p})]})}var Ix="Collapsible",[eB,k2]=Jn(Ix),[tB,Ox]=eB(Ix),T2=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:a,...l}=e,[c=!1,u]=Rn({prop:r,defaultProp:s,onChange:a});return o.jsx(tB,{scope:n,disabled:i,contentId:pr(),open:c,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),children:o.jsx(ue.div,{"data-state":Mx(c),"data-disabled":i?"":void 0,...l,ref:t})})});T2.displayName=Ix;var A2="CollapsibleTrigger",_2=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Ox(A2,n);return o.jsx(ue.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Mx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:oe(e.onClick,s.onOpenToggle)})});_2.displayName=A2;var Dx="CollapsibleContent",R2=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ox(Dx,e.__scopeCollapsible);return o.jsx(jn,{present:n||s.open,children:({present:i})=>o.jsx(nB,{...r,ref:t,present:i})})});R2.displayName=Dx;var nB=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,a=Ox(Dx,n),[l,c]=m.useState(r),u=m.useRef(null),f=Ae(t,u),d=m.useRef(0),h=d.current,p=m.useRef(0),y=p.current,v=a.open||l,w=m.useRef(v),x=m.useRef();return m.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),$t(()=>{const g=u.current;if(g){x.current=x.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();d.current=b.height,p.current=b.width,w.current||(g.style.transitionDuration=x.current.transitionDuration,g.style.animationName=x.current.animationName),c(r)}},[a.open,r]),o.jsx(ue.div,{"data-state":Mx(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!v,...i,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:v&&s})});function Mx(e){return e?"open":"closed"}var rB=T2,sB=_2,iB=R2,Cs="Accordion",oB=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Fx,aB,lB]=nh(Cs),[kh,p9]=Jn(Cs,[lB,k2]),Lx=k2(),I2=ye.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return o.jsx(Fx.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?o.jsx(fB,{...i,ref:t}):o.jsx(dB,{...s,ref:t})})});I2.displayName=Cs;var[O2,cB]=kh(Cs),[D2,uB]=kh(Cs,{collapsible:!1}),dB=ye.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...a}=e,[l,c]=Rn({prop:n,defaultProp:r,onChange:s});return o.jsx(O2,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:ye.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(D2,{scope:e.__scopeAccordion,collapsible:i,children:o.jsx(M2,{...a,ref:t})})})}),fB=ye.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[a=[],l]=Rn({prop:n,defaultProp:r,onChange:s}),c=ye.useCallback(f=>l((d=[])=>[...d,f]),[l]),u=ye.useCallback(f=>l((d=[])=>d.filter(h=>h!==f)),[l]);return o.jsx(O2,{scope:e.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(D2,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(M2,{...i,ref:t})})})}),[hB,Th]=kh(Cs),M2=ye.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...a}=e,l=ye.useRef(null),c=Ae(l,t),u=aB(n),d=ll(s)==="ltr",h=oe(e.onKeyDown,p=>{var C;if(!oB.includes(p.key))return;const y=p.target,v=u().filter(A=>{var _;return!((_=A.ref.current)!=null&&_.disabled)}),w=v.findIndex(A=>A.ref.current===y),x=v.length;if(w===-1)return;p.preventDefault();let g=w;const b=0,j=x-1,N=()=>{g=w+1,g>j&&(g=b)},P=()=>{g=w-1,g<b&&(g=j)};switch(p.key){case"Home":g=b;break;case"End":g=j;break;case"ArrowRight":i==="horizontal"&&(d?N():P());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(d?P():N());break;case"ArrowUp":i==="vertical"&&P();break}const E=g%x;(C=v[E].ref.current)==null||C.focus()});return o.jsx(hB,{scope:n,disabled:r,direction:s,orientation:i,children:o.jsx(Fx.Slot,{scope:n,children:o.jsx(ue.div,{...a,"data-orientation":i,ref:c,onKeyDown:r?void 0:h})})})}),Pf="AccordionItem",[mB,Vx]=kh(Pf),F2=ye.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Th(Pf,n),a=cB(Pf,n),l=Lx(n),c=pr(),u=r&&a.value.includes(r)||!1,f=i.disabled||e.disabled;return o.jsx(mB,{scope:n,open:u,disabled:f,triggerId:c,children:o.jsx(rB,{"data-orientation":i.orientation,"data-state":B2(u),...l,...s,ref:t,disabled:f,open:u,onOpenChange:d=>{d?a.onItemOpen(r):a.onItemClose(r)}})})});F2.displayName=Pf;var L2="AccordionHeader",V2=ye.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Th(Cs,n),i=Vx(L2,n);return o.jsx(ue.h3,{"data-orientation":s.orientation,"data-state":B2(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});V2.displayName=L2;var av="AccordionTrigger",$2=ye.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Th(Cs,n),i=Vx(av,n),a=uB(av,n),l=Lx(n);return o.jsx(Fx.ItemSlot,{scope:n,children:o.jsx(sB,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:t})})});$2.displayName=av;var U2="AccordionContent",z2=ye.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Th(Cs,n),i=Vx(U2,n),a=Lx(n);return o.jsx(iB,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...a,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});z2.displayName=U2;function B2(e){return e?"open":"closed"}var pB=I2,gB=F2,vB=V2,W2=$2,H2=z2;const yB=pB,q2=m.forwardRef(({className:e,...t},n)=>o.jsx(gB,{ref:n,className:te("border-b",e),...t}));q2.displayName="AccordionItem";const K2=m.forwardRef(({className:e,children:t,...n},r)=>o.jsx(vB,{className:"flex",children:o.jsxs(W2,{ref:r,className:te("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,o.jsx(jy,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));K2.displayName=W2.displayName;const Q2=m.forwardRef(({className:e,children:t,...n},r)=>o.jsx(H2,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:te("pb-4 pt-0",e),children:t})}));Q2.displayName=H2.displayName;var xB="Separator",rS="horizontal",wB=["horizontal","vertical"],G2=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=rS,...s}=e,i=bB(r)?r:rS,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(ue.div,{"data-orientation":i,...l,...s,ref:t})});G2.displayName=xB;function bB(e){return wB.includes(e)}var Y2=G2;const Ah=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>o.jsx(Y2,{ref:s,decorative:n,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Ah.displayName=Y2.displayName;function jB(){const e=Wr(),{toast:t}=tt(),{data:n=[],isLoading:r,error:s,isRefetching:i}=Pt({queryKey:["/api/orders"],refetchOnWindowFocus:!0,refetchOnMount:!0}),a=[...n].sort((u,f)=>new Date(f.createdAt).getTime()-new Date(u.createdAt).getTime()),l=u=>{switch(u){case"completed":return"bg-green-500";case"pending":return"bg-yellow-500";case"cancelled":return"bg-red-500";default:return"bg-blue-500"}},c=m.useCallback(async()=>{try{await e.invalidateQueries({queryKey:["/api/orders"]}),t({title:"Orders Updated",description:"Latest order information loaded"})}catch{t({title:"Refresh Failed",description:"Could not refresh order information",variant:"destructive"})}},[e,t]);return o.jsxs("div",{className:"min-h-screen flex flex-col bg-secondary",children:[o.jsx(yi,{}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("main",{className:"p-5",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h1",{className:"font-semibold text-2xl text-primary",children:"Order History"}),o.jsxs(U,{variant:"outline",size:"sm",onClick:c,disabled:i,children:[i?o.jsx(At,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(oh,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(At,{className:"h-8 w-8 animate-spin text-primary"})}):s?o.jsx(de,{children:o.jsx(fe,{className:"p-6 text-center",children:o.jsx("p",{className:"text-red-500",children:"Failed to load orders"})})}):a.length===0?o.jsx(de,{children:o.jsx(fe,{className:"p-6 text-center",children:o.jsx("p",{className:"text-gray-500",children:"You haven't placed any orders yet"})})}):o.jsx("div",{className:"grid gap-4",children:a.map(u=>o.jsxs(de,{children:[o.jsxs($e,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Ue,{className:"text-lg",children:["Order #",u.id]}),o.jsx(Ze,{className:l(u.status),children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),o.jsxs(at,{children:["Placed on ",_g(new Date(u.createdAt))]})]}),o.jsx(fe,{children:o.jsx(yB,{type:"single",collapsible:!0,className:"w-full",children:o.jsxs(q2,{value:"items",children:[o.jsx(K2,{children:"Order Details"}),o.jsx(Q2,{children:o.jsxs("div",{className:"space-y-2",children:[u.items.map((f,d)=>o.jsxs("div",{className:"flex justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:f.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Quantity: ",f.quantity]})]}),o.jsxs("div",{className:"font-medium",children:["$",(f.price*f.quantity).toFixed(2)]})]},d)),o.jsx(Ah,{className:"my-2"}),o.jsxs("div",{className:"flex justify-between font-semibold",children:[o.jsx("div",{children:"Total"}),o.jsx("div",{children:xt(u.total)})]})]})})]})})})]},u.id))})]})})]})}function SB(){const{cart:e,removeFromCart:t,updateCartItemQuantity:n,clearCart:r,calculateSubtotal:s,calculateTotal:i}=cl(),{user:a}=ut(),[l,c]=au(),{toast:u}=tt(),[f,d]=m.useState(!1),h=ke({mutationFn:async x=>await(await ve("POST","/api/orders",x)).json(),onSuccess:x=>{r(),u({title:"Order Placed Successfully!",description:`Your order #${x.id} has been submitted to the kitchen.`}),c("/orders")},onError:x=>{u({title:"Order Failed",description:x.message,variant:"destructive"})}}),p=async()=>{if(!a){u({title:"Please log in",description:"You need to be logged in to place an order.",variant:"destructive"});return}if(e.length===0){u({title:"Cart is empty",description:"Add some items to your cart first.",variant:"destructive"});return}const x=i();if(a.credits<x){u({title:"Insufficient credits",description:`You need $${x.toFixed(2)} in credits but only have $${a.credits.toFixed(2)}.`,variant:"destructive"});return}d(!0);try{await h.mutateAsync({items:e.map(g=>({menuItemId:g.menuItemId,name:g.name,price:g.price,quantity:g.quantity,size:g.size,options:g.options})),total:x})}finally{d(!1)}},y=x=>!x||x.length===0?"":x.map(g=>g.value).join(", "),v=(x,g)=>{g<=0?t(x.menuItemId,x.size,void 0,x.options):n(x.menuItemId,g,x.size,void 0,x.options)},w=x=>{t(x.menuItemId,x.size,void 0,x.options)};return e.length===0?o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 via-gray-50 to-green-50/30",children:[o.jsx(yi,{}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs(an.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(af,{className:"h-12 w-12 text-gray-400"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added any items to your cart yet."}),o.jsx(lu,{href:"/menu",children:o.jsx(U,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:"Browse Menu"})})]})})]}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 via-gray-50 to-green-50/30",children:[o.jsx(yi,{}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsxs("main",{className:"p-4 max-w-2xl mx-auto pb-24",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>c("/menu"),className:"p-2 h-auto",children:o.jsx(Pg,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," item",e.length!==1?"s":""]})]})]}),o.jsx("div",{className:"space-y-4 mb-6",children:e.map((x,g)=>o.jsx(an.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:o.jsx(de,{className:"overflow-hidden border-gray-200",children:o.jsx(fe,{className:"p-4",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:x.imageUrl?o.jsx("img",{src:x.imageUrl,alt:x.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-green-700 font-medium",children:"No Image"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:x.name}),o.jsxs("div",{className:"space-y-1",children:[x.size&&o.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",x.size.charAt(0).toUpperCase()+x.size.slice(1)]}),x.options&&x.options.length>0&&o.jsx("p",{className:"text-xs text-gray-600",children:y(x.options)})]}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsxs("span",{className:"font-semibold text-green-600",children:["$",x.price.toFixed(2)]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w(x),className:"p-1 h-auto text-gray-400 hover:text-red-500",children:o.jsx(Bo,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>v(x,x.quantity-1),className:"h-8 w-8 p-0",children:o.jsx(BC,{className:"h-3 w-3"})}),o.jsx("span",{className:"font-semibold text-sm w-8 text-center",children:x.quantity}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>v(x,x.quantity+1),className:"h-8 w-8 p-0",children:o.jsx(Sy,{className:"h-3 w-3"})})]})]})]})]})]})})})},`${x.menuItemId}-${x.size}-${JSON.stringify(x.options)}`))}),o.jsx(de,{className:"border-gray-200 mb-6",children:o.jsxs(fe,{className:"p-6",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"text-gray-900",children:["$",s().toFixed(2)]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-2 mt-3",children:o.jsxs("div",{className:"flex justify-between font-semibold text-base",children:[o.jsx("span",{className:"text-gray-900",children:"Total"}),o.jsxs("span",{className:"text-green-600",children:["$",i().toFixed(2)]})]})})]})]})}),o.jsx("div",{className:"mb-6",children:o.jsx(U,{variant:"outline",onClick:r,className:"w-full border-red-200 text-red-600 hover:bg-red-50",children:"Clear Cart"})})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-gray-200 p-4 z-[60]",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx(U,{onClick:p,disabled:f||!a||e.length===0,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white py-3 h-auto rounded-xl shadow-lg",children:f?"Processing...":`Place Order • $${i().toFixed(2)}`}),a&&o.jsxs("div",{className:"text-center mt-2 text-sm text-gray-600",children:["Available Credits: $",a.credits.toFixed(2)]})]})})]})]})}var $x="Switch",[NB,g9]=Jn($x),[CB,PB]=NB($x),Z2=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=m.useState(null),y=Ae(t,b=>p(b)),v=m.useRef(!1),w=h?f||!!h.closest("form"):!0,[x=!1,g]=Rn({prop:s,defaultProp:i,onChange:u});return o.jsxs(CB,{scope:n,checked:x,disabled:l,children:[o.jsx(ue.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":eA(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:y,onClick:oe(e.onClick,b=>{g(j=>!j),w&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),w&&o.jsx(EB,{control:h,bubbles:!v.current,name:r,value:c,checked:x,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Z2.displayName=$x;var X2="SwitchThumb",J2=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=PB(X2,n);return o.jsx(ue.span,{"data-state":eA(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});J2.displayName=X2;var EB=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=m.useRef(null),a=wh(n),l=xh(t);return m.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&d){const h=new Event("click",{bubbles:r});d.call(c,n),c.dispatchEvent(h)}},[a,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eA(e){return e?"checked":"unchecked"}var tA=Z2,kB=J2;const Gn=m.forwardRef(({className:e,...t},n)=>o.jsx(tA,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(kB,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gn.displayName=tA.displayName;var[_h,v9]=Jn("Tooltip",[Nh]),Rh=Nh(),nA="TooltipProvider",TB=700,lv="tooltip.open",[AB,Ux]=_h(nA),rA=e=>{const{__scopeTooltip:t,delayDuration:n=TB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[a,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),o.jsx(AB,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(f=>{c.current=f},[]),disableHoverableContent:s,children:i})};rA.displayName=nA;var Ih="Tooltip",[_B,Oh]=_h(Ih),sA=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=e,c=Ux(Ih,e.__scopeTooltip),u=Rh(t),[f,d]=m.useState(null),h=pr(),p=m.useRef(0),y=a??c.disableHoverableContent,v=l??c.delayDuration,w=m.useRef(!1),[x=!1,g]=Rn({prop:r,defaultProp:s,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(lv))):c.onClose(),i==null||i(E)}}),b=m.useMemo(()=>x?w.current?"delayed-open":"instant-open":"closed",[x]),j=m.useCallback(()=>{window.clearTimeout(p.current),w.current=!1,g(!0)},[g]),N=m.useCallback(()=>{window.clearTimeout(p.current),g(!1)},[g]),P=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,g(!0)},v)},[v,g]);return m.useEffect(()=>()=>window.clearTimeout(p.current),[]),o.jsx($T,{...u,children:o.jsx(_B,{scope:t,contentId:h,open:x,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayed?P():j()},[c.isOpenDelayed,P,j]),onTriggerLeave:m.useCallback(()=>{y?N():window.clearTimeout(p.current)},[N,y]),onOpen:j,onClose:N,disableHoverableContent:y,children:n})})};sA.displayName=Ih;var cv="TooltipTrigger",iA=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Oh(cv,n),i=Ux(cv,n),a=Rh(n),l=m.useRef(null),c=Ae(t,l,s.onTriggerChange),u=m.useRef(!1),f=m.useRef(!1),d=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(UT,{asChild:!0,...a,children:o.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:oe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:oe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(e.onBlur,s.onClose),onClick:oe(e.onClick,s.onClose)})})});iA.displayName=cv;var RB="TooltipPortal",[y9,IB]=_h(RB,{forceMount:void 0}),Ja="TooltipContent",oA=m.forwardRef((e,t)=>{const n=IB(Ja,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Oh(Ja,e.__scopeTooltip);return o.jsx(jn,{present:r||a.open,children:a.disableHoverableContent?o.jsx(aA,{side:s,...i,ref:t}):o.jsx(OB,{side:s,...i,ref:t})})}),OB=m.forwardRef((e,t)=>{const n=Oh(Ja,e.__scopeTooltip),r=Ux(Ja,e.__scopeTooltip),s=m.useRef(null),i=Ae(t,s),[a,l]=m.useState(null),{trigger:c,onClose:u}=n,f=s.current,{onPointerInTransitChange:d}=r,h=m.useCallback(()=>{l(null),d(!1)},[d]),p=m.useCallback((y,v)=>{const w=y.currentTarget,x={x:y.clientX,y:y.clientY},g=LB(x,w.getBoundingClientRect()),b=VB(x,g),j=$B(v.getBoundingClientRect()),N=zB([...b,...j]);l(N),d(!0)},[d]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&f){const y=w=>p(w,f),v=w=>p(w,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",v)}}},[c,f,p,h]),m.useEffect(()=>{if(a){const y=v=>{const w=v.target,x={x:v.clientX,y:v.clientY},g=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),b=!UB(x,a);g?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,a,u,h]),o.jsx(aA,{...e,ref:i})}),[DB,MB]=_h(Ih,{isInside:!1}),aA=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Oh(Ja,n),u=Rh(n),{onClose:f}=c;return m.useEffect(()=>(document.addEventListener(lv,f),()=>document.removeEventListener(lv,f)),[f]),m.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),o.jsx(cu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs(zT,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(pC,{children:r}),o.jsx(DB,{scope:n,isInside:!0,children:o.jsx(ND,{id:c.contentId,role:"tooltip",children:s||r})})]})})});oA.displayName=Ja;var lA="TooltipArrow",FB=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Rh(n);return MB(lA,n).isInside?null:o.jsx(BT,{...s,...r,ref:t})});FB.displayName=lA;function LB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function VB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function $B(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function UB(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i].x,c=t[i].y,u=t[a].x,f=t[a].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(s=!s)}return s}function zB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),BB(t)}function BB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var WB=rA,HB=sA,qB=iA,cA=oA;const KB=WB,QB=HB,GB=qB,uA=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(cA,{ref:r,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));uA.displayName=cA.displayName;const uv=()=>{if(typeof window>"u"||typeof navigator>"u")return{isiOS:!1,isSafari:!1,isChrome:!1,isFirefox:!1,isEdge:!1,isiOSSafari:!1};const e=navigator.userAgent.toLowerCase(),t={isiOSByUA:/ipad|iphone|ipod/.test(e),isiOSByPlatform:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,isiOSBySafari:e.includes("safari")&&!e.includes("chrome")&&(e.includes("apple")||e.includes("ios")),hasSafari:e.includes("safari")&&!e.includes("chrome"),hasChrome:/chrome|crios/i.test(e)&&!/edge|edg/i.test(e),hasFirefox:/firefox|fxios/i.test(e),hasEdge:/edge|edg/i.test(e)},n={isiOS:t.isiOSByUA||t.isiOSByPlatform||t.isiOSBySafari,isSafari:t.hasSafari,isChrome:t.hasChrome,isFirefox:t.hasFirefox,isEdge:t.hasEdge},r=n.isiOS&&n.isSafari&&!n.isChrome&&!n.isFirefox&&!n.isEdge;return console.log("Browser detection results:",{...n,isiOSSafari:r,userAgent:e.substring(0,50)}),{...n,isiOSSafari:r}},YB=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,ZB=async()=>{if("serviceWorker"in navigator)try{return!!await navigator.serviceWorker.getRegistration()}catch(e){return console.error("Service Worker check failed:",e),!1}return!1};function XB(){ut();const{toast:e}=tt(),{isSupported:t,isSubscribed:n,isPending:r,isPermissionDenied:s,subscribe:i,unsubscribe:a}=Dy();m.useEffect(()=>{if(uv().isiOSSafari){console.log("Not attempting push subscription on iOS Safari");return}if(t&&!n&&!r&&!s&&"Notification"in window){console.log("Auto-subscribing admin user to push notifications");const u=setTimeout(()=>{console.log("Subscription attempt timed out")},5e3);Notification.permission==="granted"?i().catch(f=>{console.error("Error auto-subscribing to notifications:",f)}).finally(()=>clearTimeout(u)):Notification.permission!=="denied"&&Notification.requestPermission().then(f=>{f==="granted"&&i().catch(d=>{console.error("Error auto-subscribing to notifications after permission granted:",d)})}).finally(()=>clearTimeout(u))}},[t,n,r,s,i]);const l=async()=>{if(!r)try{if(n)a();else{if(uv().isiOSSafari){e({title:"Not Supported",description:"Push notifications are not supported in iOS Safari. Please use the in-app notifications instead.",duration:6e3});return}if(s){e({title:"Permission Required",description:"You previously denied notification permission. Please update your browser settings to allow notifications from this site.",duration:6e3});return}const u=setTimeout(()=>{console.log("Subscription attempt timed out"),e({title:"Subscription Failed",description:"The subscription attempt took too long. Please try again.",duration:6e3})},5e3);"Notification"in window?Notification.permission==="granted"?i().catch(f=>{console.error("Error subscribing to notifications:",f),e({title:"Subscription Failed",description:"There was a problem enabling notifications. Please try again.",variant:"destructive"})}).finally(()=>clearTimeout(u)):Notification.permission!=="denied"&&Notification.requestPermission().then(f=>{f==="granted"?i().catch(d=>{console.error("Error subscribing after permission granted:",d),e({title:"Subscription Failed",description:"There was a problem enabling notifications after permission was granted.",variant:"destructive"})}):e({title:"Permission Denied",description:"You need to allow notification permission to receive updates.",variant:"destructive"})}).finally(()=>clearTimeout(u)):(e({title:"Not Supported",description:"Your browser doesn't support web notifications.",variant:"destructive"}),clearTimeout(u))}}catch(c){console.error("Error toggling admin notifications:",c),e({title:"Error",description:"There was a problem with the notification system.",variant:"destructive"})}};return t?s?o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg text-sm space-y-2",children:[o.jsxs("div",{className:"font-medium flex items-center text-yellow-800 dark:text-yellow-300",children:[o.jsx(vi,{className:"h-4 w-4 mr-2"}),"Permission Required"]}),o.jsx("p",{className:"text-yellow-700 dark:text-yellow-400 text-sm",children:"You've blocked notifications for this site. To receive order notifications, please update your browser settings to allow notifications from Bean Stalker."}),o.jsx(U,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>window.open("https://support.google.com/chrome/answer/3220216?hl=en"),children:"Learn How"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("p",{className:"text-base font-medium",children:"Admin Push Notifications"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:n?"You're receiving notifications about new orders":"Get notified immediately when new orders come in"})]}),o.jsx(Gn,{checked:n,onCheckedChange:l,disabled:r})]}),r&&o.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[o.jsx(At,{className:"h-3 w-3 mr-2 animate-spin"}),"Processing..."]}),n&&o.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400 text-sm",children:[o.jsx(Js,{className:"h-3 w-3 mr-2"}),"Notifications enabled"]})]}):o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg text-sm space-y-2",children:[o.jsxs("div",{className:"font-medium flex items-center text-yellow-800 dark:text-yellow-300",children:[o.jsx(vi,{className:"h-4 w-4 mr-2"}),"Notifications Not Supported"]}),o.jsx("p",{className:"text-yellow-700 dark:text-yellow-400 text-sm",children:"Your browser doesn't support push notifications. For the best admin experience, please use a modern browser like Chrome, Edge, or Firefox."})]})}function JB({className:e}){const{isSupported:t,isSubscribed:n,isPending:r,isPermissionDenied:s,subscribe:i,unsubscribe:a}=Dy(),{toast:l}=tt(),[c]=m.useState(uv()),[u,f]=m.useState(!1),[d,h]=m.useState(!1);if(m.useEffect(()=>{f(YB()),ZB().then(v=>{h(v)});const p=window.matchMedia("(display-mode: standalone)"),y=v=>{f(v.matches)};return p.addEventListener("change",y),()=>{p.removeEventListener("change",y)}},[]),c.isiOSSafari){const{enabled:p,enableNotifications:y,disableNotifications:v}=My();return o.jsx("div",{className:te("space-y-6",e),children:o.jsxs(de,{className:"w-full border-amber-200",children:[o.jsxs($e,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Ue,{children:"Notifications"}),o.jsx(Ze,{variant:"outline",className:"text-xs bg-amber-100 text-amber-800 border-amber-200",children:"iOS Alternative"})]}),o.jsx(at,{children:"In-app notifications for iOS Safari"})]}),o.jsxs(fe,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[p?o.jsx(sf,{className:"h-5 w-5 text-primary"}):o.jsx(Vw,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:p?"In-app notifications are enabled":"Enable in-app notifications"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive notifications when the app is open"})]})]}),o.jsx(Gn,{checked:p,onCheckedChange:w=>{w?y():v()}})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx(bd,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm",children:"Apple doesn't support web push notifications on iOS Safari. We've implemented an alternative system that shows notifications while the app is open."}),u?o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[o.jsx(Js,{className:"h-3 w-3 mr-1 text-green-500"}),"App installed to home screen"]}):o.jsx("p",{className:"text-xs text-muted-foreground",children:"We recommend adding this app to your home screen for the best experience."})]})]})]}),p&&o.jsxs(xa,{className:"border-t pt-4 flex justify-between",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Test the in-app notification system"}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>{l({title:"Test Notification",description:"This is how notifications will appear in the app",duration:5e3})},children:"Test Notification"})]}),!u&&o.jsxs(xa,{className:"flex flex-col items-start px-6 py-4 bg-muted/50 border-t",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(bd,{className:"h-4 w-4 text-primary mr-2"}),o.jsx("p",{className:"text-sm font-medium",children:"Install Bean Stalker to your Home Screen"})]}),o.jsxs("ol",{className:"text-xs text-muted-foreground list-decimal ml-5 space-y-1",children:[o.jsxs("li",{children:["Tap the Share button ",o.jsx("span",{className:"inline-block px-1",children:"⎋"})," at the bottom of your screen"]}),o.jsx("li",{children:'Scroll and select "Add to Home Screen"'}),o.jsx("li",{children:'Confirm by tapping "Add"'})]})]})]})})}return t?s?o.jsxs(de,{className:te("w-full",e),children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Push Notifications"}),o.jsx(at,{children:"Get real-time updates about your orders"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vi,{className:"h-5 w-5 text-destructive"}),o.jsx("p",{className:"text-sm",children:"Permission denied. Enable notifications in your browser settings."})]}),o.jsx(Gn,{disabled:!0})]})}),o.jsxs(xa,{className:"flex flex-col items-start px-6 py-4 bg-muted/50 border-t rounded-b-lg",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(bd,{className:"h-4 w-4 text-primary mr-2"}),o.jsx("p",{className:"text-sm font-medium",children:"How to enable notifications"})]}),o.jsxs("ol",{className:"text-xs text-muted-foreground list-decimal ml-5 space-y-1",children:[o.jsx("li",{children:"Click the lock/info icon in your browser's address bar"}),o.jsx("li",{children:'Find "Notifications" in the site settings'}),o.jsx("li",{children:'Change the setting to "Allow"'}),o.jsx("li",{children:"Reload this page"})]})]})]}):o.jsxs(de,{className:te("w-full",e),children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Push Notifications"}),o.jsx(at,{children:"Get real-time updates about your orders"})]}),o.jsxs(fe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[n?o.jsx(sf,{className:"h-5 w-5 text-primary"}):o.jsx(Vw,{className:"h-5 w-5 text-muted-foreground"}),o.jsx("p",{className:"text-sm",children:n?"You will receive order status notifications":"Enable notifications to stay updated on your orders"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[r&&o.jsx(At,{className:"h-4 w-4 animate-spin text-muted-foreground"}),o.jsx(Gn,{checked:n,onCheckedChange:p=>{if(p){const y=setTimeout(()=>{console.log("Subscription attempt timed out")},5e3);"Notification"in window&&Notification.permission!=="denied"?Notification.requestPermission().then(v=>{v==="granted"&&i().catch(w=>console.error("Error subscribing:",w))}).finally(()=>clearTimeout(y)):i().finally(()=>clearTimeout(y))}else a()},disabled:r})]})]}),n&&o.jsxs("div",{className:"pt-4 border-t mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zC,{className:"h-4 w-4 text-primary"}),o.jsx("p",{className:"text-sm",children:"Test your notifications"})]}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>{window.testNotification&&window.testNotification()},disabled:r,children:"Send Test"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Send a test notification to verify your device can receive push notifications properly."})]})]})]}):o.jsxs(de,{className:te("w-full",e),children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Push Notifications"}),o.jsx(at,{children:"Get real-time updates about your orders"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vi,{className:"h-5 w-5 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Push notifications are not supported in your browser"}),o.jsx(KB,{children:o.jsxs(QB,{children:[o.jsx(GB,{asChild:!0,children:o.jsx(GD,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),o.jsx(uA,{side:"right",children:o.jsx("p",{className:"max-w-[250px] text-xs",children:"Try using a modern browser like Chrome, Firefox, or Edge for push notification support."})})]})})]}),o.jsx(Gn,{disabled:!0})]})})]})}const cp=768;function dA(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${cp-1}px)`),r=()=>{t(window.innerWidth<cp)};return n.addEventListener("change",r),t(window.innerWidth<cp),()=>n.removeEventListener("change",r)},[]),!!e}const sS=[{pay:20,receive:23.9},{pay:50,receive:61.5},{pay:100,receive:125.6}];function eW(){ut();const{toast:e}=tt(),t=dA(),[n,r]=m.useState(sS[0]),[s,i]=m.useState(!1),[a,l]=m.useState(null),c=m.useRef(null),u=m.useRef(null),f=m.useCallback(async()=>{try{const y=await(await ve("GET","/api/square/config")).json();return console.log("Received Square config:",y),l(y),y}catch(p){return console.error("Failed to load Square configuration:",p),e({title:"Error",description:"Failed to load payment configuration",variant:"destructive"}),null}},[e]);m.useEffect(()=>{f()},[f]),m.useEffect(()=>{if(!(a!=null&&a.applicationId)||!(a!=null&&a.locationId)||!c.current)return;let p=!0;return(async()=>{if(!document.querySelector('script[src*="square"]')){const w=document.createElement("script");w.src="https://sandbox.web.squarecdn.com/v1/square.js",console.log(`Loading Square SDK from: ${w.src} (Using Sandbox for testing)`),await new Promise((x,g)=>{w.onload=x,w.onerror=()=>{g(new Error("Failed to load Square SDK")),p&&e({title:"Error",description:"Failed to load payment system",variant:"destructive"})},document.body.appendChild(w)})}if(p&&window.Square)try{if(u.current)try{await u.current.destroy(),u.current=null}catch(g){console.error("Error cleaning up previous Square payment instance:",g)}const x=await window.Square.payments(a.applicationId,a.locationId).card();await x.attach("#card-container"),u.current=x}catch(w){console.error("Failed to initialize Square payment:",w),p&&e({title:"Payment Setup Failed",description:"Could not initialize the payment system",variant:"destructive"})}})(),()=>{p=!1,u.current&&u.current.destroy().catch(v=>{console.error("Error destroying Square payment instance during cleanup:",v)})}},[a,e,c]);const d=p=>{r(p)},h=async()=>{if(!u.current){e({title:"Payment Error",description:"Payment system not initialized",variant:"destructive"});return}i(!0);try{const p=await u.current.tokenize();if(p.status==="OK"){const v=await(await ve("POST","/api/square/process-payment",{sourceId:p.token,amount:n.pay,bonusAmount:n.receive,currency:"AUD"})).json();if(v.success)e({title:"Payment Successful",description:`Successfully added ${n.receive.toFixed(2)} credits to your account!`}),pe.invalidateQueries({queryKey:["/api/user"]});else throw new Error(v.message||"Payment processing failed")}else throw new Error(p.errors[0].message)}catch(p){console.error("Payment processing error:",p),e({title:"Payment Failed",description:p instanceof Error?p.message:"Failed to process payment",variant:"destructive"})}finally{i(!1)}};return o.jsx("div",{className:"w-full max-h-[90vh] overflow-y-auto",children:o.jsxs(de,{className:"w-full max-w-md mx-auto",children:[o.jsxs($e,{className:"pb-2 pt-3",children:[o.jsx(Ue,{className:"text-lg",children:"Buy Credits"}),o.jsx(at,{className:"text-xs",children:t?"Add credits to your account":"Add credits to your account to place orders at Bean Stalker."})]}),o.jsx(fe,{className:"space-y-3 py-2",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-medium mb-1",children:"Choose a Package"}),o.jsx("div",{className:"grid gap-2 grid-cols-1",children:sS.map(p=>o.jsxs(U,{type:"button",variant:n.pay===p.pay?"default":"outline",className:"w-full justify-between h-auto py-1.5 px-3 text-sm",onClick:()=>d(p),disabled:s,children:[o.jsxs("div",{className:"flex flex-col items-start text-left",children:[o.jsxs("span",{className:`font-medium ${n.pay===p.pay?"text-white":""}`,children:["$",p.pay.toFixed(2)]}),o.jsx("span",{className:`text-xs ${n.pay===p.pay?"text-white/80":"text-muted-foreground"}`,children:"Pay"})]}),o.jsxs("div",{className:"flex flex-col items-end text-right",children:[o.jsxs("span",{className:`font-bold ${n.pay===p.pay?"text-white":"text-primary"}`,children:["$",p.receive.toFixed(2)]}),o.jsxs("span",{className:`text-xs ${n.pay===p.pay?"text-white/80":"text-primary"}`,children:["+",((p.receive/p.pay-1)*100).toFixed(1),"%"]})]})]},p.pay))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-medium mb-1",children:"Payment Details"}),o.jsx("div",{id:"card-container",ref:c,className:"min-h-[80px] mb-1 p-3 border rounded-md",style:{fontSize:t?"13px":"16px"}}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Securely processed by Square"})]})]})}),o.jsx(xa,{className:"pt-1 pb-3",children:o.jsx(U,{className:"w-full",onClick:h,disabled:s||!u.current,size:"sm",children:s?o.jsxs(o.Fragment,{children:[o.jsx(At,{className:"h-3 w-3 mr-1 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Tc,{className:"h-3 w-3 mr-1"}),t?`Pay $${n.pay} → $${n.receive.toFixed(2)}`:`Pay $${n.pay} for $${n.receive.toFixed(2)} Credits`]})})})]})})}const Ef=m.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ef.displayName="Textarea";function tW({open:e,onOpenChange:t}={}){const{toast:n}=tt(),{user:r}=ut(),[s,i]=m.useState(!1),[a,l]=m.useState(""),[c,u]=m.useState(0),[f,d]=m.useState(""),[h,p]=m.useState(!1),[y,v]=m.useState(!1),[w,x]=m.useState(null),g=e!==void 0?e:s,b=t||i,j=ke({mutationFn:async _=>await(await ve("GET",`/api/user/lookup?phoneNumber=${encodeURIComponent(_)}`)).json(),onSuccess:_=>{_&&_.id?(x(_),n({title:"User found",description:`Found user: ${_.username}`})):(x(null),n({title:"User not found",description:"No user with that phone number was found",variant:"destructive"})),v(!1)},onError:_=>{x(null),n({title:"Lookup failed",description:_.message,variant:"destructive"}),v(!1)}}),N=ke({mutationFn:async()=>{if(!w)throw new Error("No recipient selected");const _={recipientId:w.id,phoneNumber:a,amount:c,message:h?f:void 0};return await(await ve("POST","/api/send-credits",_)).json()},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/user"]}),pe.invalidateQueries({queryKey:["/api/credit-transactions"]}),n({title:"Credits sent successfully",description:`${xt(c)} has been sent to ${w==null?void 0:w.username}.`}),l(""),u(0),d(""),x(null),b(!1)},onError:_=>{n({title:"Failed to send credits",description:_.message,variant:"destructive"})}}),P=_=>{const M=_.target.value.replace(/\D/g,"");let I=M;M.length>3&&M.length<=6?I=`${M.slice(0,3)}-${M.slice(3)}`:M.length>6&&(I=`${M.slice(0,3)}-${M.slice(3,6)}-${M.slice(6,10)}`),l(I),x(null)},E=()=>{if(!a||a.replace(/\D/g,"").length<10){n({title:"Invalid phone number",description:"Please enter a valid phone number",variant:"destructive"});return}v(!0),j.mutate(a)},C=()=>{if(!w){n({title:"Missing recipient",description:"Please look up a valid phone number first",variant:"destructive"});return}if(!c||c<=0){n({title:"Invalid amount",description:"Please enter a valid amount greater than 0",variant:"destructive"});return}if(c>((r==null?void 0:r.credits)||0)){n({title:"Insufficient credits",description:"You don't have enough credits to complete this transaction",variant:"destructive"});return}N.mutate()},A=_=>{b(_),_||(l(""),u(0),d(""),x(null))};return o.jsxs(or,{open:g,onOpenChange:A,children:[o.jsx(QL,{asChild:!0,children:o.jsxs(U,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>b(!0),children:[o.jsx(Tg,{className:"h-4 w-4"}),"Send Credits"]})}),o.jsxs(Un,{className:"sm:max-w-[425px]",children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:"Send Coffee Credits"}),o.jsx(Wn,{children:"Send coffee credits to another Bean Stalker user via their phone number."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-2",children:[o.jsx(Te,{htmlFor:"phone-number",className:"text-right",children:"Phone Number"}),o.jsxs("div",{className:"col-span-3 flex gap-2",children:[o.jsx(Me,{id:"phone-number",value:a,onChange:P,className:"flex-1",placeholder:"123-456-7890"}),o.jsx(U,{onClick:E,variant:"secondary",size:"icon",disabled:y,children:y?o.jsx(At,{className:"h-4 w-4 animate-spin"}):o.jsx(of,{className:"h-4 w-4"})})]})]}),w&&o.jsxs("div",{className:"ml-[25%] pl-2 text-sm font-medium text-green-600 flex items-center gap-1",children:[o.jsx(by,{className:"h-4 w-4"}),o.jsxs("span",{children:["Recipient: ",w.username]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Te,{htmlFor:"amount",className:"text-right",children:"Amount"}),o.jsx(Me,{id:"amount",type:"number",min:"0",step:"0.01",value:c||"",onChange:_=>u(parseFloat(_.target.value)||0),className:"col-span-3",placeholder:"0.00"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{htmlFor:"include-message",className:"text-right",children:"Include Message"}),o.jsx(Gn,{id:"include-message",checked:h,onCheckedChange:p})]}),h&&o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Te,{htmlFor:"message",className:"text-right",children:"Message"}),o.jsx(Ef,{id:"message",value:f,onChange:_=>d(_.target.value),className:"col-span-3",placeholder:"Add a personal message",rows:3})]}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Your current balance: ",xt((r==null?void 0:r.credits)||0)]})]}),o.jsx(Er,{children:o.jsx(U,{type:"submit",onClick:C,disabled:N.isPending||!w,children:N.isPending?o.jsxs(o.Fragment,{children:[o.jsx(At,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Credits"})})]})]})}const qi=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:te("w-full caption-bottom text-sm",e),...t})}));qi.displayName="Table";const Ki=m.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:te("[&_tr]:border-b",e),...t}));Ki.displayName="TableHeader";const Qi=m.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:te("[&_tr:last-child]:border-0",e),...t}));Qi.displayName="TableBody";const nW=m.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nW.displayName="TableFooter";const fn=m.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));fn.displayName="TableRow";const Ve=m.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ve.displayName="TableHead";const De=m.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));De.displayName="TableCell";const zl=m.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:te("mt-4 text-sm text-muted-foreground",e),...t}));zl.displayName="TableCaption";function up({className:e,...t}){return o.jsx("div",{className:te("animate-pulse rounded-md bg-muted",e),...t})}function rW(){const e=dA(),{data:t,isLoading:n,error:r}=Pt({queryKey:["/api/credit-transactions"]});function s(l){switch(l){case"purchase":return o.jsx(Ze,{variant:"default",children:"Purchase"});case"order":return o.jsx(Ze,{variant:"destructive",children:"Order"});case"admin":return o.jsx(Ze,{variant:"secondary",children:"Admin"});default:return o.jsx(Ze,{children:l})}}function i(l){return l>0?o.jsxs("span",{className:"text-green-600",children:["+",xt(l)]}):o.jsx("span",{className:"text-red-600",children:xt(l)})}function a(l){return e?Rb(l,"MM/dd"):Rb(l,"MMM d, yyyy HH:mm")}return r?o.jsxs(de,{className:"w-full",children:[o.jsx($e,{className:"py-3",children:o.jsx(Ue,{className:"text-lg",children:"Transaction History"})}),o.jsx(fe,{children:o.jsxs("div",{className:"text-red-500",children:["Failed to load transactions: ",r.message]})})]}):o.jsxs(de,{className:"w-full overflow-hidden",children:[o.jsxs($e,{className:"py-3",children:[o.jsx(Ue,{className:"text-lg",children:"Transaction History"}),o.jsx(at,{children:"Recent credit activities"})]}),o.jsx(fe,{className:"p-0",children:n?o.jsxs("div",{className:"space-y-2 p-4",children:[o.jsx(up,{className:"h-8 w-full"}),o.jsx(up,{className:"h-8 w-full"}),o.jsx(up,{className:"h-8 w-full"})]}):t&&t.length>0?o.jsx("div",{className:"max-h-[250px] overflow-auto",children:o.jsxs(qi,{children:[o.jsx(Ki,{children:o.jsxs(fn,{children:[o.jsx(Ve,{className:"w-[80px]",children:"Date"}),o.jsx(Ve,{className:"w-[90px]",children:"Type"}),!e&&o.jsx(Ve,{children:"Description"}),o.jsx(Ve,{className:"text-right",children:"Amount"}),!e&&o.jsx(Ve,{className:"text-right",children:"Balance"})]})}),o.jsx(Qi,{children:[...t].sort((l,c)=>new Date(c.createdAt).getTime()-new Date(l.createdAt).getTime()).map(l=>o.jsxs(fn,{children:[o.jsx(De,{className:"py-2",children:a(new Date(l.createdAt))}),o.jsx(De,{className:"py-2",children:s(l.type)}),!e&&o.jsx(De,{className:"py-2 truncate max-w-[120px]",children:l.description}),o.jsx(De,{className:"py-2 text-right",children:i(l.amount)}),!e&&o.jsx(De,{className:"py-2 text-right",children:xt(l.balanceAfter)})]},l.id))})]})}):o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No transactions found"})})]})}const fA=m.createContext({updateAvailable:!1,installPromptEvent:null,checkForUpdates:async()=>!1,applyUpdate:()=>{},showInstallPrompt:()=>{}});function sW({children:e}){const[t,n]=m.useState(!1),[r,s]=m.useState(null),[i,a]=m.useState(null),{toast:l}=tt();m.useEffect(()=>{const h=p=>{p.preventDefault(),a(p),console.log("Install prompt ready to use")};return window.addEventListener("beforeinstallprompt",h),()=>{window.removeEventListener("beforeinstallprompt",h)}},[]),m.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(h=>{console.log("Service worker ready:",h.scope),c()}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("Service Worker controller changed")}),navigator.serviceWorker.addEventListener("message",h=>{h.data&&h.data.type==="UPDATE_AVAILABLE"&&(console.log("Update message received from service worker"),n(!0),f())}))},[]);const c=async()=>{if(!("serviceWorker"in navigator))return!1;try{const h=await navigator.serviceWorker.ready;return await h.update(),h.waiting?(console.log("New service worker waiting"),s(h.waiting),n(!0),f(),!0):!1}catch(h){return console.error("Error checking for updates:",h),!1}},u=()=>{if(!r){console.log("No waiting service worker found");return}r.postMessage({type:"SKIP_WAITING"}),l({title:"Updating...",description:"The app will refresh in a moment."})},f=()=>{l({title:"App Update Available",description:"A new version is available. Update now for the latest features and improvements.",action:o.jsxs(U,{variant:"outline",size:"sm",onClick:u,className:"gap-1 items-center",children:[o.jsx(oh,{className:"h-4 w-4"}),"Update"]}),duration:1e4})},d=async()=>{if(!i){console.log("No install prompt available");return}try{const h=await i.prompt();console.log("Install prompt result:",h),a(null)}catch(h){console.error("Error showing install prompt:",h)}};return m.useEffect(()=>{const h=setInterval(()=>{console.log("Checking for updates..."),c()},9e5);return()=>clearInterval(h)},[]),o.jsx(fA.Provider,{value:{updateAvailable:t,installPromptEvent:!!i,checkForUpdates:c,applyUpdate:u,showInstallPrompt:d},children:e})}const hA=()=>m.useContext(fA);function iW(){const{installPromptEvent:e,showInstallPrompt:t}=hA(),[n,r]=m.useState(!1),[s,i]=m.useState(!1);return m.useEffect(()=>{const a=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;r(a),i(!a&&e)},[e]),s?o.jsxs("div",{className:"flex flex-col gap-3 p-4 border rounded-lg bg-card mb-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Add to Home Screen"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Install Bean Stalker on your device for a better experience, offline access, and faster ordering."}),o.jsxs(U,{onClick:t,className:"w-full gap-2",variant:"default",children:[o.jsx(ZD,{className:"h-4 w-4"}),"Install App"]})]}):null}var wu=e=>e.type==="checkbox",eo=e=>e instanceof Date,on=e=>e==null;const mA=e=>typeof e=="object";var kt=e=>!on(e)&&!Array.isArray(e)&&mA(e)&&!eo(e),pA=e=>kt(e)&&e.target?wu(e.target)?e.target.checked:e.target.value:e,oW=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gA=(e,t)=>e.has(oW(t)),aW=e=>{const t=e.constructor&&e.constructor.prototype;return kt(t)&&t.hasOwnProperty("isPrototypeOf")},zx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(zx&&(e instanceof Blob||e instanceof FileList))&&(n||kt(e)))if(t=n?[]:{},!n&&!aW(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=hn(e[r]));else return e;return t}var Dh=e=>Array.isArray(e)?e.filter(Boolean):[],jt=e=>e===void 0,Z=(e,t,n)=>{if(!t||!kt(e))return n;const r=Dh(t.split(/[,[\].]+?/)).reduce((s,i)=>on(s)?s:s[i],e);return jt(r)||r===e?jt(e[t])?n:e[t]:r},Hn=e=>typeof e=="boolean",Bx=e=>/^\w*$/.test(e),vA=e=>Dh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(e,t,n)=>{let r=-1;const s=Bx(t)?[t]:vA(t),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=e[l];c=kt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const kf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},dr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yA=ye.createContext(null),Mh=()=>ye.useContext(yA),lW=e=>{const{children:t,...n}=e;return ye.createElement(yA.Provider,{value:n},t)};var xA=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==dr.all&&(t._proxyFormState[a]=!r||dr.all),n&&(n[a]=!0),e[a]}});return s},gn=e=>kt(e)&&!Object.keys(e).length,wA=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return gn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!r||dr.all))},oc=e=>Array.isArray(e)?e:[e],bA=(e,t,n)=>!e||!t||e===t||oc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function Wx(e){const t=ye.useRef(e);t.current=e,ye.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function cW(e){const t=Mh(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[a,l]=ye.useState(n._formState),c=ye.useRef(!0),u=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=ye.useRef(s);return f.current=s,Wx({disabled:r,next:d=>c.current&&bA(f.current,d.name,i)&&wA(d,u.current,n._updateFormState)&&l({...n._formState,...d}),subject:n._subjects.state}),ye.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),xA(a,n,u.current,!1)}var Or=e=>typeof e=="string",jA=(e,t,n,r,s)=>Or(e)?(r&&t.watch.add(e),Z(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),Z(n,i))):(r&&(t.watchAll=!0),n);function uW(e){const t=Mh(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:a}=e||{},l=ye.useRef(r);l.current=r,Wx({disabled:i,subject:n._subjects.values,next:f=>{bA(l.current,f.name,a)&&u(hn(jA(l.current,n._names,f.values||n._formValues,!1,s)))}});const[c,u]=ye.useState(n._getWatch(r,s));return ye.useEffect(()=>n._removeUnmounted()),c}function dW(e){const t=Mh(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i}=e,a=gA(s._names.array,n),l=uW({control:s,name:n,defaultValue:Z(s._formValues,n,Z(s._defaultValues,n,e.defaultValue)),exact:!0}),c=cW({control:s,name:n,exact:!0}),u=ye.useRef(s.register(n,{...e.rules,value:l,...Hn(e.disabled)?{disabled:e.disabled}:{}}));return ye.useEffect(()=>{const f=s._options.shouldUnregister||i,d=(h,p)=>{const y=Z(s._fields,h);y&&y._f&&(y._f.mount=p)};if(d(n,!0),f){const h=hn(Z(s._options.defaultValues,n));qe(s._defaultValues,n,h),jt(Z(s._formValues,n))&&qe(s._formValues,n,h)}return()=>{(a?f&&!s._state.action:f)?s.unregister(n):d(n,!1)}},[n,s,a,i]),ye.useEffect(()=>{Z(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:Z(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:l,...Hn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:ye.useCallback(f=>u.current.onChange({target:{value:pA(f),name:n},type:kf.CHANGE}),[n]),onBlur:ye.useCallback(()=>u.current.onBlur({target:{value:Z(s._formValues,n),name:n},type:kf.BLUR}),[n,s]),ref:ye.useCallback(f=>{const d=Z(s._fields,n);d&&f&&(d._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:h=>f.setCustomValidity(h),reportValidity:()=>f.reportValidity()})},[s._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Z(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Z(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Z(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Z(c.validatingFields,n)},error:{enumerable:!0,get:()=>Z(c.errors,n)}})}}const fW=e=>e.render(dW(e));var SA=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},iS=e=>({isOnSubmit:!e||e===dr.onSubmit,isOnBlur:e===dr.onBlur,isOnChange:e===dr.onChange,isOnAll:e===dr.all,isOnTouch:e===dr.onTouched}),oS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ac=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=Z(e,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(ac(l,t))break}else if(kt(l)&&ac(l,t))break}}};var hW=(e,t,n)=>{const r=oc(Z(e,n));return qe(r,"root",t[n]),qe(e,n,r),e},Hx=e=>e.type==="file",cs=e=>typeof e=="function",Tf=e=>{if(!zx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ad=e=>Or(e),qx=e=>e.type==="radio",Af=e=>e instanceof RegExp;const aS={value:!1,isValid:!1},lS={value:!0,isValid:!0};var NA=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jt(e[0].attributes.value)?jt(e[0].value)||e[0].value===""?lS:{value:e[0].value,isValid:!0}:lS:aS}return aS};const cS={isValid:!1,value:null};var CA=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,cS):cS;function uS(e,t,n="validate"){if(Ad(e)||Array.isArray(e)&&e.every(Ad)||Hn(e)&&!e)return{type:n,message:Ad(e)?e:"",ref:t}}var Uo=e=>kt(e)&&!Af(e)?e:{value:e,message:""},dS=async(e,t,n,r,s)=>{const{ref:i,refs:a,required:l,maxLength:c,minLength:u,min:f,max:d,pattern:h,validate:p,name:y,valueAsNumber:v,mount:w,disabled:x}=e._f,g=Z(t,y);if(!w||x)return{};const b=a?a[0]:i,j=I=>{r&&b.reportValidity&&(b.setCustomValidity(Hn(I)?"":I||""),b.reportValidity())},N={},P=qx(i),E=wu(i),C=P||E,A=(v||Hx(i))&&jt(i.value)&&jt(g)||Tf(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,_=SA.bind(null,y,n,N),M=(I,V,F,X=Zr.maxLength,Y=Zr.minLength)=>{const K=I?V:F;N[y]={type:I?X:Y,message:K,ref:i,..._(I?X:Y,K)}};if(s?!Array.isArray(g)||!g.length:l&&(!C&&(A||on(g))||Hn(g)&&!g||E&&!NA(a).isValid||P&&!CA(a).isValid)){const{value:I,message:V}=Ad(l)?{value:!!l,message:l}:Uo(l);if(I&&(N[y]={type:Zr.required,message:V,ref:b,..._(Zr.required,V)},!n))return j(V),N}if(!A&&(!on(f)||!on(d))){let I,V;const F=Uo(d),X=Uo(f);if(!on(g)&&!isNaN(g)){const Y=i.valueAsNumber||g&&+g;on(F.value)||(I=Y>F.value),on(X.value)||(V=Y<X.value)}else{const Y=i.valueAsDate||new Date(g),K=B=>new Date(new Date().toDateString()+" "+B),D=i.type=="time",z=i.type=="week";Or(F.value)&&g&&(I=D?K(g)>K(F.value):z?g>F.value:Y>new Date(F.value)),Or(X.value)&&g&&(V=D?K(g)<K(X.value):z?g<X.value:Y<new Date(X.value))}if((I||V)&&(M(!!I,F.message,X.message,Zr.max,Zr.min),!n))return j(N[y].message),N}if((c||u)&&!A&&(Or(g)||s&&Array.isArray(g))){const I=Uo(c),V=Uo(u),F=!on(I.value)&&g.length>+I.value,X=!on(V.value)&&g.length<+V.value;if((F||X)&&(M(F,I.message,V.message),!n))return j(N[y].message),N}if(h&&!A&&Or(g)){const{value:I,message:V}=Uo(h);if(Af(I)&&!g.match(I)&&(N[y]={type:Zr.pattern,message:V,ref:i,..._(Zr.pattern,V)},!n))return j(V),N}if(p){if(cs(p)){const I=await p(g,t),V=uS(I,b);if(V&&(N[y]={...V,..._(Zr.validate,V.message)},!n))return j(V.message),N}else if(kt(p)){let I={};for(const V in p){if(!gn(I)&&!n)break;const F=uS(await p[V](g,t),b,V);F&&(I={...F,..._(V,F.message)},j(F.message),n&&(N[y]=I))}if(!gn(I)&&(N[y]={ref:b,...I},!n))return N}}return j(!0),N};function mW(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=jt(e)?r++:e[t[r++]];return e}function pW(e){for(const t in e)if(e.hasOwnProperty(t)&&!jt(e[t]))return!1;return!0}function Rt(e,t){const n=Array.isArray(t)?t:Bx(t)?[t]:vA(t),r=n.length===1?e:mW(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(kt(r)&&gn(r)||Array.isArray(r)&&pW(r))&&Rt(e,n.slice(0,-1)),e}var dp=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},dv=e=>on(e)||!mA(e);function $s(e,t){if(dv(e)||dv(t))return e===t;if(eo(e)&&eo(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const i=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=t[s];if(eo(i)&&eo(a)||kt(i)&&kt(a)||Array.isArray(i)&&Array.isArray(a)?!$s(i,a):i!==a)return!1}}return!0}var PA=e=>e.type==="select-multiple",gW=e=>qx(e)||wu(e),fp=e=>Tf(e)&&e.isConnected,EA=e=>{for(const t in e)if(cs(e[t]))return!0;return!1};function _f(e,t={}){const n=Array.isArray(e);if(kt(e)||n)for(const r in e)Array.isArray(e[r])||kt(e[r])&&!EA(e[r])?(t[r]=Array.isArray(e[r])?[]:{},_f(e[r],t[r])):on(e[r])||(t[r]=!0);return t}function kA(e,t,n){const r=Array.isArray(e);if(kt(e)||r)for(const s in e)Array.isArray(e[s])||kt(e[s])&&!EA(e[s])?jt(t)||dv(n[s])?n[s]=Array.isArray(e[s])?_f(e[s],[]):{..._f(e[s])}:kA(e[s],on(t)?{}:t[s],n[s]):n[s]=!$s(e[s],t[s]);return n}var Rl=(e,t)=>kA(e,t,_f(t)),TA=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>jt(e)?e:t?e===""?NaN:e&&+e:n&&Or(e)?new Date(e):r?r(e):e;function hp(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Hx(t)?t.files:qx(t)?CA(e.refs).value:PA(t)?[...t.selectedOptions].map(({value:n})=>n):wu(t)?NA(e.refs).value:TA(jt(t.value)?e.ref.value:t.value,e)}var vW=(e,t,n,r)=>{const s={};for(const i of e){const a=Z(t,i);a&&qe(s,i,a._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Il=e=>jt(e)?e:Af(e)?e.source:kt(e)?Af(e.value)?e.value.source:e.value:e;const fS="AsyncFunction";var yW=e=>(!e||!e.validate)&&!!(cs(e.validate)&&e.validate.constructor.name===fS||kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===fS)),xW=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function hS(e,t,n){const r=Z(e,n);if(r||Bx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Z(t,i),l=Z(e,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var wW=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,bW=(e,t)=>!Dh(Z(e,t)).length&&Rt(e,t);const jW={mode:dr.onSubmit,reValidateMode:dr.onChange,shouldFocusError:!0};function SW(e={}){let t={...jW,...e},n={submitCount:0,isDirty:!1,isLoading:cs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=kt(t.defaultValues)||kt(t.values)?hn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:hn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:dp(),array:dp(),state:dp()},h=iS(t.mode),p=iS(t.reValidateMode),y=t.criteriaMode===dr.all,v=k=>O=>{clearTimeout(u),u=setTimeout(k,O)},w=async k=>{if(!e.disabled&&(f.isValid||k)){const O=t.resolver?gn((await C()).errors):await _(r,!0);O!==n.isValid&&d.state.next({isValid:O})}},x=(k,O)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((k||Array.from(l.mount)).forEach(R=>{R&&(O?qe(n.validatingFields,R,O):Rt(n.validatingFields,R))}),d.state.next({validatingFields:n.validatingFields,isValidating:!gn(n.validatingFields)}))},g=(k,O=[],R,J,L=!0,H=!0)=>{if(J&&R&&!e.disabled){if(a.action=!0,H&&Array.isArray(Z(r,k))){const se=R(Z(r,k),J.argA,J.argB);L&&qe(r,k,se)}if(H&&Array.isArray(Z(n.errors,k))){const se=R(Z(n.errors,k),J.argA,J.argB);L&&qe(n.errors,k,se),bW(n.errors,k)}if(f.touchedFields&&H&&Array.isArray(Z(n.touchedFields,k))){const se=R(Z(n.touchedFields,k),J.argA,J.argB);L&&qe(n.touchedFields,k,se)}f.dirtyFields&&(n.dirtyFields=Rl(s,i)),d.state.next({name:k,isDirty:I(k,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else qe(i,k,O)},b=(k,O)=>{qe(n.errors,k,O),d.state.next({errors:n.errors})},j=k=>{n.errors=k,d.state.next({errors:n.errors,isValid:!1})},N=(k,O,R,J)=>{const L=Z(r,k);if(L){const H=Z(i,k,jt(R)?Z(s,k):R);jt(H)||J&&J.defaultChecked||O?qe(i,k,O?H:hp(L._f)):X(k,H),a.mount&&w()}},P=(k,O,R,J,L)=>{let H=!1,se=!1;const Se={name:k};if(!e.disabled){const ft=!!(Z(r,k)&&Z(r,k)._f&&Z(r,k)._f.disabled);if(!R||J){f.isDirty&&(se=n.isDirty,n.isDirty=Se.isDirty=I(),H=se!==Se.isDirty);const Tt=ft||$s(Z(s,k),O);se=!!(!ft&&Z(n.dirtyFields,k)),Tt||ft?Rt(n.dirtyFields,k):qe(n.dirtyFields,k,!0),Se.dirtyFields=n.dirtyFields,H=H||f.dirtyFields&&se!==!Tt}if(R){const Tt=Z(n.touchedFields,k);Tt||(qe(n.touchedFields,k,R),Se.touchedFields=n.touchedFields,H=H||f.touchedFields&&Tt!==R)}H&&L&&d.state.next(Se)}return H?Se:{}},E=(k,O,R,J)=>{const L=Z(n.errors,k),H=f.isValid&&Hn(O)&&n.isValid!==O;if(e.delayError&&R?(c=v(()=>b(k,R)),c(e.delayError)):(clearTimeout(u),c=null,R?qe(n.errors,k,R):Rt(n.errors,k)),(R?!$s(L,R):L)||!gn(J)||H){const se={...J,...H&&Hn(O)?{isValid:O}:{},errors:n.errors,name:k};n={...n,...se},d.state.next(se)}},C=async k=>{x(k,!0);const O=await t.resolver(i,t.context,vW(k||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(k),O},A=async k=>{const{errors:O}=await C(k);if(k)for(const R of k){const J=Z(O,R);J?qe(n.errors,R,J):Rt(n.errors,R)}else n.errors=O;return O},_=async(k,O,R={valid:!0})=>{for(const J in k){const L=k[J];if(L){const{_f:H,...se}=L;if(H){const Se=l.array.has(H.name),ft=L._f&&yW(L._f);ft&&f.validatingFields&&x([J],!0);const Tt=await dS(L,i,y,t.shouldUseNativeValidation&&!O,Se);if(ft&&f.validatingFields&&x([J]),Tt[H.name]&&(R.valid=!1,O))break;!O&&(Z(Tt,H.name)?Se?hW(n.errors,Tt,H.name):qe(n.errors,H.name,Tt[H.name]):Rt(n.errors,H.name))}!gn(se)&&await _(se,O,R)}}return R.valid},M=()=>{for(const k of l.unMount){const O=Z(r,k);O&&(O._f.refs?O._f.refs.every(R=>!fp(R)):!fp(O._f.ref))&&Ge(k)}l.unMount=new Set},I=(k,O)=>!e.disabled&&(k&&O&&qe(i,k,O),!$s(G(),s)),V=(k,O,R)=>jA(k,l,{...a.mount?i:jt(O)?s:Or(k)?{[k]:O}:O},R,O),F=k=>Dh(Z(a.mount?i:s,k,e.shouldUnregister?Z(s,k,[]):[])),X=(k,O,R={})=>{const J=Z(r,k);let L=O;if(J){const H=J._f;H&&(!H.disabled&&qe(i,k,TA(O,H)),L=Tf(H.ref)&&on(O)?"":O,PA(H.ref)?[...H.ref.options].forEach(se=>se.selected=L.includes(se.value)):H.refs?wu(H.ref)?H.refs.length>1?H.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(L)?!!L.find(Se=>Se===se.value):L===se.value)):H.refs[0]&&(H.refs[0].checked=!!L):H.refs.forEach(se=>se.checked=se.value===L):Hx(H.ref)?H.ref.value="":(H.ref.value=L,H.ref.type||d.values.next({name:k,values:{...i}})))}(R.shouldDirty||R.shouldTouch)&&P(k,L,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&B(k)},Y=(k,O,R)=>{for(const J in O){const L=O[J],H=`${k}.${J}`,se=Z(r,H);(l.array.has(k)||kt(L)||se&&!se._f)&&!eo(L)?Y(H,L,R):X(H,L,R)}},K=(k,O,R={})=>{const J=Z(r,k),L=l.array.has(k),H=hn(O);qe(i,k,H),L?(d.array.next({name:k,values:{...i}}),(f.isDirty||f.dirtyFields)&&R.shouldDirty&&d.state.next({name:k,dirtyFields:Rl(s,i),isDirty:I(k,H)})):J&&!J._f&&!on(H)?Y(k,H,R):X(k,H,R),oS(k,l)&&d.state.next({...n}),d.values.next({name:a.mount?k:void 0,values:{...i}})},D=async k=>{a.mount=!0;const O=k.target;let R=O.name,J=!0;const L=Z(r,R),H=()=>O.type?hp(L._f):pA(k),se=Se=>{J=Number.isNaN(Se)||eo(Se)&&isNaN(Se.getTime())||$s(Se,Z(i,R,Se))};if(L){let Se,ft;const Tt=H(),Kr=k.type===kf.BLUR||k.type===kf.FOCUS_OUT,Gx=!xW(L._f)&&!t.resolver&&!Z(n.errors,R)&&!L._f.deps||wW(Kr,Z(n.touchedFields,R),n.isSubmitted,p,h),Ps=oS(R,l,Kr);qe(i,R,Tt),Kr?(L._f.onBlur&&L._f.onBlur(k),c&&c(0)):L._f.onChange&&L._f.onChange(k);const ml=P(R,Tt,Kr,!1),Vh=!gn(ml)||Ps;if(!Kr&&d.values.next({name:R,type:k.type,values:{...i}}),Gx)return f.isValid&&(e.mode==="onBlur"?Kr&&w():w()),Vh&&d.state.next({name:R,...Ps?{}:ml});if(!Kr&&Ps&&d.state.next({...n}),t.resolver){const{errors:To}=await C([R]);if(se(Tt),J){const Ao=hS(n.errors,r,R),ju=hS(To,r,Ao.name||R);Se=ju.error,R=ju.name,ft=gn(To)}}else x([R],!0),Se=(await dS(L,i,y,t.shouldUseNativeValidation))[R],x([R]),se(Tt),J&&(Se?ft=!1:f.isValid&&(ft=await _(r,!0)));J&&(L._f.deps&&B(L._f.deps),E(R,ft,Se,ml))}},z=(k,O)=>{if(Z(n.errors,O)&&k.focus)return k.focus(),1},B=async(k,O={})=>{let R,J;const L=oc(k);if(t.resolver){const H=await A(jt(k)?k:L);R=gn(H),J=k?!L.some(se=>Z(H,se)):R}else k?(J=(await Promise.all(L.map(async H=>{const se=Z(r,H);return await _(se&&se._f?{[H]:se}:se)}))).every(Boolean),!(!J&&!n.isValid)&&w()):J=R=await _(r);return d.state.next({...!Or(k)||f.isValid&&R!==n.isValid?{}:{name:k},...t.resolver||!k?{isValid:R}:{},errors:n.errors}),O.shouldFocus&&!J&&ac(r,z,k?L:l.mount),J},G=k=>{const O={...a.mount?i:s};return jt(k)?O:Or(k)?Z(O,k):k.map(R=>Z(O,R))},je=(k,O)=>({invalid:!!Z((O||n).errors,k),isDirty:!!Z((O||n).dirtyFields,k),error:Z((O||n).errors,k),isValidating:!!Z(n.validatingFields,k),isTouched:!!Z((O||n).touchedFields,k)}),Je=k=>{k&&oc(k).forEach(O=>Rt(n.errors,O)),d.state.next({errors:k?n.errors:{}})},Le=(k,O,R)=>{const J=(Z(r,k,{_f:{}})._f||{}).ref,L=Z(n.errors,k)||{},{ref:H,message:se,type:Se,...ft}=L;qe(n.errors,k,{...ft,...O,ref:J}),d.state.next({name:k,errors:n.errors,isValid:!1}),R&&R.shouldFocus&&J&&J.focus&&J.focus()},Qe=(k,O)=>cs(k)?d.values.subscribe({next:R=>k(V(void 0,O),R)}):V(k,O,!0),Ge=(k,O={})=>{for(const R of k?oc(k):l.mount)l.mount.delete(R),l.array.delete(R),O.keepValue||(Rt(r,R),Rt(i,R)),!O.keepError&&Rt(n.errors,R),!O.keepDirty&&Rt(n.dirtyFields,R),!O.keepTouched&&Rt(n.touchedFields,R),!O.keepIsValidating&&Rt(n.validatingFields,R),!t.shouldUnregister&&!O.keepDefaultValue&&Rt(s,R);d.values.next({values:{...i}}),d.state.next({...n,...O.keepDirty?{isDirty:I()}:{}}),!O.keepIsValid&&w()},le=({disabled:k,name:O,field:R,fields:J,value:L})=>{if(Hn(k)&&a.mount||k){const H=k?void 0:jt(L)?hp(R?R._f:Z(J,O)._f):L;qe(i,O,H),P(O,H,!1,!1,!0)}},Be=(k,O={})=>{let R=Z(r,k);const J=Hn(O.disabled)||Hn(e.disabled);return qe(r,k,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:k}},name:k,mount:!0,...O}}),l.mount.add(k),R?le({field:R,disabled:Hn(O.disabled)?O.disabled:e.disabled,name:k,value:O.value}):N(k,!0,O.value),{...J?{disabled:O.disabled||e.disabled}:{},...t.progressive?{required:!!O.required,min:Il(O.min),max:Il(O.max),minLength:Il(O.minLength),maxLength:Il(O.maxLength),pattern:Il(O.pattern)}:{},name:k,onChange:D,onBlur:D,ref:L=>{if(L){Be(k,O),R=Z(r,k);const H=jt(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,se=gW(H),Se=R._f.refs||[];if(se?Se.find(ft=>ft===H):H===R._f.ref)return;qe(r,k,{_f:{...R._f,...se?{refs:[...Se.filter(fp),H,...Array.isArray(Z(s,k))?[{}]:[]],ref:{type:H.type,name:k}}:{ref:H}}}),N(k,!1,void 0,H)}else R=Z(r,k,{}),R._f&&(R._f.mount=!1),(t.shouldUnregister||O.shouldUnregister)&&!(gA(l.array,k)&&a.action)&&l.unMount.add(k)}}},dt=()=>t.shouldFocusError&&ac(r,z,l.mount),He=k=>{Hn(k)&&(d.state.next({disabled:k}),ac(r,(O,R)=>{const J=Z(r,R);J&&(O.disabled=J._f.disabled||k,Array.isArray(J._f.refs)&&J._f.refs.forEach(L=>{L.disabled=J._f.disabled||k}))},0,!1))},Ie=(k,O)=>async R=>{let J;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let L=hn(i);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:H,values:se}=await C();n.errors=H,L=se}else await _(r);if(Rt(n.errors,"root"),gn(n.errors)){d.state.next({errors:{}});try{await k(L,R)}catch(H){J=H}}else O&&await O({...n.errors},R),dt(),setTimeout(dt);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gn(n.errors)&&!J,submitCount:n.submitCount+1,errors:n.errors}),J)throw J},We=(k,O={})=>{Z(r,k)&&(jt(O.defaultValue)?K(k,hn(Z(s,k))):(K(k,O.defaultValue),qe(s,k,hn(O.defaultValue))),O.keepTouched||Rt(n.touchedFields,k),O.keepDirty||(Rt(n.dirtyFields,k),n.isDirty=O.defaultValue?I(k,hn(Z(s,k))):I()),O.keepError||(Rt(n.errors,k),f.isValid&&w()),d.state.next({...n}))},Mt=(k,O={})=>{const R=k?hn(k):s,J=hn(R),L=gn(k),H=L?s:J;if(O.keepDefaultValues||(s=R),!O.keepValues){if(O.keepDirtyValues){const se=new Set([...l.mount,...Object.keys(Rl(s,i))]);for(const Se of Array.from(se))Z(n.dirtyFields,Se)?qe(H,Se,Z(i,Se)):K(Se,Z(H,Se))}else{if(zx&&jt(k))for(const se of l.mount){const Se=Z(r,se);if(Se&&Se._f){const ft=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(Tf(ft)){const Tt=ft.closest("form");if(Tt){Tt.reset();break}}}}r={}}i=e.shouldUnregister?O.keepDefaultValues?hn(s):{}:hn(H),d.array.next({values:{...H}}),d.values.next({values:{...H}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!O.keepIsValid||!!O.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:L?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!$s(k,s)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:L?{}:O.keepDirtyValues?O.keepDefaultValues&&i?Rl(s,i):n.dirtyFields:O.keepDefaultValues&&k?Rl(s,k):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},tn=(k,O)=>Mt(cs(k)?k(i):k,O);return{control:{register:Be,unregister:Ge,getFieldState:je,handleSubmit:Ie,setError:Le,_executeSchema:C,_getWatch:V,_getDirty:I,_updateValid:w,_removeUnmounted:M,_updateFieldArray:g,_updateDisabledField:le,_getFieldArray:F,_reset:Mt,_resetDefaultValues:()=>cs(t.defaultValues)&&t.defaultValues().then(k=>{tn(k,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:k=>{n={...n,...k}},_disableForm:He,_subjects:d,_proxyFormState:f,_setErrors:j,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(k){a=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return n},set _formState(k){n=k},get _options(){return t},set _options(k){t={...t,...k}}},trigger:B,register:Be,handleSubmit:Ie,watch:Qe,setValue:K,getValues:G,reset:tn,resetField:We,clearErrors:Je,unregister:Ge,setError:Le,setFocus:(k,O={})=>{const R=Z(r,k),J=R&&R._f;if(J){const L=J.refs?J.refs[0]:J.ref;L.focus&&(L.focus(),O.shouldSelect&&L.select())}},getFieldState:je}}function NW(e={}){const t=ye.useRef(),n=ye.useRef(),[r,s]=ye.useState({isDirty:!1,isValidating:!1,isLoading:cs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:cs(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...SW(e),formState:r});const i=t.current.control;return i._options=e,Wx({subject:i._subjects.state,next:a=>{wA(a,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ye.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),ye.useEffect(()=>{e.values&&!$s(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[e.values,i]),ye.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),ye.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ye.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),ye.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=xA(r,i),t.current}const CW=lW,AA=m.createContext({}),zo=({...e})=>o.jsx(AA.Provider,{value:{name:e.name},children:o.jsx(fW,{...e})}),Fh=()=>{const e=m.useContext(AA),t=m.useContext(_A),{getFieldState:n,formState:r}=Mh(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},_A=m.createContext({}),Bi=m.forwardRef(({className:e,...t},n)=>{const r=m.useId();return o.jsx(_A.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:te("space-y-2",e),...t})})});Bi.displayName="FormItem";const Wi=m.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Fh();return o.jsx(Te,{ref:n,className:te(r&&"text-destructive",e),htmlFor:s,...t})});Wi.displayName="FormLabel";const Hi=m.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Fh();return o.jsx(gi,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Hi.displayName="FormControl";const _d=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Fh();return o.jsx("p",{ref:n,id:r,className:te("text-sm text-muted-foreground",e),...t})});_d.displayName="FormDescription";const PW=m.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=Fh(),a=s?String(s==null?void 0:s.message):t;return a?o.jsx("p",{ref:r,id:i,className:te("text-sm font-medium text-destructive",e),...n,children:a}):null});PW.displayName="FormMessage";var Fe;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Fe||(Fe={}));var fv;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(fv||(fv={}));const re=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Us=e=>{switch(typeof e){case"undefined":return re.undefined;case"string":return re.string;case"number":return isNaN(e)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(e)?re.array:e===null?re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?re.promise:typeof Map<"u"&&e instanceof Map?re.map:typeof Set<"u"&&e instanceof Set?re.set:typeof Date<"u"&&e instanceof Date?re.date:re.object;default:return re.unknown}},q=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),EW=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class An extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof An))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}An.create=e=>new An(e);const el=(e,t)=>{let n;switch(e.code){case q.invalid_type:e.received===re.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Fe.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(e.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(e.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(e.options)}, received '${e.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Fe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case q.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case q.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=t.defaultError,Fe.assertNever(e)}return{message:n}};let RA=el;function kW(e){RA=e}function Rf(){return RA}const If=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},TW=[];function ee(e,t){const n=Rf(),r=If({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===el?void 0:el].filter(s=>!!s)});e.common.issues.push(r)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return we;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return en.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return we;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const we=Object.freeze({status:"aborted"}),ua=e=>({status:"dirty",value:e}),cn=e=>({status:"valid",value:e}),hv=e=>e.status==="aborted",mv=e=>e.status==="dirty",Fc=e=>e.status==="valid",Lc=e=>typeof Promise<"u"&&e instanceof Promise;function Of(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function IA(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ce||(ce={}));var Bl,Wl;class zr{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mS=(e,t)=>{if(Fc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new An(e.common.issues);return this._error=n,this._error}}};function Ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{var c,u;const{message:f}=e;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Ee{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Us(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new en,ctx:{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Lc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},i=this._parseSync({data:t,path:s.path,parent:s});return mS(s,i)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Lc(s)?s:Promise.resolve(s));return mS(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new wr({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return $r.create(this,this._def)}nullable(){return ki.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gr.create(this,this._def)}promise(){return nl.create(this,this._def)}or(t){return zc.create([this,t],this._def)}and(t){return Bc.create(this,t,this._def)}transform(t){return new wr({...Ne(this._def),schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Qc({...Ne(this._def),innerType:this,defaultValue:n,typeName:xe.ZodDefault})}brand(){return new Kx({typeName:xe.ZodBranded,type:this,...Ne(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Gc({...Ne(this._def),innerType:this,catchValue:n,typeName:xe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return bu.create(this,t)}readonly(){return Yc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const AW=/^c[^\s-]{8,}$/i,_W=/^[0-9a-z]+$/,RW=/^[0-9A-HJKMNP-TV-Z]{26}$/,IW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OW=/^[a-z0-9_-]{21}$/i,DW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,MW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mp;const LW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VW=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,$W=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",UW=new RegExp(`^${OA}$`);function DA(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function zW(e){return new RegExp(`^${DA(e)}$`)}function MA(e){let t=`${OA}T${DA(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function BW(e,t){return!!((t==="v4"||!t)&&LW.test(e)||(t==="v6"||!t)&&VW.test(e))}class fr extends Ee{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==re.string){const i=this._getOrReturnCtx(t);return ee(i,{code:q.invalid_type,expected:re.string,received:i.parsedType}),we}const r=new en;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?ee(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ee(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")MW.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")mp||(mp=new RegExp(FW,"u")),mp.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")IW.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")OW.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")AW.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")_W.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")RW.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ee(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),ee(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),ee(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),ee(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?MA(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?UW.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?zW(i).test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?DW.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?BW(t.data,i.version)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?$W.test(t.data)||(s=this._getOrReturnCtx(t,s),ee(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:q.invalid_string,...ce.errToObj(r)})}_addCheck(t){return new fr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ce.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ce.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ce.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ce.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ce.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ce.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ce.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ce.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ce.errToObj(n)})}nonempty(t){return this.min(1,ce.errToObj(t))}trim(){return new fr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}fr.create=e=>{var t;return new fr({checks:[],typeName:xe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ne(e)})};function WW(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Ci extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==re.number){const i=this._getOrReturnCtx(t);return ee(i,{code:q.invalid_type,expected:re.number,received:i.parsedType}),we}let r;const s=new en;for(const i of this._def.checks)i.kind==="int"?Fe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ee(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ee(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ee(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?WW(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),ee(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ee(r,{code:q.not_finite,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ce.toString(n))}setLimit(t,n,r,s){return new Ci({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(t){return new Ci({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Fe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ci.create=e=>new Ci({checks:[],typeName:xe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ne(e)});class Pi extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==re.bigint){const i=this._getOrReturnCtx(t);return ee(i,{code:q.invalid_type,expected:re.bigint,received:i.parsedType}),we}let r;const s=new en;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ee(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ee(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ee(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ce.toString(n))}setLimit(t,n,r,s){return new Pi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ce.toString(s)}]})}_addCheck(t){return new Pi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Pi.create=e=>{var t;return new Pi({checks:[],typeName:xe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ne(e)})};class Vc extends Ee{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==re.boolean){const r=this._getOrReturnCtx(t);return ee(r,{code:q.invalid_type,expected:re.boolean,received:r.parsedType}),we}return cn(t.data)}}Vc.create=e=>new Vc({typeName:xe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ne(e)});class So extends Ee{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==re.date){const i=this._getOrReturnCtx(t);return ee(i,{code:q.invalid_type,expected:re.date,received:i.parsedType}),we}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ee(i,{code:q.invalid_date}),we}const r=new en;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),ee(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new So({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ce.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ce.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}So.create=e=>new So({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:xe.ZodDate,...Ne(e)});class Df extends Ee{_parse(t){if(this._getType(t)!==re.symbol){const r=this._getOrReturnCtx(t);return ee(r,{code:q.invalid_type,expected:re.symbol,received:r.parsedType}),we}return cn(t.data)}}Df.create=e=>new Df({typeName:xe.ZodSymbol,...Ne(e)});class $c extends Ee{_parse(t){if(this._getType(t)!==re.undefined){const r=this._getOrReturnCtx(t);return ee(r,{code:q.invalid_type,expected:re.undefined,received:r.parsedType}),we}return cn(t.data)}}$c.create=e=>new $c({typeName:xe.ZodUndefined,...Ne(e)});class Uc extends Ee{_parse(t){if(this._getType(t)!==re.null){const r=this._getOrReturnCtx(t);return ee(r,{code:q.invalid_type,expected:re.null,received:r.parsedType}),we}return cn(t.data)}}Uc.create=e=>new Uc({typeName:xe.ZodNull,...Ne(e)});class tl extends Ee{constructor(){super(...arguments),this._any=!0}_parse(t){return cn(t.data)}}tl.create=e=>new tl({typeName:xe.ZodAny,...Ne(e)});class fo extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(t){return cn(t.data)}}fo.create=e=>new fo({typeName:xe.ZodUnknown,...Ne(e)});class Ss extends Ee{_parse(t){const n=this._getOrReturnCtx(t);return ee(n,{code:q.invalid_type,expected:re.never,received:n.parsedType}),we}}Ss.create=e=>new Ss({typeName:xe.ZodNever,...Ne(e)});class Mf extends Ee{_parse(t){if(this._getType(t)!==re.undefined){const r=this._getOrReturnCtx(t);return ee(r,{code:q.invalid_type,expected:re.void,received:r.parsedType}),we}return cn(t.data)}}Mf.create=e=>new Mf({typeName:xe.ZodVoid,...Ne(e)});class gr extends Ee{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==re.array)return ee(n,{code:q.invalid_type,expected:re.array,received:n.parsedType}),we;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(ee(n,{code:a?q.too_big:q.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ee(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ee(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new zr(n,a,n.path,l)))).then(a=>en.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new zr(n,a,n.path,l)));return en.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new gr({...this._def,minLength:{value:t,message:ce.toString(n)}})}max(t,n){return new gr({...this._def,maxLength:{value:t,message:ce.toString(n)}})}length(t,n){return new gr({...this._def,exactLength:{value:t,message:ce.toString(n)}})}nonempty(t){return this.min(1,t)}}gr.create=(e,t)=>new gr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray,...Ne(t)});function Wo(e){if(e instanceof ht){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=$r.create(Wo(r))}return new ht({...e._def,shape:()=>t})}else return e instanceof gr?new gr({...e._def,type:Wo(e.element)}):e instanceof $r?$r.create(Wo(e.unwrap())):e instanceof ki?ki.create(Wo(e.unwrap())):e instanceof Br?Br.create(e.items.map(t=>Wo(t))):e}class ht extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Fe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==re.object){const u=this._getOrReturnCtx(t);return ee(u,{code:q.invalid_type,expected:re.object,received:u.parsedType}),we}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ss&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const f=i[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new zr(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ss){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(ee(s,{code:q.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new zr(s,d,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>en.mergeObjectSync(r,u)):en.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return ce.errToObj,new ht({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,a,l;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=ce.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(t){return new ht({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ht({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:xe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ht({...this._def,catchall:t})}pick(t){const n={};return Fe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ht({...this._def,shape:()=>n})}omit(t){const n={};return Fe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ht({...this._def,shape:()=>n})}deepPartial(){return Wo(this)}partial(t){const n={};return Fe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new ht({...this._def,shape:()=>n})}required(t){const n={};return Fe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof $r;)i=i._def.innerType;n[r]=i}}),new ht({...this._def,shape:()=>n})}keyof(){return FA(Fe.objectKeys(this.shape))}}ht.create=(e,t)=>new ht({shape:()=>e,unknownKeys:"strip",catchall:Ss.create(),typeName:xe.ZodObject,...Ne(t)});ht.strictCreate=(e,t)=>new ht({shape:()=>e,unknownKeys:"strict",catchall:Ss.create(),typeName:xe.ZodObject,...Ne(t)});ht.lazycreate=(e,t)=>new ht({shape:e,unknownKeys:"strip",catchall:Ss.create(),typeName:xe.ZodObject,...Ne(t)});class zc extends Ee{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new An(l.ctx.common.issues));return ee(n,{code:q.invalid_union,unionErrors:a}),we}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new An(c));return ee(n,{code:q.invalid_union,unionErrors:l}),we}}get options(){return this._def.options}}zc.create=(e,t)=>new zc({options:e,typeName:xe.ZodUnion,...Ne(t)});const Jr=e=>e instanceof Hc?Jr(e.schema):e instanceof wr?Jr(e.innerType()):e instanceof qc?[e.value]:e instanceof Ei?e.options:e instanceof Kc?Fe.objectValues(e.enum):e instanceof Qc?Jr(e._def.innerType):e instanceof $c?[void 0]:e instanceof Uc?[null]:e instanceof $r?[void 0,...Jr(e.unwrap())]:e instanceof ki?[null,...Jr(e.unwrap())]:e instanceof Kx||e instanceof Yc?Jr(e.unwrap()):e instanceof Gc?Jr(e._def.innerType):[];class Lh extends Ee{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==re.object)return ee(n,{code:q.invalid_type,expected:re.object,received:n.parsedType}),we;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ee(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),we)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const a=Jr(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Lh({typeName:xe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Ne(r)})}}function pv(e,t){const n=Us(e),r=Us(t);if(e===t)return{valid:!0,data:e};if(n===re.object&&r===re.object){const s=Fe.objectKeys(t),i=Fe.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=pv(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===re.array&&r===re.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=pv(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===re.date&&r===re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bc extends Ee{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(hv(i)||hv(a))return we;const l=pv(i.value,a.value);return l.valid?((mv(i)||mv(a))&&n.dirty(),{status:n.value,value:l.data}):(ee(r,{code:q.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bc.create=(e,t,n)=>new Bc({left:e,right:t,typeName:xe.ZodIntersection,...Ne(n)});class Br extends Ee{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==re.array)return ee(r,{code:q.invalid_type,expected:re.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return ee(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(ee(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new zr(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>en.mergeArray(n,a)):en.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Br({...this._def,rest:t})}}Br.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Br({items:e,typeName:xe.ZodTuple,rest:null,...Ne(t)})};class Wc extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==re.object)return ee(r,{code:q.invalid_type,expected:re.object,received:r.parsedType}),we;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new zr(r,l,r.path,l)),value:a._parse(new zr(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?en.mergeObjectAsync(n,s):en.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Ee?new Wc({keyType:t,valueType:n,typeName:xe.ZodRecord,...Ne(r)}):new Wc({keyType:fr.create(),valueType:t,typeName:xe.ZodRecord,...Ne(n)})}}class Ff extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==re.map)return ee(r,{code:q.invalid_type,expected:re.map,received:r.parsedType}),we;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new zr(r,l,r.path,[u,"key"])),value:i._parse(new zr(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return we;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(u.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return we;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(u.value,f.value)}return{status:n.value,value:l}}}}Ff.create=(e,t,n)=>new Ff({valueType:t,keyType:e,typeName:xe.ZodMap,...Ne(n)});class No extends Ee{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==re.set)return ee(r,{code:q.invalid_type,expected:re.set,received:r.parsedType}),we;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ee(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ee(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const f of c){if(f.status==="aborted")return we;f.status==="dirty"&&n.dirty(),u.add(f.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new zr(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,n){return new No({...this._def,minSize:{value:t,message:ce.toString(n)}})}max(t,n){return new No({...this._def,maxSize:{value:t,message:ce.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}No.create=(e,t)=>new No({valueType:e,minSize:null,maxSize:null,typeName:xe.ZodSet,...Ne(t)});class ja extends Ee{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==re.function)return ee(n,{code:q.invalid_type,expected:re.function,received:n.parsedType}),we;function r(l,c){return If({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Rf(),el].filter(u=>!!u),issueData:{code:q.invalid_arguments,argumentsError:c}})}function s(l,c){return If({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Rf(),el].filter(u=>!!u),issueData:{code:q.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof nl){const l=this;return cn(async function(...c){const u=new An([]),f=await l._def.args.parseAsync(c,i).catch(p=>{throw u.addIssue(r(c,p)),u}),d=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(d,i).catch(p=>{throw u.addIssue(s(d,p)),u})})}else{const l=this;return cn(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new An([r(c,u.error)]);const f=Reflect.apply(a,this,u.data),d=l._def.returns.safeParse(f,i);if(!d.success)throw new An([s(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ja({...this._def,args:Br.create(t).rest(fo.create())})}returns(t){return new ja({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ja({args:t||Br.create([]).rest(fo.create()),returns:n||fo.create(),typeName:xe.ZodFunction,...Ne(r)})}}class Hc extends Ee{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Hc.create=(e,t)=>new Hc({getter:e,typeName:xe.ZodLazy,...Ne(t)});class qc extends Ee{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ee(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:t.data}}get value(){return this._def.value}}qc.create=(e,t)=>new qc({value:e,typeName:xe.ZodLiteral,...Ne(t)});function FA(e,t){return new Ei({values:e,typeName:xe.ZodEnum,...Ne(t)})}class Ei extends Ee{constructor(){super(...arguments),Bl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ee(n,{expected:Fe.joinValues(r),received:n.parsedType,code:q.invalid_type}),we}if(Of(this,Bl)||IA(this,Bl,new Set(this._def.values)),!Of(this,Bl).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ee(n,{received:n.data,code:q.invalid_enum_value,options:r}),we}return cn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ei.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ei.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Bl=new WeakMap;Ei.create=FA;class Kc extends Ee{constructor(){super(...arguments),Wl.set(this,void 0)}_parse(t){const n=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==re.string&&r.parsedType!==re.number){const s=Fe.objectValues(n);return ee(r,{expected:Fe.joinValues(s),received:r.parsedType,code:q.invalid_type}),we}if(Of(this,Wl)||IA(this,Wl,new Set(Fe.getValidEnumValues(this._def.values))),!Of(this,Wl).has(t.data)){const s=Fe.objectValues(n);return ee(r,{received:r.data,code:q.invalid_enum_value,options:s}),we}return cn(t.data)}get enum(){return this._def.values}}Wl=new WeakMap;Kc.create=(e,t)=>new Kc({values:e,typeName:xe.ZodNativeEnum,...Ne(t)});class nl extends Ee{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==re.promise&&n.common.async===!1)return ee(n,{code:q.invalid_type,expected:re.promise,received:n.parsedType}),we;const r=n.parsedType===re.promise?n.data:Promise.resolve(n.data);return cn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}nl.create=(e,t)=>new nl({type:e,typeName:xe.ZodPromise,...Ne(t)});class wr extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{ee(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return we;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?we:c.status==="dirty"||n.value==="dirty"?ua(c.value):c});{if(n.value==="aborted")return we;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?we:l.status==="dirty"||n.value==="dirty"?ua(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?we:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?we:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fc(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Fc(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);Fe.assertNever(s)}}wr.create=(e,t,n)=>new wr({schema:e,typeName:xe.ZodEffects,effect:t,...Ne(n)});wr.createWithPreprocess=(e,t,n)=>new wr({schema:t,effect:{type:"preprocess",transform:e},typeName:xe.ZodEffects,...Ne(n)});class $r extends Ee{_parse(t){return this._getType(t)===re.undefined?cn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$r.create=(e,t)=>new $r({innerType:e,typeName:xe.ZodOptional,...Ne(t)});class ki extends Ee{_parse(t){return this._getType(t)===re.null?cn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ki.create=(e,t)=>new ki({innerType:e,typeName:xe.ZodNullable,...Ne(t)});class Qc extends Ee{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qc.create=(e,t)=>new Qc({innerType:e,typeName:xe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ne(t)});class Gc extends Ee{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Lc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new An(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new An(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gc.create=(e,t)=>new Gc({innerType:e,typeName:xe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ne(t)});class Lf extends Ee{_parse(t){if(this._getType(t)!==re.nan){const r=this._getOrReturnCtx(t);return ee(r,{code:q.invalid_type,expected:re.nan,received:r.parsedType}),we}return{status:"valid",value:t.data}}}Lf.create=e=>new Lf({typeName:xe.ZodNaN,...Ne(e)});const HW=Symbol("zod_brand");class Kx extends Ee{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bu extends Ee{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?we:i.status==="dirty"?(n.dirty(),ua(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new bu({in:t,out:n,typeName:xe.ZodPipeline})}}class Yc extends Ee{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Fc(s)&&(s.value=Object.freeze(s.value)),s);return Lc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Yc.create=(e,t)=>new Yc({innerType:e,typeName:xe.ZodReadonly,...Ne(t)});function LA(e,t={},n){return e?tl.create().superRefine((r,s)=>{var i,a;if(!e(r)){const l=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(a=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):tl.create()}const qW={object:ht.lazycreate};var xe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(xe||(xe={}));const KW=(e,t={message:`Input not instance of ${e.name}`})=>LA(n=>n instanceof e,t),VA=fr.create,$A=Ci.create,QW=Lf.create,GW=Pi.create,UA=Vc.create,YW=So.create,ZW=Df.create,XW=$c.create,JW=Uc.create,e8=tl.create,t8=fo.create,n8=Ss.create,r8=Mf.create,s8=gr.create,i8=ht.create,o8=ht.strictCreate,a8=zc.create,l8=Lh.create,c8=Bc.create,u8=Br.create,d8=Wc.create,f8=Ff.create,h8=No.create,m8=ja.create,p8=Hc.create,g8=qc.create,v8=Ei.create,y8=Kc.create,x8=nl.create,pS=wr.create,w8=$r.create,b8=ki.create,j8=wr.createWithPreprocess,S8=bu.create,N8=()=>VA().optional(),C8=()=>$A().optional(),P8=()=>UA().optional(),E8={string:e=>fr.create({...e,coerce:!0}),number:e=>Ci.create({...e,coerce:!0}),boolean:e=>Vc.create({...e,coerce:!0}),bigint:e=>Pi.create({...e,coerce:!0}),date:e=>So.create({...e,coerce:!0})},k8=we;var Cr=Object.freeze({__proto__:null,defaultErrorMap:el,setErrorMap:kW,getErrorMap:Rf,makeIssue:If,EMPTY_PATH:TW,addIssueToContext:ee,ParseStatus:en,INVALID:we,DIRTY:ua,OK:cn,isAborted:hv,isDirty:mv,isValid:Fc,isAsync:Lc,get util(){return Fe},get objectUtil(){return fv},ZodParsedType:re,getParsedType:Us,ZodType:Ee,datetimeRegex:MA,ZodString:fr,ZodNumber:Ci,ZodBigInt:Pi,ZodBoolean:Vc,ZodDate:So,ZodSymbol:Df,ZodUndefined:$c,ZodNull:Uc,ZodAny:tl,ZodUnknown:fo,ZodNever:Ss,ZodVoid:Mf,ZodArray:gr,ZodObject:ht,ZodUnion:zc,ZodDiscriminatedUnion:Lh,ZodIntersection:Bc,ZodTuple:Br,ZodRecord:Wc,ZodMap:Ff,ZodSet:No,ZodFunction:ja,ZodLazy:Hc,ZodLiteral:qc,ZodEnum:Ei,ZodNativeEnum:Kc,ZodPromise:nl,ZodEffects:wr,ZodTransformer:wr,ZodOptional:$r,ZodNullable:ki,ZodDefault:Qc,ZodCatch:Gc,ZodNaN:Lf,BRAND:HW,ZodBranded:Kx,ZodPipeline:bu,ZodReadonly:Yc,custom:LA,Schema:Ee,ZodSchema:Ee,late:qW,get ZodFirstPartyTypeKind(){return xe},coerce:E8,any:e8,array:s8,bigint:GW,boolean:UA,date:YW,discriminatedUnion:l8,effect:pS,enum:v8,function:m8,instanceof:KW,intersection:c8,lazy:p8,literal:g8,map:f8,nan:QW,nativeEnum:y8,never:n8,null:JW,nullable:b8,number:$A,object:i8,oboolean:P8,onumber:C8,optional:w8,ostring:N8,pipeline:S8,preprocess:j8,promise:x8,record:d8,set:h8,strictObject:o8,string:VA,symbol:ZW,transformer:pS,tuple:u8,undefined:XW,union:a8,unknown:t8,void:r8,NEVER:k8,ZodIssueCode:q,quotelessJson:EW,ZodError:An});const gS=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Z(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},zA=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?gS(r.ref,n,e):r.refs&&r.refs.forEach(s=>gS(s,n,e))}},T8=(e,t)=>{t.shouldUseNativeValidation&&zA(e,t);const n={};for(const r in e){const s=Z(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(A8(t.names||Object.keys(e),r)){const a=Object.assign({},Z(n,r));qe(a,"root",i),qe(n,r,a)}else qe(n,r,i)}return n},A8=(e,t)=>e.some(n=>n.startsWith(t+"."));var _8=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=n[a].types,u=c&&c[r.code];n[a]=SA(a,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},R8=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&zA({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:T8(_8(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const I8=Cr.object({username:Cr.string(),email:Cr.string().email().optional().or(Cr.literal("")),fullName:Cr.string().optional().or(Cr.literal("")),phoneNumber:Cr.string().optional().or(Cr.literal("")),notifications:Cr.boolean().default(!0),marketing:Cr.boolean().default(!1)});function O8(){const{user:e}=ut(),{toast:t}=tt(),{checkForUpdates:n,updateAvailable:r,applyUpdate:s}=hA(),{biometricState:i,setupBiometricAuth:a,disableBiometricAuth:l,getBiometricDisplayName:c}=dP(),u=ke({mutationFn:async()=>await(await ve("POST","/api/push/test")).json(),onSuccess:()=>{t({title:"Test notification sent",description:"If notifications are enabled, you should receive it shortly."})},onError:y=>{t({title:"Test notification failed",description:y.message,variant:"destructive"})}}),f=()=>{if("serviceWorker"in navigator&&navigator.serviceWorker.controller){const y=new Date().toISOString(),v=Math.random().toString(36).substring(2,10),w={title:"Test Notification",body:`This is a test notification (${new Date().toLocaleTimeString()})`,timestamp:Date.now(),data:{testId:v,url:"/profile",timestamp:y,orderId:999,status:"test",isTestNotification:!0,userId:e==null?void 0:e.id}};console.log("Sending TEST_NOTIFICATION message to service worker with user ID:",e==null?void 0:e.id),navigator.serviceWorker.controller.postMessage({type:"TEST_NOTIFICATION",notificationData:w})}u.mutate()};m.useEffect(()=>(window.testNotification=f,()=>{delete window.testNotification}),[f,e==null?void 0:e.id]);const d=NW({resolver:R8(I8),defaultValues:{username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",fullName:(e==null?void 0:e.fullName)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||"",notifications:!0,marketing:!1}}),h=ke({mutationFn:async y=>(await ve("PATCH","/api/user/profile",y)).json(),onSuccess:y=>{pe.setQueryData(["/api/user"],y),t({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:y=>{t({title:"Update failed",description:y.message,variant:"destructive"})}});async function p(y){const{username:v,notifications:w,marketing:x,...g}=y;try{await h.mutateAsync(g)}catch(b){console.error("Error updating profile:",b)}}return o.jsxs("div",{className:"min-h-screen flex flex-col bg-secondary",children:[o.jsx(yi,{}),o.jsx("main",{className:"flex-1 p-5",children:o.jsxs("div",{className:"grid gap-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h1",{className:"font-semibold text-2xl text-primary",children:"Profile Settings"})}),o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Account Information"}),o.jsx(at,{children:"Manage your account details and preferences"})]}),o.jsx(fe,{children:o.jsx(CW,{...d,children:o.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsx(zo,{control:d.control,name:"username",render:({field:y})=>o.jsxs(Bi,{children:[o.jsx(Wi,{children:"Username"}),o.jsx(Hi,{children:o.jsx(Me,{...y,disabled:!0})}),o.jsx(_d,{children:"Your username cannot be changed"})]})}),o.jsx(zo,{control:d.control,name:"fullName",render:({field:y})=>o.jsxs(Bi,{children:[o.jsx(Wi,{children:"Full Name"}),o.jsx(Hi,{children:o.jsx(Me,{...y,placeholder:"Enter your full name"})})]})}),o.jsx(zo,{control:d.control,name:"email",render:({field:y})=>o.jsxs(Bi,{children:[o.jsx(Wi,{children:"Email"}),o.jsx(Hi,{children:o.jsx(Me,{...y,placeholder:"Enter your email",type:"email"})})]})}),o.jsx(zo,{control:d.control,name:"phoneNumber",render:({field:y})=>o.jsxs(Bi,{children:[o.jsx(Wi,{children:"Phone Number"}),o.jsx(Hi,{children:o.jsx(Me,{...y,placeholder:"Enter your phone number"})})]})})]}),o.jsx(Ah,{}),o.jsxs("div",{className:"grid gap-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Notifications"}),o.jsx(zo,{control:d.control,name:"notifications",render:({field:y})=>o.jsxs(Bi,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Wi,{children:"Order Notifications"}),o.jsx(_d,{children:"Receive notifications about your orders"})]}),o.jsx(Hi,{children:o.jsx(Gn,{checked:y.value,onCheckedChange:y.onChange})})]})}),o.jsx(zo,{control:d.control,name:"marketing",render:({field:y})=>o.jsxs(Bi,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Wi,{children:"Marketing Emails"}),o.jsx(_d,{children:"Receive emails about promotions and special offers"})]}),o.jsx(Hi,{children:o.jsx(Gn,{checked:y.value,onCheckedChange:y.onChange})})]})})]}),o.jsx(U,{type:"submit",className:"w-full",disabled:h.isPending,children:h.isPending?"Updating...":"Update Profile"})]})})})]}),o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Biometric Authentication"}),o.jsx(at,{children:"Secure and convenient login using Face ID, Touch ID, or fingerprint"})]}),o.jsx(fe,{className:"space-y-4",children:i.isLoading?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-green-600 rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Checking biometric availability..."})]}):i.isAvailable?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-medium",children:c(i.biometricType)}),i.hasStoredCredentials&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Enabled"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:i.hasStoredCredentials?`You can sign in quickly using ${c(i.biometricType)}`:`Enable ${c(i.biometricType)} for faster sign-in`})]}),o.jsx(Gn,{checked:i.hasStoredCredentials,onCheckedChange:async y=>{y?t({title:"Setup Required",description:"Sign out and back in to enable biometric authentication"}):await l()}})]}),i.hasStoredCredentials&&o.jsxs(U,{variant:"outline",size:"sm",onClick:l,className:"w-full",children:["Disable ",c(i.biometricType)]})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400",children:"🔒"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Biometric authentication is not available on this device or browser. This feature works on mobile devices with Face ID, Touch ID, or fingerprint sensors."})]})})]}),o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Account Balance"}),o.jsxs(at,{children:["Your current credit balance is ",o.jsxs("span",{className:"font-medium",children:["$",e==null?void 0:e.credits.toFixed(2)]})]})]}),o.jsx(fe,{className:"pt-0",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(eW,{}),o.jsx(tW,{})]})})]}),o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Your QR Code"}),o.jsx(at,{children:"Scan this code to identify yourself at the coffee shop or receive credits from other users"})]}),o.jsx(fe,{className:"flex justify-center",children:o.jsx("div",{className:"w-48 h-48",children:o.jsx(uE,{})})})]}),o.jsx(rW,{}),o.jsx(iW,{}),o.jsx(JB,{}),o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"Debug Tools"}),o.jsx(at,{children:"Utilities for debugging the application"})]}),o.jsxs(fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("div",{className:"text-sm font-semibold",children:"Notification Status"}),o.jsxs("ul",{className:"list-disc pl-5 text-sm",children:[o.jsxs("li",{children:["Push API Supported: ","Notification"in window?"Yes":"No"]}),o.jsxs("li",{children:["Service Worker Supported: ","serviceWorker"in navigator?"Yes":"No"]}),o.jsxs("li",{children:["Notification Permission: ",typeof window<"u"&&"Notification"in window?window.Notification.permission:"unknown"]}),o.jsxs("li",{children:["Is Windows: ",typeof window<"u"?window.navigator.userAgent.includes("Windows")?"Yes":"No":"unknown"]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[o.jsx(U,{variant:"outline",onClick:()=>{"serviceWorker"in navigator?navigator.serviceWorker.ready.then(y=>{var w;const v=(w=y.active)==null?void 0:w.state;console.log("Service worker state:",v),t({title:"Service Worker Status",description:`State: ${v||"unknown"}`,duration:3e3})}).catch(y=>{console.error("Service worker error:",y),t({title:"Service Worker Error",description:String(y),variant:"destructive",duration:5e3})}):t({title:"Service Worker Not Supported",description:"This browser does not support Service Workers",variant:"destructive",duration:5e3})},children:"Check Service Worker State"}),o.jsx(U,{onClick:()=>{t({title:"Sending test notification",description:"Check your notifications and console logs",duration:3e3}),f()},children:"Send Test Notification"}),o.jsx(U,{variant:"outline",onClick:async()=>{t({title:"Checking for updates",description:"Looking for new versions of the app...",duration:3e3});const y=await n();t(y?{title:"Update Available",description:"A new version of the app is available.",action:o.jsx(U,{variant:"default",size:"sm",onClick:s,children:"Update Now"}),duration:1e4}:{title:"No Updates",description:"You're already using the latest version.",duration:3e3})},children:"Check for Updates"}),o.jsx(U,{variant:"secondary",onClick:()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(y=>{for(let v of y)console.log("Unregistering service worker:",v),v.unregister();t({title:"Service Worker Reset",description:"Service worker has been unregistered. Refresh the page to reinstall.",duration:5e3})}):t({title:"Service Worker Not Supported",description:"This browser does not support Service Workers",variant:"destructive",duration:5e3})},children:"Reset Service Worker"})]})]})]})]})})]})}class D8{constructor(t){this.video=null,this.scanInterval=null,this.jsQRPromise=null,this.isActive=!1,this.startTime=0,this.canvas=document.createElement("canvas");const n=this.canvas.getContext("2d");if(!n)throw new Error("Failed to get canvas context");this.context=n,this.onDetected=t,this.jsQRPromise=this.loadJsQR(),console.log("QRScanner instance created")}async loadJsQR(){try{return console.log("Loading jsQR library..."),typeof window.jsQR=="function"?(console.log("jsQR is already available"),window.jsQR):new Promise((t,n)=>{const r=document.createElement("script");r.src="https://unpkg.com/jsqr@1.4.0/dist/jsQR.js",r.onload=()=>{typeof window.jsQR=="function"?(console.log("jsQR library loaded successfully"),t(window.jsQR)):(console.error("jsQR library loaded but function not available"),n(new Error("jsQR library loaded but function not available")))},r.onerror=()=>{console.error("Failed to load jsQR from unpkg, trying jsdelivr...");const s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js",s.onload=()=>{typeof window.jsQR=="function"?(console.log("jsQR library loaded successfully from fallback"),t(window.jsQR)):(console.error("jsQR library loaded from fallback but function not available"),n(new Error("jsQR library loaded but function not available")))},s.onerror=()=>{console.error("Failed to load jsQR from both sources"),n(new Error("Failed to load jsQR library from all sources"))},document.head.appendChild(s)},document.head.appendChild(r)})}catch(t){throw console.error("Error loading jsQR:",t),t}}async start(t){try{if(this.isActive&&(console.log("Scanner already active, stopping before restart"),this.stop()),!t)throw new Error("Video element is null or undefined");if(this.startTime=Date.now(),console.log(`Starting QR scanner with video element (id=${t.id}, width=${t.width}, height=${t.height})`),await this.jsQRPromise,this.isActive=!0,this.video=t,t.srcObject)console.log("Camera stream already set on video element");else{console.log("Setting up camera stream...");try{const i={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}};try{console.log("Requesting camera with preferred settings...");const a=await navigator.mediaDevices.getUserMedia(i);if(console.log("Camera stream obtained with tracks:",a.getTracks().length),!this.video||this.video!==t)throw console.warn("Video element changed during initialization"),a.getTracks().forEach(l=>l.stop()),new Error("Video element reference changed during initialization");t.srcObject=a,console.log("Camera stream attached to video element")}catch(a){console.warn("Could not access camera with preferred settings, trying fallback...",a);const l={video:!0,audio:!1};try{console.log("Requesting camera with fallback settings...");const c=await navigator.mediaDevices.getUserMedia(l);if(console.log("Fallback camera stream obtained with tracks:",c.getTracks().length),!this.video||this.video!==t)throw console.warn("Video element changed during fallback initialization"),c.getTracks().forEach(u=>u.stop()),new Error("Video element reference changed during fallback initialization");t.srcObject=c,console.log("Fallback camera stream attached to video element")}catch(c){throw console.error("Camera access with fallback settings failed:",c),c.name==="NotAllowedError"||c.name==="PermissionDeniedError"?new Error("Camera permission denied. Please allow camera access in your browser settings."):c.name==="NotFoundError"||c.name==="DevicesNotFoundError"?new Error("No camera found on this device."):c.name==="NotReadableError"||c.name==="TrackStartError"?new Error("Camera is in use by another application or not accessible."):new Error(`Could not access camera: ${c.message||"Unknown error"}`)}}if(!t.srcObject)throw new Error("Failed to set video source after obtaining camera stream");await new Promise((a,l)=>{if(!this.video||this.video!==t){l(new Error("Video element reference changed during metadata loading"));return}const c=setTimeout(()=>{l(new Error("Video loading timed out. Camera may not be working properly."))},5e3),u=()=>{if(clearTimeout(c),console.log("Video metadata loaded, attempting to play..."),!this.video||this.video!==t){l(new Error("Video element reference changed before play"));return}t.play().then(()=>{console.log("Camera stream started successfully"),a()}).catch(h=>{console.error("Failed to play video:",h),l(new Error(`Video cannot be played: ${h.message}`))})},f=h=>{clearTimeout(c),console.error("Video element error:",h),l(new Error("Error loading video from camera"))};t.addEventListener("loadedmetadata",u,{once:!0}),t.addEventListener("error",f,{once:!0});const d=()=>{t.removeEventListener("loadedmetadata",u),t.removeEventListener("error",f)};setTimeout(()=>d,0)})}catch(i){console.error("Error getting camera stream:",i);let a="Camera access failed";throw i.name==="NotAllowedError"||i.name==="PermissionDeniedError"?a="Camera permission denied. Please allow camera access in your browser settings.":i.name==="NotFoundError"||i.name==="DevicesNotFoundError"?a="No camera found on this device.":i.name==="NotReadableError"||i.name==="TrackStartError"?a="Camera is in use by another application or not accessible.":i.message&&(a=`Camera access denied or not available: ${i.message}`),new Error(a)}}if(!this.video||this.video!==t)throw new Error("Video element reference changed before canvas setup");const n=t.videoWidth||640,r=t.videoHeight||480;n===0||r===0?(console.warn("Video dimensions are zero, using default dimensions"),this.canvas.width=640,this.canvas.height=480):(this.canvas.width=n,this.canvas.height=r),console.log(`Canvas dimensions set to ${this.canvas.width}x${this.canvas.height}`),this.scanInterval&&(clearInterval(this.scanInterval),this.scanInterval=null),this.isActive?(console.log("Starting QR code scanning interval"),this.scanInterval=window.setInterval(()=>this.scan(),200),setTimeout(()=>{this.isActive&&this.scan()},100)):console.warn("Scanner became inactive during initialization, not starting interval");const s=Date.now()-this.startTime;console.log(`QR scanner initialization completed in ${s}ms`)}catch(n){const r=Date.now()-this.startTime;throw console.error(`Failed to start QR scanner after ${r}ms:`,n),this.isActive=!1,this.stop(),n}}stop(){if(console.log("Stopping QR scanner"),this.isActive=!1,this.scanInterval&&(clearInterval(this.scanInterval),this.scanInterval=null),this.video&&this.video.srcObject)try{const n=this.video.srcObject.getTracks();n.length>0?(console.log(`Stopping ${n.length} camera tracks`),n.forEach(r=>{console.log(`Stopping camera track: ${r.kind}, ID: ${r.id}`),r.stop()})):console.log("No tracks found in video stream"),this.video.srcObject=null,console.log("Cleared video srcObject")}catch(t){console.error("Error stopping camera tracks:",t)}else console.log("No video element or stream to clean up");this.video=null,console.log("QR scanner stopped successfully")}scan(){if(!this.isActive){console.log("Scanner inactive - scan aborted");return}if(!this.video){console.warn("Video element is missing during scan");return}try{let t=!0;try{const s=this.video.id;(!this.video.videoWidth||!this.video.videoHeight)&&(Math.random()<.1&&console.log("Waiting for video dimensions to be available..."),t=!1)}catch(s){console.error("Error accessing video properties - element may be detached:",s),t=!1;return}if(!t||this.video.readyState!==this.video.HAVE_ENOUGH_DATA)return;const n=window.jsQR;if(!n){Math.random()<.1&&console.warn("jsQR library not available yet, waiting for library to load");return}try{this.video.videoWidth===0||this.video.videoHeight===0?(console.warn("Video dimensions are zero, using default dimensions"),this.canvas.width=640,this.canvas.height=480):(this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight)}catch(s){console.error("Error setting canvas dimensions:",s);return}if(!this.video||!this.isActive||this.video.readyState!==this.video.HAVE_ENOUGH_DATA){console.warn("Video element became invalid before drawing to canvas");return}try{this.context.drawImage(this.video,0,0,this.canvas.width,this.canvas.height)}catch(s){console.error("Error drawing video to canvas:",s),s instanceof DOMException&&s.message.includes("drawImage")&&console.error("Could not draw video to canvas. Video element may be invalid.");return}let r;try{r=this.context.getImageData(0,0,this.canvas.width,this.canvas.height)}catch(s){console.error("Error getting image data from canvas:",s);return}if(!r||!r.data||r.data.length===0){console.warn("Invalid image data received from canvas");return}try{const s=n(r.data,r.width,r.height,{inversionAttempts:"attemptBoth"});s&&(console.log("QR code detected with data:",s.data),this.onDetected(s))}catch(s){console.error("Error processing QR code:",s)}}catch(t){console.error("Unexpected error during QR scan:",t)}}}const M8=du("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lc=m.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:te(M8({variant:t}),e),...n}));lc.displayName="Alert";const cc=m.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:te("mb-1 font-medium leading-none tracking-tight",e),...t}));cc.displayName="AlertTitle";const uc=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:te("text-sm [&_p]:leading-relaxed",e),...t}));uc.displayName="AlertDescription";var Qx="Checkbox",[F8,x9]=Jn(Qx),[L8,V8]=F8(Qx),BA=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=m.useState(null),y=Ae(t,j=>p(j)),v=m.useRef(!1),w=h?f||!!h.closest("form"):!0,[x=!1,g]=Rn({prop:s,defaultProp:i,onChange:u}),b=m.useRef(x);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const N=()=>g(b.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[h,g]),o.jsxs(L8,{scope:n,state:x,disabled:l,children:[o.jsx(ue.button,{type:"button",role:"checkbox","aria-checked":hi(x)?"mixed":x,"aria-required":a,"data-state":qA(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:y,onKeyDown:oe(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:oe(e.onClick,j=>{g(N=>hi(N)?!0:!N),w&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),w&&o.jsx($8,{control:h,bubbles:!v.current,name:r,value:c,checked:x,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:hi(i)?!1:i})]})});BA.displayName=Qx;var WA="CheckboxIndicator",HA=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=V8(WA,n);return o.jsx(jn,{present:r||hi(i.state)||i.state===!0,children:o.jsx(ue.span,{"data-state":qA(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});HA.displayName=WA;var $8=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...i}=e,a=m.useRef(null),l=wh(n),c=xh(t);m.useEffect(()=>{const f=a.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&p){const y=new Event("click",{bubbles:r});f.indeterminate=hi(n),p.call(f,hi(n)?!1:n),f.dispatchEvent(y)}},[l,n,r]);const u=m.useRef(hi(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hi(e){return e==="indeterminate"}function qA(e){return hi(e)?"indeterminate":e?"checked":"unchecked"}var KA=BA,U8=HA;const Ho=m.forwardRef(({className:e,...t},n)=>o.jsx(KA,{ref:n,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(U8,{className:te("flex items-center justify-center text-current"),children:o.jsx(by,{className:"h-4 w-4"})})}));Ho.displayName=KA.displayName;function z8(){var a0,l0;console.log("AdminPage rendering");const{user:e}=ut(),[t,n]=au(),{toast:r}=tt(),[s,i]=m.useState("orders");console.log("Active tab:",s);const[a,l]=m.useState(null),[c,u]=m.useState(!1),[f,d]=m.useState(!1),[h,p]=m.useState(""),[y,v]=m.useState(null),[w,x]=m.useState(!1),[g,b]=m.useState("10"),[j,N]=m.useState(!1),[P,E]=m.useState(!0),[C,A]=m.useState(!1),[_,M]=m.useState(!1),I=m.useRef(null),[V,F]=m.useState(!1),[X,Y]=m.useState(!1),[K,D]=m.useState(null),[z,B]=m.useState(null),G=m.useRef(null),[je,Je]=m.useState(!1),[Le,Qe]=m.useState(!1),[Ge,le]=m.useState(""),[Be,dt]=m.useState(!1),He=async()=>{console.log("Starting QR scanner"),F(!0),B(null),D(null),setTimeout(async()=>{var S,$;try{if(!I.current)throw new Error("Video element reference is missing - cannot start scanner");if(console.log("Video element available:",I.current),G.current&&(console.log("Stopping existing scanner before reinitializing"),G.current.stop(),G.current=null),console.log("Creating new QR scanner instance"),G.current=new D8(ae=>{try{const _e=ae.data;console.log("QR code detected:",_e),Ie();try{const rt=JSON.parse(_e);console.log("Parsed QR data:",rt),rt&&rt.id?(console.log("Using user ID from QR code:",rt.id),e_.mutate(rt.id)):(console.log("No user ID found in QR data, using raw data"),yl.mutate(_e))}catch(rt){console.error("Failed to parse QR data as JSON:",rt),yl.mutate(_e)}}catch(_e){console.error("Error processing QR code:",_e),B("Failed to process QR code data"),F(!1)}}),console.log("Checking browser capabilities..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)if(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)r({title:"Legacy Browser Detected",description:"Using compatibility mode for camera access. For best results, please update your browser."});else throw new Error("Your browser doesn't support camera access. Please try using a modern browser like Chrome, Firefox, or Safari.");if(!I.current)throw new Error("Video element is no longer available");console.log("Requesting camera access...");const Q=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:{ideal:"environment"}}});if(console.log("Camera access granted, stream:",Q),!I.current)throw Q.getTracks().forEach(ae=>ae.stop()),new Error("Video element became unavailable");if(I.current.srcObject=Q,console.log("Stream attached to video element"),await new Promise(ae=>setTimeout(ae,100)),!I.current||!G.current)throw new Error("Required elements are no longer available");console.log("Starting QR scanner with video element"),await G.current.start(I.current),console.log("QR scanner started successfully"),Y(!0),r({title:"Scanner Active",description:"Camera is now scanning for QR codes."})}catch(Q){console.error("QR scanner error:",Q);let ae="Failed to access camera.",_e="Failed to access camera. Please ensure you've granted camera permissions.";if(Q.name==="NotAllowedError"||Q.name==="PermissionDeniedError"?(ae="Camera permission denied. Please allow camera access in your browser settings.",_e="Camera permission denied. Please click the camera icon in your address bar and allow access."):Q.name==="NotFoundError"||Q.name==="DevicesNotFoundError"?(ae="No camera found on this device.",_e="No camera was detected on your device."):Q.name==="NotReadableError"||Q.name==="TrackStartError"?(ae="Camera is in use by another application or not accessible.",_e="Camera is in use by another application. Please close other apps using your camera."):Q.name==="OverconstrainedError"?(ae="Camera cannot satisfy the requested constraints. Try with different settings.",_e="Camera cannot satisfy the requested settings. Please try again with default settings."):Q.name==="AbortError"?(ae="Camera access was aborted. Please try again.",_e="Camera access was interrupted. Please try again."):Q.name==="SecurityError"?(ae="Camera access is blocked due to security restrictions.",_e="Camera access is blocked. Try using HTTPS or check your browser settings."):Q.message&&Q.message.includes("Video element")?(ae="Video element issue: "+Q.message,_e="Could not access camera element. Please try refreshing the page."):Q.message&&(ae=Q.message),B(ae),F(!1),r({title:"Camera Error",description:_e,variant:"destructive"}),Q.name==="NotAllowedError"){const rt=navigator.userAgent.indexOf("Chrome")>-1,Ro=navigator.userAgent.indexOf("Firefox")>-1,Jh=navigator.userAgent.indexOf("Safari")>-1&&!rt;rt?r({title:"Camera Permission Help",description:"In Chrome, click the camera icon in the address bar and select 'Allow'."}):Ro?r({title:"Camera Permission Help",description:"In Firefox, click the camera icon in the address bar and choose 'Remember this decision'."}):Jh&&r({title:"Camera Permission Help",description:"In Safari, go to Preferences > Websites > Camera and allow access for this site."})}((S=Q.message)!=null&&S.includes("Could not access camera")||($=Q.message)!=null&&$.includes("Video element"))&&(r({title:"Auto-retry",description:"We'll try to access your camera again in 2 seconds..."}),G.current&&(G.current.stop(),G.current=null),setTimeout(()=>{s==="qrscanner"&&He()},2e3))}},500)},Ie=()=>{if(console.log("Stopping QR scanner..."),G.current&&G.current.stop(),I.current&&I.current.srcObject)try{const S=I.current.srcObject;S&&S.getTracks().forEach(Q=>{console.log(`Manually stopping track: ${Q.kind}`),Q.stop()}),I.current.srcObject=null,console.log("Video source cleared")}catch(S){console.error("Error cleaning up video element:",S)}F(!1),Y(!1),console.log("QR scanner stopped and resources released")};m.useEffect(()=>{if(s==="qrscanner"){console.log("QR scanner tab activated");const S=setTimeout(()=>{console.log("Checking if video element is available:",I.current),I.current?console.log("Video element is available, can start scanning"):console.log("Video element is not available yet after timeout")},500);return()=>clearTimeout(S)}else G.current&&(console.log("Stopping scanner due to tab change"),Ie());return()=>{console.log("Cleaning up QR scanner on component unmount"),Ie()}},[s]);const We=ke({mutationFn:async()=>await(await ve("POST","/api/admin/test-notification")).json(),onSuccess:S=>{r({title:"Test Notification Sent",description:`${S.message}`}),M(!1)},onError:S=>{r({title:"Test Failed",description:S.message||"Failed to send test notification",variant:"destructive"}),M(!1)}}),Mt=()=>{M(!0),We.mutate()},[tn,Mn]=m.useState(!1),[Sn,jr]=m.useState(!1),[k,O]=m.useState(null),[R,J]=m.useState({name:"",description:"",category:"",price:0,imageUrl:"",hasSizes:!1,mediumPrice:0,largePrice:0,hasOptions:!1}),[L,H]=m.useState([]),[se,Se]=m.useState({name:"",priceAdjustment:0,isParent:!1});m.useEffect(()=>{e&&(e.isAdmin||(r({title:"Access Denied",description:"You don't have permission to access this page.",variant:"destructive"}),n("/")))},[e,n,r]);const{data:ft=[],isLoading:Tt,error:Kr,refetch:Gx}=Pt({queryKey:["/api/admin/orders/detailed"],enabled:!!(e!=null&&e.isAdmin),refetchInterval:5e3,refetchOnWindowFocus:!0}),{data:Ps=[],isLoading:ml,error:Vh}=Pt({queryKey:["/api/admin/users"],enabled:!!(e!=null&&e.isAdmin)}),To=Pt({queryKey:["/api/menu"],enabled:!!(e!=null&&e.isAdmin)}),{data:Ao=[],isLoading:ju,error:GA}=To,{data:Yx=[],isLoading:X8,error:J8}=Pt({queryKey:["/api/menu/categories"],enabled:!!(e!=null&&e.isAdmin)}),{data:Zx=[],isLoading:e9,error:YA}=Pt({queryKey:["/api/categories"],enabled:!!(e!=null&&e.isAdmin)}),[ZA,pl]=m.useState(!1),[Su,$h]=m.useState(!1),[gl,Xx]=m.useState(null),[Es,Uh]=m.useState({name:"",displayName:"",description:"",displayOrder:0}),zh=ke({mutationFn:async({orderId:S,status:$})=>await(await ve("PATCH",`/api/admin/orders/${S}`,{status:$})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/orders"]}),pe.invalidateQueries({queryKey:["/api/orders"]}),u(!1),r({title:"Order Updated",description:`Order status has been updated to ${h}.`})},onError:S=>{r({title:"Update Failed",description:S.message,variant:"destructive"})}}),Jx=ke({mutationFn:async({userId:S,amount:$})=>(await ve("POST",`/api/admin/users/${S}/credits`,{amount:$}),!0),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"Credits Added",description:`${xt(Number(g))} has been added to the user's account.`}),x(!1)},onError:S=>{r({title:"Failed to Add Credits",description:S.message,variant:"destructive"})}}),Bh=ke({mutationFn:async({userId:S,isAdmin:$})=>(await ve("PATCH",`/api/admin/users/${S}`,{isAdmin:$}),!0),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"User Updated",description:"User admin status has been updated."}),x(!1)},onError:S=>{r({title:"Update Failed",description:S.message,variant:"destructive"})}}),Wh=ke({mutationFn:async({userId:S,isActive:$})=>(await ve("PATCH",`/api/admin/users/${S}/active`,{isActive:$}),!0),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/users"]}),r({title:"User Updated",description:"User active status has been updated."}),x(!1)},onError:S=>{r({title:"Update Failed",description:S.message,variant:"destructive"})}}),Hh=ke({mutationFn:async()=>(await ve("DELETE","/api/admin/users/clear"),!0),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/users"]}),A(!1),r({title:"Users Cleared",description:"All non-admin users have been removed from the system."})},onError:S=>{r({title:"Operation Failed",description:S.message,variant:"destructive"})}}),qh=ke({mutationFn:async()=>(await ve("DELETE","/api/admin/orders/clear"),!0),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/orders"]}),pe.invalidateQueries({queryKey:["/api/admin/orders/detailed"]}),A(!1),r({title:"Orders Cleared",description:"All orders have been removed from the system."})},onError:S=>{r({title:"Operation Failed",description:S.message,variant:"destructive"})}}),Kh=ke({mutationFn:async S=>await(await ve("POST","/api/admin/menu",S)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/menu"]}),Mn(!1),Cu(),r({title:"Menu Item Created",description:"The menu item has been successfully added."})},onError:S=>{r({title:"Creation Failed",description:S.message,variant:"destructive"})}}),Qh=ke({mutationFn:async({id:S,menuItem:$})=>await(await ve("PATCH",`/api/admin/menu/${S}`,$)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/menu"]}),Mn(!1),Cu(),r({title:"Menu Item Updated",description:"The menu item has been successfully updated."})},onError:S=>{r({title:"Update Failed",description:S.message,variant:"destructive"})}}),XA=ke({mutationFn:async S=>{await ve("DELETE",`/api/admin/menu/${S}`)},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/menu"]}),r({title:"Menu Item Deleted",description:"The menu item has been successfully deleted."})},onError:S=>{r({title:"Deletion Failed",description:S.message,variant:"destructive"})}}),e0=ke({mutationFn:async S=>{const $=new FormData;$.append("image",S);const Q=await fetch("/api/admin/upload",{method:"POST",credentials:"include",body:$});if(!Q.ok){const ae=await Q.json();throw new Error(ae.message||"Failed to upload image")}return await Q.json()},onSuccess:S=>{J($=>({...$,imageUrl:S.imageUrl})),r({title:"Image Uploaded",description:"Image was uploaded successfully."})},onError:S=>{r({title:"Upload Failed",description:S.message,variant:"destructive"})}}),Gh=ke({mutationFn:async S=>await(await ve("POST","/api/admin/categories",S)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/categories"]}),pe.invalidateQueries({queryKey:["/api/menu/categories"]}),pl(!1),Pu(),r({title:"Category Created",description:"The menu category has been successfully added."})},onError:S=>{r({title:"Creation Failed",description:S.message,variant:"destructive"})}}),Yh=ke({mutationFn:async({id:S,category:$})=>await(await ve("PATCH",`/api/admin/categories/${S}`,$)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/categories"]}),pe.invalidateQueries({queryKey:["/api/menu/categories"]}),pl(!1),Pu(),r({title:"Category Updated",description:"The menu category has been successfully updated."})},onError:S=>{r({title:"Update Failed",description:S.message,variant:"destructive"})}}),vl=ke({mutationFn:async({version:S,includeAdmins:$})=>await(await ve("POST","/api/admin/send-update-notification",{version:S,includeAdmins:$})).json(),onSuccess:S=>{r({title:"Update Notification Sent",description:`Email notification sent to ${S.emailsSent} users for version ${S.version}.`})},onError:S=>{r({title:"Notification Failed",description:S.message,variant:"destructive"})}}),JA=ke({mutationFn:async S=>{await ve("DELETE",`/api/admin/categories/${S}`)},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/categories"]}),pe.invalidateQueries({queryKey:["/api/menu/categories"]}),r({title:"Category Deleted",description:"The menu category has been successfully deleted."})},onError:S=>{r({title:"Deletion Failed",description:S.message,variant:"destructive"})}}),Zh=ke({mutationFn:async S=>await(await ve("POST","/api/admin/users",S)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/users"]}),Nu(!1),s0(),r({title:"User Created",description:"The new user has been successfully created."})},onError:S=>{r({title:"Creation Failed",description:S.message,variant:"destructive"})}}),yl=ke({mutationFn:async S=>{console.log(`Searching for user with QR code: ${S}`);try{const $=await ve("GET",`/api/admin/user-by-qr/${encodeURIComponent(S)}`);if(!$.ok){const Q=await $.json().catch(()=>({}));throw $.status===404?new Error("No user found with this QR code. Verify the QR code is valid."):new Error(Q.message||`Server error: ${$.status}`)}return await $.json()}catch($){throw console.error("QR code lookup error:",$),new Error($.message||"Failed to find user with that QR code")}},onSuccess:S=>{console.log("User found by QR code:",S),D(S),B(null),F(!1),G.current&&G.current.stop(),r({title:"User Found",description:`Successfully found ${S.isAdmin?"admin":"customer"}: ${S.username}`})},onError:S=>{console.error("QR code mutation error:",S),D(null),B(S.message||"Failed to find user with that QR code"),F(!1),r({title:"QR Code Scan Failed",description:S.message||"Could not find a user with this QR code. Make sure it's a valid Bean Stalker QR code.",variant:"destructive"}),r({title:"Try Again",description:"You can try scanning again or manually search for the user in the Users tab."}),G.current&&G.current.stop()}}),e_=ke({mutationFn:async S=>{console.log(`Searching for user with ID: ${S}`);try{const $=await ve("GET",`/api/admin/users/${S}`);if(!$.ok){const Q=await $.json().catch(()=>({}));throw $.status===404?new Error("No user found with this ID."):new Error(Q.message||`Server error: ${$.status}`)}return await $.json()}catch($){throw console.error("User lookup error:",$),new Error($.message||"Failed to find user with that ID")}},onSuccess:S=>{console.log("User found by ID:",S),D(S),B(null),F(!1),r({title:"User Found",description:`Successfully found ${S.isAdmin?"admin":"customer"}: ${S.username}`}),G.current&&G.current.stop()},onError:S=>{console.error("User ID lookup error:",S),D(null),B(S.message||"Failed to find user with that ID"),F(!1),r({title:"User Lookup Failed",description:S.message||"Could not find a user with this ID",variant:"destructive"}),G.current&&G.current.stop()}}),t_=()=>{a&&h&&zh.mutate({orderId:a.id,status:h})},n_=()=>{if(y&&g){const S=Number(g);if(isNaN(S)||S<=0){r({title:"Invalid Amount",description:"Please enter a valid amount greater than 0.",variant:"destructive"});return}Jx.mutate({userId:y.id,amount:S})}},r_=()=>{y&&Bh.mutate({userId:y.id,isAdmin:j})},s_=()=>{y&&Wh.mutate({userId:y.id,isActive:P})},t0=S=>{l(S),p(S.status),u(!0)},i_=S=>{l(S),d(!0)},n0=S=>{v(S),N(S.isAdmin),E(S.isActive!==!1),b("10"),x(!0)},[o_,Nu]=m.useState(!1),[Di,_o]=m.useState({username:"",email:"",password:"",credits:0,isAdmin:!1}),Cu=()=>{J({name:"",description:"",category:"",price:0,imageUrl:"",hasSizes:!1,mediumPrice:0,largePrice:0,hasOptions:!1}),H([]),Se({name:"",priceAdjustment:0,isParent:!1}),jr(!1),O(null)};function Pu(){Uh({name:"",displayName:"",description:"",displayOrder:0}),$h(!1),Xx(null)}const r0=S=>{S?(Xx(S),$h(!0),Uh({name:S.name,displayName:S.displayName,description:S.description||"",displayOrder:S.displayOrder||0})):(Pu(),$h(!1)),pl(!0)},Eu=(S,$)=>{Uh(Q=>({...Q,[S]:$}))},a_=()=>{if(!Es.name||!Es.displayName){r({title:"Invalid Form",description:"Please fill in all required fields.",variant:"destructive"});return}Su&&gl?Yh.mutate({id:gl.id,category:Es}):Gh.mutate(Es)},l_=S=>{confirm("Are you sure you want to delete this category? This will affect all menu items in this category.")&&JA.mutate(S)},s0=()=>{_o({username:"",email:"",password:"",credits:0,isAdmin:!1})},c_=()=>{if(!Di.username||!Di.password){r({title:"Invalid Form",description:"Username and password are required.",variant:"destructive"});return}Zh.mutate(Di)},i0=S=>{S?(O(S),jr(!0),J({name:S.name,description:S.description||"",category:S.category,price:S.price,imageUrl:S.imageUrl||"",hasSizes:S.hasSizes||!1,mediumPrice:S.mediumPrice||0,largePrice:S.largePrice||0,hasOptions:S.hasOptions||!1}),S.hasOptions?fetch(`/api/admin/menu/${S.id}/options`,{credentials:"include"}).then($=>{if(!$.ok)throw new Error(`HTTP error! Status: ${$.status}`);return $.json()}).then($=>{console.log("Fetched options:",$);const Q=[];console.log("Processing options, including standalone options..."),$.filter(ae=>ae.isParent).forEach(ae=>{Q.push({id:ae.id,name:ae.name,priceAdjustment:ae.priceAdjustment||0,isParent:!0,parentId:null,optionType:ae.optionType||"group"}),ae.children&&Array.isArray(ae.children)&&ae.children.forEach(_e=>{Q.push({id:_e.id,name:_e.name,priceAdjustment:_e.priceAdjustment||0,isParent:!1,parentId:ae.id,optionType:_e.optionType||"item"})})}),$.filter(ae=>!ae.isParent&&!ae.parentId&&!$.some(_e=>_e.isParent&&_e.children&&_e.children.some(rt=>rt.id===ae.id))).forEach(ae=>{Q.push({id:ae.id,name:ae.name,priceAdjustment:ae.priceAdjustment||0,isParent:!1,parentId:null,optionType:ae.optionType||"item"})}),console.log("Processed options:",Q),H(Q)}).catch($=>{console.error("Error fetching menu item options:",$),r({title:"Error",description:"Failed to load menu item options",variant:"destructive"})}):H([])):(Cu(),jr(!1)),Mn(!0)},Qr=(S,$)=>{J(Q=>({...Q,[S]:$}))},Gr=(S,$)=>{Se(Q=>({...Q,[S]:$}))},u_=()=>{if(!se.name){r({title:"Invalid Option",description:"Please enter a name for the option",variant:"destructive"});return}H(S=>[...S,{name:se.name,priceAdjustment:se.priceAdjustment,isParent:se.isParent,parentId:se.parentId}]),Se({name:"",priceAdjustment:0,isParent:!1,parentId:se.isParent?void 0:se.parentId})},Xh=async S=>{const $=L[S];if(H(Q=>Q.filter((ae,_e)=>_e!==S)),$!=null&&$.id&&Sn&&k)try{const Q=await fetch(`/api/admin/menu-options/${$.id}`,{method:"DELETE",credentials:"include",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!Q.ok)throw new Error(`Failed to delete option: ${Q.statusText}`);pe.invalidateQueries({predicate:ae=>(Array.isArray(ae.queryKey)?ae.queryKey:[ae.queryKey]).some(rt=>typeof rt=="string"&&(rt.includes("/api/menu")||rt.includes("/api/admin/menu")))}),pe.removeQueries({queryKey:["/api/menu"]}),pe.removeQueries({queryKey:["/api/menu",k.id,"options"]}),pe.removeQueries({queryKey:[`/api/menu/${k.id}/options`]}),pe.removeQueries({queryKey:[`/api/admin/menu/${k.id}/options`]}),console.log(`Option ${$.name} (ID: ${$.id}) deleted from database`),To.refetch(),r({title:"Option Removed",description:`Successfully removed "${$.name}" option`})}catch(Q){console.error("Error deleting option:",Q),r({title:"Error",description:"Failed to delete option from database",variant:"destructive"})}},o0=async S=>{try{const $=await fetch(`/api/admin/menu/${S}/options`,{credentials:"include"});if(!$.ok)throw new Error(`Failed to fetch existing options: ${$.status}`);const Q=await $.json();if(L.length===0&&Q.length>0){const be=Q.map(St=>fetch(`/api/admin/menu-options/${St.id}`,{method:"DELETE",credentials:"include"}));await Promise.all(be),pe.invalidateQueries({predicate:St=>(Array.isArray(St.queryKey)?St.queryKey:[St.queryKey]).some(Sr=>typeof Sr=="string"&&(Sr.includes("/api/menu")||Sr.includes("/api/admin/menu")))}),pe.removeQueries({queryKey:["/api/menu"]}),pe.removeQueries({queryKey:["/api/menu",S,"options"]}),pe.removeQueries({queryKey:[`/api/menu/${S}/options`]}),pe.removeQueries({queryKey:[`/api/admin/menu/${S}/options`]}),To.refetch(),r({title:"Options Removed",description:"All options have been removed from this item"});return}const ae=new Map,_e=async be=>{if(be.id){if(!(await fetch(`/api/admin/menu-options/${be.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:be.name,priceAdjustment:be.priceAdjustment,isParent:!0,parentId:null,optionType:"group"})})).ok)throw new Error(`Failed to update option: ${be.name}`);return be.id}else{const St=await fetch(`/api/admin/menu/${S}/options`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:be.name,priceAdjustment:be.priceAdjustment,menuItemId:S,isParent:!0,parentId:null,optionType:"group"})});if(!St.ok)throw new Error(`Failed to create option: ${be.name}`);return(await St.json()).id}},rt=L.filter(be=>be.isParent);for(let be=0;be<rt.length;be++){const St=rt[be],Ft=L.indexOf(St),Sr=await _e(St);ae.set(Ft,Sr)}const Ro=L.filter(be=>!be.isParent).map(be=>{let St=null;if(typeof be.parentId=="number"){const Ft=L.find((Sr,p_)=>Sr.isParent&&(p_===be.parentId||Sr.id===be.parentId));if(Ft){const Sr=L.indexOf(Ft);St=ae.get(Sr)||null,St===null&&Ft.id&&(St=Ft.id)}else ae.has(be.parentId)?St=ae.get(be.parentId)||null:St=be.parentId}return be.id?fetch(`/api/admin/menu-options/${be.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:be.name,priceAdjustment:be.priceAdjustment,isParent:!1,parentId:St,optionType:"item"})}).then(Ft=>{if(!Ft.ok)throw new Error(`Failed to update option: ${be.name}`);return Ft.json()}):fetch(`/api/admin/menu/${S}/options`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:be.name,priceAdjustment:be.priceAdjustment,menuItemId:S,isParent:!1,parentId:St,optionType:"item"})}).then(Ft=>{if(!Ft.ok)throw new Error(`Failed to create option: ${be.name}`);return Ft.json()})}),Jh=L.filter(be=>be.id!==void 0).map(be=>be.id),m_=Q.filter(be=>!Jh.includes(be.id)).map(be=>fetch(`/api/admin/menu-options/${be.id}`,{method:"DELETE",credentials:"include"}));await Promise.all([...Ro,...m_]),pe.invalidateQueries({predicate:be=>(Array.isArray(be.queryKey)?be.queryKey:[be.queryKey]).some(Ft=>typeof Ft=="string"&&(Ft.includes("/api/menu")||Ft.includes("/api/admin/menu")))}),pe.removeQueries({queryKey:["/api/menu"]}),pe.removeQueries({queryKey:["/api/menu",S,"options"]}),pe.removeQueries({queryKey:[`/api/menu/${S}/options`]}),pe.removeQueries({queryKey:[`/api/admin/menu/${S}/options`]}),r({title:"Options Saved",description:`Successfully saved ${L.length} options for this item`})}catch($){console.error("Error saving menu item options:",$),r({title:"Error",description:"Failed to save options",variant:"destructive"})}},d_=()=>{if(!R.name||!R.category||!R.price||R.price<=0){r({title:"Invalid Form",description:"Please fill in all required fields.",variant:"destructive"});return}if(R.hasSizes&&(!R.mediumPrice||R.mediumPrice<=0||!R.largePrice||R.largePrice<=0)){r({title:"Invalid Form",description:"Please enter valid prices for all sizes.",variant:"destructive"});return}if(R.hasOptions&&L.length===0){r({title:"Missing Options",description:"You enabled options but didn't add any. Please add at least one option or disable options.",variant:"destructive"});return}Sn&&k?Qh.mutate({id:k.id,menuItem:R},{onSuccess:S=>{R.hasOptions&&o0(S.id)}}):Kh.mutate(R,{onSuccess:S=>{R.hasOptions&&o0(S.id)}})},f_=S=>{confirm("Are you sure you want to delete this menu item?")&&XA.mutate(S)},h_=S=>{switch(S){case"completed":return o.jsx(Ze,{className:"bg-green-500",children:"Completed"});case"pending":return o.jsx(Ze,{className:"bg-yellow-500",children:"Pending"});case"processing":return o.jsx(Ze,{className:"bg-blue-500",children:"Processing"});case"cancelled":return o.jsx(Ze,{className:"bg-red-500",children:"Cancelled"});default:return o.jsx(Ze,{children:S})}};return Tt||ml||ju?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(At,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-secondary w-full",children:[o.jsx(yi,{}),o.jsxs("main",{className:"flex-1 p-5 container mx-auto max-w-5xl",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h1",{className:"font-semibold text-2xl text-primary",children:"Admin Dashboard"})}),o.jsxs(ky,{value:s,onValueChange:i,className:"w-full",children:[o.jsxs(ch,{className:"grid w-full grid-cols-4 mb-6",children:[o.jsx(os,{value:"orders",children:"Orders"}),o.jsx(os,{value:"users",children:"Users"}),o.jsx(os,{value:"menu",children:"Menu"}),o.jsx(os,{value:"qrscanner",children:"QR Scanner"})]}),o.jsxs("div",{className:"mb-6 flex gap-3",children:[o.jsx(U,{onClick:()=>window.open("/kitchen","_blank"),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"🍽️ Kitchen Display"}),o.jsx(U,{onClick:()=>n("/admin/credit-verification"),className:"bg-green-600 hover:bg-green-700 text-white",children:"💳 Credit Verification"})]}),o.jsx(as,{value:"orders",children:o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsx(Ue,{children:"All Orders"}),o.jsx(at,{children:"Manage all customer orders"})]}),o.jsx(fe,{children:Kr?o.jsx("div",{className:"text-red-500",children:"Failed to load orders"}):ft&&ft.length===0?o.jsx("div",{className:"text-center py-4",children:"No orders found"}):o.jsxs(qi,{children:[o.jsx(zl,{children:"List of all orders"}),o.jsx(Ki,{children:o.jsxs(fn,{children:[o.jsx(Ve,{children:"Order ID"}),o.jsx(Ve,{children:"Customer"}),o.jsx(Ve,{children:"Date"}),o.jsx(Ve,{children:"Total"}),o.jsx(Ve,{children:"Status"}),o.jsx(Ve,{children:"Action"})]})}),o.jsx(Qi,{children:Array.isArray(ft)&&[...ft].sort((S,$)=>new Date($.createdAt).getTime()-new Date(S.createdAt).getTime()).map(S=>o.jsxs(fn,{className:S.status==="pending"?"bg-yellow-50 dark:bg-yellow-950/20":"",children:[o.jsxs(De,{className:"font-medium",children:["#",S.id]}),o.jsxs(De,{children:[o.jsx("div",{className:"font-medium",children:S.userName}),S.userFullName&&o.jsx("div",{className:"text-sm text-muted-foreground",children:S.userFullName})]}),o.jsx(De,{children:_g(new Date(S.createdAt))}),o.jsx(De,{children:xt(S.total)}),o.jsx(De,{children:h_(S.status)}),o.jsx(De,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U,{size:"sm",variant:"outline",onClick:()=>t0(S),children:"Update"}),o.jsx(U,{size:"sm",variant:"secondary",onClick:()=>i_(S),children:"Details"})]})})]},S.id))})]})})]})}),o.jsx(as,{value:"users",children:o.jsxs(de,{children:[o.jsx($e,{children:o.jsxs("div",{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Ue,{children:"All Users"}),o.jsx(at,{children:"Manage all registered users"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(U,{variant:"destructive",onClick:()=>A(!0),children:[o.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Clear Data"]}),o.jsxs(U,{variant:"default",onClick:()=>Nu(!0),children:[o.jsx(oM,{className:"h-4 w-4 mr-2"}),"Add New User"]})]})]})}),o.jsx(fe,{children:Vh?o.jsx("div",{className:"text-red-500",children:"Failed to load users"}):Ps&&Ps.length===0?o.jsx("div",{className:"text-center py-4",children:"No users found"}):o.jsxs(qi,{children:[o.jsx(zl,{children:"List of all users"}),o.jsx(Ki,{children:o.jsxs(fn,{children:[o.jsx(Ve,{children:"ID"}),o.jsx(Ve,{children:"Username"}),o.jsx(Ve,{children:"Email"}),o.jsx(Ve,{children:"Credits"}),o.jsx(Ve,{children:"Admin"}),o.jsx(Ve,{children:"Action"})]})}),o.jsx(Qi,{children:Array.isArray(Ps)&&Ps.map(S=>o.jsxs(fn,{children:[o.jsxs(De,{className:"font-medium",children:["#",S.id]}),o.jsx(De,{children:S.username}),o.jsx(De,{children:S.email||"-"}),o.jsx(De,{children:xt(S.credits)}),o.jsx(De,{children:S.isAdmin?o.jsx(Ze,{className:"bg-purple-500",children:"Admin"}):o.jsx(Ze,{variant:"outline",children:"User"})}),o.jsx(De,{children:o.jsx(U,{size:"sm",variant:"outline",onClick:()=>n0(S),children:"Manage"})})]},S.id))})]})})]})}),o.jsx(as,{value:"menu",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(de,{children:[o.jsx($e,{children:o.jsxs("div",{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Ue,{children:"Menu Categories"}),o.jsx(at,{children:"Manage menu categories"})]}),o.jsxs(U,{variant:"default",onClick:()=>r0(),children:[o.jsx($w,{className:"h-4 w-4 mr-2"}),"Add Category"]})]})}),o.jsx(fe,{children:YA?o.jsx("div",{className:"text-red-500",children:"Failed to load categories"}):Zx.length===0?o.jsx("div",{className:"text-center py-4",children:"No categories found"}):o.jsxs(qi,{children:[o.jsx(zl,{children:"List of all menu categories"}),o.jsx(Ki,{children:o.jsxs(fn,{children:[o.jsx(Ve,{children:"ID"}),o.jsx(Ve,{children:"Category Key"}),o.jsx(Ve,{children:"Display Name"}),o.jsx(Ve,{children:"Description"}),o.jsx(Ve,{children:"Display Order"}),o.jsx(Ve,{className:"w-[150px]",children:"Actions"})]})}),o.jsx(Qi,{children:Zx.sort((S,$)=>(S.displayOrder||0)-($.displayOrder||0)).map(S=>o.jsxs(fn,{children:[o.jsxs(De,{className:"font-medium",children:["#",S.id]}),o.jsx(De,{children:S.name}),o.jsx(De,{children:S.displayName}),o.jsx(De,{children:S.description||"-"}),o.jsx(De,{children:S.displayOrder||"-"}),o.jsxs(De,{className:"flex space-x-1",children:[o.jsx(U,{size:"sm",variant:"outline",onClick:()=>r0(S),children:o.jsx(zw,{className:"h-4 w-4"})}),o.jsx(U,{size:"sm",variant:"outline",className:"text-red-500 hover:text-red-600",onClick:()=>l_(S.id),children:o.jsx(Bo,{className:"h-4 w-4"})})]})]},S.id))})]})})]}),o.jsxs(de,{children:[o.jsx($e,{children:o.jsxs("div",{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Ue,{children:"Menu Items"}),o.jsx(at,{children:"Manage coffee shop menu items"})]}),o.jsxs(U,{variant:"default",onClick:()=>i0(),children:[o.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Add Menu Item"]})]})}),o.jsx(fe,{children:GA?o.jsx("div",{className:"text-red-500",children:"Failed to load menu items"}):Ao&&Ao.length===0?o.jsx("div",{className:"text-center py-4",children:"No menu items found"}):o.jsxs(qi,{children:[o.jsx(zl,{children:"List of all menu items"}),o.jsx(Ki,{children:o.jsxs(fn,{children:[o.jsx(Ve,{children:"ID"}),o.jsx(Ve,{children:"Name"}),o.jsx(Ve,{children:"Category"}),o.jsx(Ve,{children:"Price"}),o.jsx(Ve,{className:"w-[150px]",children:"Actions"})]})}),o.jsx(Qi,{children:Array.isArray(Ao)&&Ao.map(S=>o.jsxs(fn,{children:[o.jsxs(De,{className:"font-medium",children:["#",S.id]}),o.jsx(De,{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[S.imageUrl?o.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-10 h-10 object-cover rounded-md"}):o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-md flex items-center justify-center",children:o.jsx(Wa,{className:"h-5 w-5 text-gray-500"})}),o.jsx("span",{children:S.name})]})}),o.jsx(De,{children:S.category}),o.jsx(De,{children:S.hasSizes?o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{children:["S: ",xt(S.price)]}),o.jsxs("span",{children:["M: ",xt(S.mediumPrice||0)]}),o.jsxs("span",{children:["L: ",xt(S.largePrice||0)]})]}):xt(S.price)}),o.jsxs(De,{className:"flex space-x-1",children:[o.jsx(U,{size:"sm",variant:"outline",onClick:()=>i0(S),children:o.jsx(zw,{className:"h-4 w-4"})}),o.jsx(U,{size:"sm",variant:"outline",className:"text-red-500 hover:text-red-600",onClick:()=>f_(S.id),children:o.jsx(Bo,{className:"h-4 w-4"})})]})]},S.id))})]})})]})]})}),o.jsx(as,{value:"qrscanner",children:o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsxs(Ue,{className:"flex items-center gap-2",children:[o.jsx(kg,{className:"h-5 w-5 text-primary"}),"Customer QR Code Scanner"]}),o.jsx(at,{children:"Scan a customer's QR code to view their profile information and manage their account"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"flex flex-col space-y-6",children:[o.jsxs("div",{className:"relative aspect-video w-full max-w-md mx-auto border border-border rounded-md overflow-hidden bg-muted",children:[V?o.jsxs(o.Fragment,{children:[o.jsx("video",{ref:I,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute top-2 right-2 flex items-center bg-black/70 text-white text-xs px-2 py-1 rounded",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-1 animate-pulse"}),o.jsx("span",{children:"Scanning"})]}),o.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-black/70 text-white text-xs p-2 rounded text-center",children:o.jsx("p",{children:"Position the QR code in the center of the frame"})}),o.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:o.jsx("div",{className:"w-48 h-48 border-2 border-primary-500 rounded-lg animate-pulse"})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[o.jsx("div",{className:"mb-4 text-4xl text-muted-foreground",children:o.jsx(kg,{size:64})}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Camera is currently inactive. Click Start to begin scanning."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Please ensure camera permissions are enabled in your browser."}),o.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Browser permission help:"}),o.jsxs("ul",{className:"list-disc pl-5 text-left",children:[o.jsx("li",{children:"Chrome: Look for camera icon in address bar"}),o.jsx("li",{children:"Firefox: Check the permission popup"}),o.jsx("li",{children:"Safari: Check Settings → Websites → Camera"})]})]})]}),z&&V&&o.jsx("div",{className:"absolute inset-0 border-2 border-destructive pointer-events-none animate-pulse",children:o.jsx("div",{className:"absolute top-0 left-0 right-0 bg-destructive/80 text-white text-xs p-2 text-center",children:"Camera error - check permissions"})})]}),o.jsx("div",{className:"flex justify-center gap-4",children:V?o.jsxs(U,{variant:"outline",onClick:Ie,className:"gap-2",children:[o.jsx(Xi,{className:"h-4 w-4"}),"Stop Scanner"]}):o.jsxs(U,{variant:"default",onClick:He,disabled:yl.isPending,className:"gap-2",children:[o.jsx(KD,{className:"h-4 w-4"}),"Start Scanner"]})}),yl.isPending&&o.jsxs("div",{className:"flex items-center justify-center text-muted-foreground",children:[o.jsx(At,{className:"h-4 w-4 mr-2 animate-spin"}),o.jsx("span",{children:"Loading user data..."})]}),z&&o.jsxs(lc,{variant:"destructive",children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx(cc,{children:"Scanner Error"}),o.jsx(uc,{children:z})]}),V&&!z&&!K&&!yl.isPending&&o.jsxs(lc,{children:[o.jsx(bd,{className:"h-4 w-4"}),o.jsx(cc,{children:"Ready to Scan"}),o.jsx(uc,{children:"Position the QR code in the center of the frame. The scanner will automatically detect valid codes."})]}),K&&o.jsxs(de,{children:[o.jsx($e,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ue,{className:"text-lg",children:"Customer Information"}),o.jsx(Ze,{variant:K.isAdmin?"default":"outline",children:K.isAdmin?"Admin":"Customer"})]})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"Username"}),o.jsx("p",{className:"font-medium truncate",children:K.username})]}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"Full Name"}),o.jsx("p",{className:"font-medium truncate",children:K.fullName||"Not provided"})]}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"Email"}),o.jsx("p",{className:"font-medium truncate",children:K.email||"Not provided"})]}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"Account Credits"}),o.jsx("p",{className:"font-semibold text-primary truncate",children:xt(K.credits)})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[o.jsxs(U,{variant:"outline",onClick:()=>n0(K),className:"flex-1 gap-1 h-auto py-2",size:"sm",children:[o.jsx(li,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Manage Customer"})]}),o.jsxs(U,{variant:"default",onClick:()=>{v(K),b("10"),Je(!0)},className:"flex-1 gap-1 h-auto py-2",size:"sm",children:[o.jsx(Tc,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Add Credits"})]})]})]})})]})]})})]})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs(de,{children:[o.jsxs($e,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(Ue,{className:"text-xl flex items-center",children:[o.jsx(sf,{className:"mr-2 h-5 w-5 text-primary"}),"Admin Notifications"]}),o.jsx(at,{children:"Enable notifications to receive alerts when new orders are placed"})]}),o.jsx(Ze,{variant:"outline",className:"bg-primary/10 text-primary",children:"Important"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsx(XB,{}),o.jsxs("div",{className:"mt-4 border-t pt-4",children:[o.jsx("h3",{className:"text-md font-semibold mb-2",children:"Notification Troubleshooting"}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs(U,{onClick:Mt,disabled:_,variant:"outline",className:"flex items-center gap-2",children:[_?o.jsx(At,{className:"h-4 w-4 animate-spin"}):o.jsx(sf,{className:"h-4 w-4"}),"Send Test Notification"]}),o.jsx("p",{className:"ml-4 text-sm text-muted-foreground",children:"Use this to verify if your device can receive push notifications"})]}),o.jsxs("div",{className:"border-t pt-6 mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"App Update Notifications"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(U,{onClick:()=>Qe(!0),disabled:vl.isPending,variant:"outline",className:"flex items-center gap-2",children:[vl.isPending?o.jsx(At,{className:"h-4 w-4 animate-spin"}):o.jsx(Eg,{className:"h-4 w-4"}),"Send Update Notification"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications to all users about app updates"})]})]})]})]})})]})})]}),o.jsx(or,{open:f,onOpenChange:d,children:o.jsxs(Un,{className:"max-w-3xl",children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:"Order Details"}),o.jsx(Wn,{children:a&&o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"Order ID:"})," #",a.id]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"Customer:"})," ",a.userName," ",a.userFullName?`(${a.userFullName})`:""]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"Date:"})," ",_g(new Date(a.createdAt))]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"Status:"})," ",a.status]})]})})]}),o.jsxs("div",{className:"py-4",children:[o.jsx("h3",{className:"mb-2 font-medium",children:"Order Items"}),a&&o.jsx("div",{className:"border rounded-md",children:o.jsxs(qi,{children:[o.jsx(Ki,{children:o.jsxs(fn,{children:[o.jsx(Ve,{children:"Item"}),o.jsx(Ve,{className:"text-right",children:"Quantity"}),o.jsx(Ve,{className:"text-right",children:"Price"}),o.jsx(Ve,{className:"text-right",children:"Subtotal"})]})}),o.jsxs(Qi,{children:[a.items.map((S,$)=>o.jsxs(fn,{children:[o.jsx(De,{children:o.jsx("div",{className:"font-medium",children:S.name})}),o.jsx(De,{className:"text-right",children:S.quantity}),o.jsx(De,{className:"text-right",children:xt(S.price)}),o.jsx(De,{className:"text-right",children:xt(S.price*S.quantity)})]},$)),o.jsxs(fn,{children:[o.jsx(De,{colSpan:3,className:"text-right font-bold",children:"Total:"}),o.jsx(De,{className:"text-right font-bold",children:xt(a.total)})]})]})]})})]}),o.jsxs(Er,{children:[o.jsx(U,{variant:"outline",onClick:()=>d(!1),children:"Close"}),o.jsx(U,{onClick:()=>{d(!1),t0(a)},children:"Update Status"})]})]})}),o.jsx(or,{open:c,onOpenChange:u,children:o.jsxs(Un,{children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:"Update Order Status"}),o.jsxs(Wn,{children:["Change the status of order #",a==null?void 0:a.id]})]}),o.jsx("div",{className:"py-4",children:o.jsxs(di,{value:h,onValueChange:p,children:[o.jsx(hs,{children:o.jsx(fi,{placeholder:"Select a status"})}),o.jsxs(ms,{children:[o.jsx(Gt,{value:"pending",children:"Pending"}),o.jsx(Gt,{value:"processing",children:"Processing"}),o.jsx(Gt,{value:"completed",children:"Completed"}),o.jsx(Gt,{value:"cancelled",children:"Cancelled"})]})]})}),o.jsxs(Er,{children:[o.jsx(U,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),o.jsx(U,{onClick:t_,disabled:zh.isPending,children:zh.isPending?"Updating...":"Update Status"})]})]})}),o.jsx(or,{open:w,onOpenChange:x,children:o.jsxs(Un,{children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:"Manage User"}),o.jsxs(Wn,{children:["Manage user: ",y==null?void 0:y.username]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"User Info"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{className:"font-medium",children:"ID:"}),o.jsxs("div",{className:"truncate",children:["#",y==null?void 0:y.id]}),o.jsx("div",{className:"font-medium",children:"Username:"}),o.jsx("div",{className:"truncate",children:y==null?void 0:y.username}),o.jsx("div",{className:"font-medium",children:"Email:"}),o.jsx("div",{className:"truncate",children:(y==null?void 0:y.email)||"-"}),o.jsx("div",{className:"font-medium",children:"Current Credits:"}),o.jsx("div",{className:"truncate",children:y?xt(y.credits):"-"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Add Credits"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(Me,{type:"number",min:"1",value:g,onChange:S=>b(S.target.value)}),o.jsxs(U,{onClick:n_,disabled:Jx.isPending,children:[o.jsx($w,{className:"h-4 w-4 mr-2"}),"Add"]})]}),o.jsx("div",{className:"grid grid-cols-4 gap-1 pt-1",children:[10,20,50,100].map(S=>o.jsxs(U,{variant:g===S.toString()?"default":"outline",size:"sm",onClick:()=>b(S.toString()),className:"px-1 w-full",children:["$",S]},S))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Admin Status"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Grant admin privileges"}),o.jsx(Gn,{checked:j,onCheckedChange:N})]}),o.jsxs(U,{className:"w-full",onClick:r_,disabled:Bh.isPending,children:[o.jsx(iM,{className:"h-4 w-4 mr-2"}),Bh.isPending?"Updating Privileges...":"Update Privileges"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Account Status"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Account active"}),o.jsx(Gn,{checked:P,onCheckedChange:E})]}),o.jsxs(U,{className:"w-full",onClick:s_,disabled:Wh.isPending,children:[o.jsx(sM,{className:"h-4 w-4 mr-2"}),Wh.isPending?"Updating Status...":P?"Activate Account":"Deactivate Account"]})]})]})]})}),o.jsx(or,{open:tn,onOpenChange:S=>{S||Cu(),Mn(S)},children:o.jsxs(Un,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:Sn?"Edit Menu Item":"Add Menu Item"}),o.jsx(Wn,{children:Sn?`Update details for ${k==null?void 0:k.name}`:"Add a new item to the menu"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"name",children:"Name *"}),o.jsx(Me,{id:"name",value:R.name||"",onChange:S=>Qr("name",S.target.value),placeholder:"Cappuccino"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"description",children:"Description"}),o.jsx(Ef,{id:"description",value:R.description||"",onChange:S=>Qr("description",S.target.value),placeholder:"Delicious coffee with frothy milk",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"category",children:"Category *"}),o.jsxs(di,{value:R.category||"",onValueChange:S=>Qr("category",S),children:[o.jsx(hs,{id:"category",children:o.jsx(fi,{placeholder:"Select a category"})}),o.jsxs(ms,{children:[Yx.map(S=>o.jsx(Gt,{value:S,children:S},S)),R.category&&!Yx.includes(R.category)&&o.jsxs(Gt,{value:R.category,children:[R.category," (New)"]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"price",children:R.hasSizes?"Small Price ($) *":"Price ($) *"}),o.jsx(Me,{id:"price",type:"number",min:"0.01",step:"0.01",value:R.price||"",onChange:S=>Qr("price",Number(S.target.value)),placeholder:"4.99"})]})]}),o.jsxs("div",{className:"space-y-4 py-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ho,{id:"hasSizes",checked:R.hasSizes||!1,onCheckedChange:S=>Qr("hasSizes",!!S)}),o.jsx(Te,{htmlFor:"hasSizes",className:"font-medium",children:"Enable size options (small, medium, large)"})]}),R.hasSizes&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-6 mt-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"mediumPrice",children:"Medium Price ($) *"}),o.jsx(Me,{id:"mediumPrice",type:"number",min:"0.01",step:"0.01",value:R.mediumPrice||"",onChange:S=>Qr("mediumPrice",Number(S.target.value)),placeholder:"5.99"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"largePrice",children:"Large Price ($) *"}),o.jsx(Me,{id:"largePrice",type:"number",min:"0.01",step:"0.01",value:R.largePrice||"",onChange:S=>Qr("largePrice",Number(S.target.value)),placeholder:"6.99"})]})]})]}),o.jsxs("div",{className:"space-y-4 py-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ho,{id:"hasOptions",checked:R.hasOptions||!1,onCheckedChange:S=>Qr("hasOptions",!!S)}),o.jsx(Te,{htmlFor:"hasOptions",className:"font-medium",children:"Enable item options"})]}),R.hasOptions&&o.jsxs("div",{className:"pl-6 mt-2 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Te,{children:"Current Options"}),o.jsxs(Ze,{variant:"outline",className:"ml-2",children:[L.length," options"]})]}),Sn&&o.jsx(U,{variant:"destructive",size:"sm",onClick:()=>{H([]),k!=null&&k.id&&L.some(S=>S.id)&&r({title:"Clearing Options",description:"Removing all options for this item..."})},children:"Clear All"})]}),L.length>0?o.jsxs("div",{className:"space-y-2 max-h-[200px] overflow-y-auto pr-2",children:[L.filter(S=>S.isParent).map((S,$)=>o.jsxs("div",{className:"border rounded-md overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-primary",children:S.name}),o.jsx(Ze,{variant:"outline",className:"ml-2",children:"Group"})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>Xh(L.indexOf(S)),children:o.jsx(Xi,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"p-2 pl-4 space-y-1",children:[L.filter(Q=>!Q.isParent&&(S.id&&Q.parentId===S.id||!S.id&&Q.parentId===L.indexOf(S))).map((Q,ae)=>o.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:Q.name}),Q.priceAdjustment>0&&o.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(+",xt(Q.priceAdjustment),")"]})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>Xh(L.indexOf(Q)),children:o.jsx(Xi,{className:"h-4 w-4"})})]},`child-${ae}`)),L.filter(Q=>!Q.isParent&&(S.id&&Q.parentId===S.id||!S.id&&Q.parentId===L.indexOf(S))).length===0&&o.jsx("div",{className:"text-sm text-muted-foreground italic px-2",children:"No options in this group yet. Add some below."})]})]},`group-${$}`)),L.filter(S=>!S.isParent&&(S.parentId===void 0||S.parentId===null)).map((S,$)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:S.name}),S.priceAdjustment>0&&o.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(+",xt(S.priceAdjustment),")"]})]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>Xh(L.indexOf(S)),children:o.jsx(Xi,{className:"h-4 w-4"})})]},`option-${$}`))]}):o.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No options added yet. Add some below."})]}),o.jsx(Ah,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Te,{children:"Add New Option"}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Ho,{id:"isParentOption",checked:se.isParent||!1,onCheckedChange:S=>Gr("isParent",!!S)}),o.jsx(Te,{htmlFor:"isParentOption",className:"text-sm",children:"This is an option group"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsx(Me,{placeholder:se.isParent?"Group name (e.g. 'Milk Alternatives', 'Flavors')":"Option name (e.g. 'Vanilla', 'Almond Milk')",value:se.name,onChange:S=>Gr("name",S.target.value)})}),o.jsx("div",{children:o.jsx(Me,{type:"number",min:"0",step:"0.01",placeholder:"Price adjustment",value:se.priceAdjustment,onChange:S=>Gr("priceAdjustment",Number(S.target.value)),disabled:se.isParent})})]}),!se.isParent&&L.filter(S=>S.isParent).length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsx(Te,{htmlFor:"parentOption",className:"text-sm",children:"Parent Group (optional)"}),o.jsxs(di,{value:((a0=se.parentId)==null?void 0:a0.toString())||"none",onValueChange:S=>{if(console.log("Selected parent value:",S),!S||S==="none"){Gr("parentId",void 0);return}if(S.startsWith("temp-")){const ae=parseInt(S.replace("temp-","")),_e=L.filter(rt=>rt.isParent);if(ae>=0&&ae<_e.length){const rt=_e[ae],Ro=L.indexOf(rt);console.log("Using array index for temp parent:",Ro),Gr("parentId",Ro)}return}const $=parseInt(S);if(!isNaN($)&&L.find(_e=>_e.isParent&&_e.id===$)){console.log("Found parent with DB ID:",$),Gr("parentId",$);return}console.log("Using fallback logic for parent selection");const Q=L.filter(ae=>ae.isParent).find((ae,_e)=>{var rt;return((rt=ae.id)==null?void 0:rt.toString())===S||!ae.id&&_e.toString()===S});if(Q!=null&&Q.id)console.log("Selected parent by DB ID:",Q.id),Gr("parentId",Q.id);else if(Q){const ae=L.indexOf(Q);console.log("Selected parent by array index:",ae),Gr("parentId",ae)}else console.log("Could not find parent group, clearing selection"),Gr("parentId",void 0)},children:[o.jsx(hs,{children:o.jsx(fi,{placeholder:"Select a parent group (optional)"})}),o.jsxs(ms,{children:[o.jsx(Gt,{value:"none",children:"No parent (standalone option)"}),(console.log("All parent option groups:",L.filter(S=>S.isParent).map(S=>({name:S.name,id:S.id,isParent:S.isParent}))),L.filter(S=>S.isParent).map((S,$)=>{const Q=S.id?S.id.toString():`temp-${$}`;return console.log(`Rendering option ${S.name} with value ${Q}`),o.jsxs(Gt,{value:Q,children:[S.name," ",S.id?`(#${S.id})`:"(New)"]},`parent-${S.id||$}`)}))]})]})]}),o.jsxs(U,{type:"button",variant:"outline",onClick:u_,className:"w-full mt-2",children:[o.jsx(Sy,{className:"h-4 w-4 mr-2"}),se.isParent?"Add Option Group":"Add Option"]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"imageUrl",children:"Image"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Me,{id:"imageUrl",value:R.imageUrl||"",onChange:S=>Qr("imageUrl",S.target.value),placeholder:"Image URL or upload an image"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Me,{id:"image-upload",type:"file",accept:"image/*",className:"max-w-sm",onChange:S=>{S.target.files&&S.target.files[0]&&e0.mutate(S.target.files[0])}}),e0.isPending&&o.jsx(At,{className:"h-4 w-4 animate-spin"})]})]}),R.imageUrl&&o.jsx("div",{className:"flex items-center justify-center border rounded-md p-2",children:o.jsx("img",{src:R.imageUrl,alt:"Menu item preview",className:"max-h-32 object-contain"})})]})]})]}),o.jsxs(Er,{children:[o.jsx(U,{variant:"outline",onClick:()=>Mn(!1),children:"Cancel"}),o.jsx(U,{onClick:d_,disabled:Kh.isPending||Qh.isPending,children:Kh.isPending||Qh.isPending?"Saving...":Sn?"Update Item":"Add Item"})]})]})}),o.jsx(or,{open:o_,onOpenChange:S=>{S||s0(),Nu(S)},children:o.jsxs(Un,{children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:"Create New User"}),o.jsx(Wn,{children:"Add a new customer to the system"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"username",children:"Username *"}),o.jsx(Me,{id:"username",value:Di.username,onChange:S=>_o($=>({...$,username:S.target.value})),placeholder:"johndoe"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"email",children:"Email"}),o.jsx(Me,{id:"email",type:"email",value:Di.email,onChange:S=>_o($=>({...$,email:S.target.value})),placeholder:"john@example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"password",children:"Password *"}),o.jsx(Me,{id:"password",type:"password",value:Di.password,onChange:S=>_o($=>({...$,password:S.target.value})),placeholder:"••••••••"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"credits",children:"Initial Credits"}),o.jsx(Me,{id:"credits",type:"number",min:"0",value:Di.credits,onChange:S=>_o($=>({...$,credits:Number(S.target.value)})),placeholder:"0"})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[o.jsx(Ho,{id:"isAdmin",onCheckedChange:S=>_o($=>({...$,isAdmin:S===!0}))}),o.jsx(Te,{htmlFor:"isAdmin",className:"cursor-pointer",children:"Make admin user"})]})]}),o.jsxs(Er,{children:[o.jsx(U,{variant:"outline",onClick:()=>Nu(!1),children:"Cancel"}),o.jsx(U,{onClick:c_,disabled:Zh.isPending,children:Zh.isPending?"Creating...":"Create User"})]})]})}),o.jsx(or,{open:ZA,onOpenChange:S=>{S||Pu(),pl(S)},children:o.jsxs(Un,{children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:Su?"Edit Category":"Add Category"}),o.jsx(Wn,{children:Su?`Update details for ${gl==null?void 0:gl.displayName}`:"Add a new category to the menu"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"name",children:"Category Key *"}),o.jsx(Me,{id:"name",value:Es.name||"",onChange:S=>Eu("name",S.target.value),placeholder:"breakfast"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This is used as the internal identifier and should be lowercase without spaces"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"displayName",children:"Display Name *"}),o.jsx(Me,{id:"displayName",value:Es.displayName||"",onChange:S=>Eu("displayName",S.target.value),placeholder:"Breakfast"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This is shown to customers when browsing the menu"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"description",children:"Description"}),o.jsx(Ef,{id:"description",value:Es.description||"",onChange:S=>Eu("description",S.target.value),placeholder:"Morning breakfast options served until 11am",rows:2})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"displayOrder",children:"Display Order"}),o.jsx(Me,{id:"displayOrder",type:"number",min:"0",value:((l0=Es.displayOrder)==null?void 0:l0.toString())||"0",onChange:S=>Eu("displayOrder",parseInt(S.target.value)||0)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Categories with lower numbers will appear first in the menu"})]})]}),o.jsxs(Er,{children:[o.jsx(U,{variant:"outline",onClick:()=>pl(!1),children:"Cancel"}),o.jsx(U,{onClick:a_,disabled:Gh.isPending||Yh.isPending,children:Gh.isPending||Yh.isPending?"Saving...":Su?"Update Category":"Add Category"})]})]})}),o.jsx(or,{open:C,onOpenChange:A,children:o.jsxs(Un,{children:[o.jsxs(zn,{children:[o.jsx(Bn,{className:"text-destructive",children:"Clear System Data"}),o.jsx(Wn,{children:"This will permanently remove data from the system. This action cannot be undone."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs(lc,{variant:"destructive",children:[o.jsx(vi,{className:"h-4 w-4"}),o.jsx(cc,{children:"Warning"}),o.jsx(uc,{children:"Clearing data is a permanent action and cannot be reversed. Make sure you have a backup if needed."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Clear All Users"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove all non-admin users from the system"})]}),o.jsxs(U,{variant:"destructive",size:"sm",onClick:()=>Hh.mutate(),disabled:Hh.isPending,children:[Hh.isPending?o.jsx(At,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Clear Users"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Admin accounts will be preserved"})]}),o.jsxs("div",{className:"border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Clear All Orders"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove all orders from the system"})]}),o.jsxs(U,{variant:"destructive",size:"sm",onClick:()=>qh.mutate(),disabled:qh.isPending,children:[qh.isPending?o.jsx(At,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Clear Orders"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"All order history and status information will be permanently deleted"})]})]})]}),o.jsx(Er,{children:o.jsx(U,{variant:"outline",onClick:()=>A(!1),children:"Cancel"})})]})}),o.jsx(or,{open:Le,onOpenChange:Qe,children:o.jsxs(Un,{className:"sm:max-w-[425px]",children:[o.jsxs(zn,{children:[o.jsx(Bn,{children:"Send App Update Notification"}),o.jsx(Wn,{children:"Send email notifications to all users about app updates"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Te,{htmlFor:"version",className:"text-right",children:"Version"}),o.jsx(Me,{id:"version",placeholder:"e.g., v2.1.0",value:Ge,onChange:S=>le(S.target.value),className:"col-span-3"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ho,{id:"includeAdmins",checked:Be,onCheckedChange:S=>dt(S===!0)}),o.jsx(Te,{htmlFor:"includeAdmins",className:"text-sm",children:"Include admin users in notification"})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"This will send an email notification to all users with email addresses about the new app version."})]}),o.jsxs(Er,{children:[o.jsx(U,{variant:"outline",onClick:()=>{Qe(!1),le(""),dt(!1)},children:"Cancel"}),o.jsx(U,{onClick:()=>{Ge.trim()&&(vl.mutate({version:Ge.trim(),includeAdmins:Be}),Qe(!1),le(""),dt(!1))},disabled:!Ge.trim()||vl.isPending,children:vl.isPending?o.jsxs(o.Fragment,{children:[o.jsx(At,{className:"h-4 w-4 animate-spin mr-2"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Eg,{className:"h-4 w-4 mr-2"}),"Send Notification"]})})]})]})})]})}function QA(){const[e]=au(),{user:t}=ut(),n=[{icon:UF,label:"Home",href:"/"},{icon:Wa,label:"Menu",href:"/menu"},{icon:fu,label:"Favorites",href:"/favorites"},{icon:zF,label:"Orders",href:"/orders"},{icon:BF,label:"Profile",href:"/profile"}];return t!=null&&t.isAdmin&&n.push({icon:$F,label:"Admin",href:"/admin"}),o.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:o.jsx("nav",{className:"bg-green-800 backdrop-blur-xl border border-green-700/50 rounded-full shadow-2xl px-4 py-2",children:o.jsx("div",{className:"flex items-center space-x-2",children:n.map(r=>{const s=e===r.href;return o.jsx(lu,{href:r.href,children:o.jsx("a",{className:te("flex items-center justify-center p-3 rounded-full transition-all duration-300 relative group",s?"bg-white shadow-lg transform scale-105":"hover:bg-green-700/50 hover:scale-105"),children:o.jsx(r.icon,{className:te("h-6 w-6 transition-all duration-300",s?"text-green-600":"text-white group-hover:text-green-100")})})},r.href)})})})})}function B8({item:e}){const{addToCart:t}=cl(),{user:n}=ut(),r=Wr(),{toast:s}=tt(),[i,a]=m.useState("small"),[l,c]=m.useState({}),{data:u}=Pt({queryKey:["/api/menu",e.id,"options"],queryFn:async()=>{if(!e.hasOptions)return[];try{return await(await ve("GET",`/api/menu/${e.id}/options`)).json()}catch(g){return console.error("Error fetching options:",g),[]}},enabled:!!e.hasOptions});m.useEffect(()=>{if(u&&u.length>0){const g={};u.filter(b=>!b.isParent&&!b.parentId).length>0&&(g.Flavor=""),c(g)}},[u]);const{data:f}=Pt({queryKey:["/api/favorites",e.id],queryFn:async()=>{if(!n)return{isFavorite:!1};try{return await(await ve("GET",`/api/favorites/${e.id}`)).json()}catch{return{isFavorite:!1}}},enabled:!!n}),d=ke({mutationFn:async()=>(await ve("POST","/api/favorites",{menuItemId:e.id})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/favorites"]}),r.invalidateQueries({queryKey:["/api/favorites",e.id]}),s({title:"Added to favorites",description:`${e.name} has been added to your favorites.`})},onError:g=>{s({title:"Failed to add favorite",description:g.message,variant:"destructive"})}}),h=ke({mutationFn:async()=>(await ve("DELETE",`/api/favorites/${e.id}`)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/favorites"]}),r.invalidateQueries({queryKey:["/api/favorites",e.id]}),s({title:"Removed from favorites",description:`${e.name} has been removed from your favorites.`})},onError:g=>{s({title:"Failed to remove favorite",description:g.message,variant:"destructive"})}}),p=()=>{if(!n){s({title:"Login required",description:"Please log in to add items to favorites.",variant:"destructive"});return}f!=null&&f.isFavorite?h.mutate():d.mutate()},y=()=>{if(!u||u.length===0)return[];const g=[];return u.forEach(b=>{if(b.isParent&&b.children){const j=l[b.name];if(j){const N=b.children.find(P=>P.name===j);N&&g.push({name:b.name,value:N.name,priceAdjustment:N.priceAdjustment||0})}}else!b.parentId&&!b.isParent&&l.Flavor===b.name&&g.push({name:"Flavor",value:b.name,priceAdjustment:b.priceAdjustment||0})}),g},v=()=>y().reduce((b,j)=>b+j.priceAdjustment,0),w=()=>{let g=e.price;if(e.hasSizes)switch(i){case"small":g=e.price;break;case"medium":g=e.mediumPrice||e.price*1.25;break;case"large":g=e.largePrice||e.price*1.5;break}const b=v();return g+b},x=()=>{const g=y();t({menuItemId:e.id,name:e.name,price:w(),quantity:1,imageUrl:e.imageUrl||void 0,size:e.hasSizes?i:void 0,options:g});let b=`Added ${e.name}`;if(e.hasSizes&&(b+=` (${i})`),g.length>0){const j=g.map(N=>`${N.value}`).join(", ");b+=` with ${j}`}s({title:"Added to cart",description:b})};return o.jsxs(de,{className:"overflow-hidden hover:shadow-lg transition-all duration-200 border-0 bg-white/90 backdrop-blur-sm",children:[o.jsxs("div",{className:"h-32 sm:h-36 w-full bg-muted relative overflow-hidden",children:[e.imageUrl?o.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover object-center hover:scale-105 transition-transform duration-200"}):o.jsx("div",{className:"h-full w-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center text-green-700",children:o.jsx("span",{className:"text-xs font-medium text-center px-2",children:"No Image Available"})}),n&&o.jsx("button",{onClick:p,className:"absolute top-2 right-2 p-1.5 bg-white/80 rounded-full shadow-md hover:bg-white transition-colors","aria-label":f!=null&&f.isFavorite?"Remove from favorites":"Add to favorites",children:o.jsx(fu,{className:`h-5 w-5 ${f!=null&&f.isFavorite?"fill-red-500 text-red-500":"text-gray-500"}`})})]}),o.jsxs(fe,{className:"p-3",children:[o.jsx("h3",{className:"font-semibold text-sm leading-tight",children:e.name}),o.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.description}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("span",{className:"font-bold text-green-700 text-sm",children:["$",w().toFixed(2)]}),e.hasSizes&&o.jsx("span",{className:"text-xs text-gray-500",children:i.charAt(0).toUpperCase()+i.slice(1)})]})]}),o.jsxs(xa,{className:"flex flex-col p-3 pt-0 gap-2",children:[e.hasSizes&&o.jsx("div",{className:"w-full",children:o.jsxs(di,{value:i,onValueChange:g=>a(g),children:[o.jsx(hs,{className:"text-xs h-8",children:o.jsx(fi,{placeholder:"Select Size"})}),o.jsxs(ms,{children:[o.jsxs(Gt,{value:"small",children:["Small - $",e.price.toFixed(2)]}),o.jsxs(Gt,{value:"medium",children:["Medium - $",(e.mediumPrice||e.price*1.25).toFixed(2)]}),o.jsxs(Gt,{value:"large",children:["Large - $",(e.largePrice||e.price*1.5).toFixed(2)]})]})]})}),e.hasOptions&&u&&u.length>0&&o.jsxs("div",{className:"w-full space-y-2",children:[u.filter(g=>g.isParent&&g.children&&g.children.length>0).map(g=>{var b;return o.jsx("div",{children:o.jsxs(di,{value:l[g.name]||"",onValueChange:j=>{c(N=>({...N,[g.name]:j}))},children:[o.jsx(hs,{className:"text-xs h-8",children:o.jsx(fi,{placeholder:`${g.name} (Optional)`})}),o.jsx(ms,{children:(b=g.children)==null?void 0:b.map(j=>o.jsxs(Gt,{value:j.name,children:[j.name,typeof j.priceAdjustment=="number"&&j.priceAdjustment>0&&` +$${j.priceAdjustment.toFixed(2)}`]},j.id))})]})},g.id)}),u.filter(g=>!g.isParent&&!g.parentId).length>0&&o.jsx("div",{children:o.jsxs(di,{value:l.Flavor||"",onValueChange:g=>{c(b=>({...b,Flavor:g}))},children:[o.jsx(hs,{className:"text-xs h-8",children:o.jsx(fi,{placeholder:"Choose Flavor (Optional)"})}),o.jsx(ms,{children:u.filter(g=>!g.isParent&&!g.parentId).map(g=>o.jsxs(Gt,{value:g.name,children:[g.name,typeof g.priceAdjustment=="number"&&g.priceAdjustment>0&&` +$${g.priceAdjustment.toFixed(2)}`]},g.id))})]})})]}),o.jsxs(U,{onClick:x,className:"w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-xs py-2 h-8 rounded-md shadow-sm",disabled:!1,children:["Add $",w().toFixed(2)]})]})]})}function W8(){const{user:e}=ut(),{addToCart:t}=cl(),{toast:n}=tt(),{data:r,isLoading:s,error:i}=Pt({queryKey:["/api/favorites"],queryFn:async()=>e?await(await ve("GET","/api/favorites")).json():[],enabled:!!e}),a=()=>{if(!r||r.length===0){n({title:"No items to add",description:"You don't have any favorites to add to cart.",variant:"destructive"});return}r.forEach(l=>{const c={menuItemId:l.id,name:l.name,price:l.price,quantity:1};l.imageUrl&&(c.imageUrl=l.imageUrl),t(c)}),n({title:"Added to cart",description:`${r.length} items added to your cart.`})};return s?o.jsx("div",{className:"flex justify-center items-center py-10",children:o.jsx(At,{className:"h-8 w-8 animate-spin text-primary"})}):i?o.jsxs(lc,{variant:"destructive",className:"my-4",children:[o.jsx(cc,{children:"Error"}),o.jsx(uc,{children:"Failed to load favorites. Please try again later."})]}):!r||r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No favorites yet"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't added any items to your favorites."}),o.jsx(lu,{href:"/menu",children:o.jsx("a",{className:"text-primary hover:underline",children:"Browse the menu"})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-semibold",children:[r.length," Favorite Item",r.length!==1?"s":""]}),o.jsxs(U,{onClick:a,className:"flex items-center gap-2 bg-primary hover:bg-primary/90",children:[o.jsx(af,{className:"h-4 w-4"}),o.jsx("span",{children:"Add All to Cart"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 my-4",children:r.map(l=>o.jsx(B8,{item:l},l.id))})]})}function H8(){return o.jsxs("div",{className:"min-h-screen flex flex-col bg-secondary",children:[o.jsx(yi,{}),o.jsxs("main",{className:"flex-1 p-5",children:[o.jsx("h1",{className:"font-semibold text-2xl mb-4 text-primary",children:"My Favorites"}),o.jsx(W8,{})]}),o.jsx(QA,{})]})}function q8(){const{toast:e}=tt(),t=Wr(),{data:n=[],isLoading:r}=Pt({queryKey:["/api/kitchen/orders"],refetchInterval:5e3}),s=ke({mutationFn:async({orderId:d,status:h,assignedTo:p,estimatedTime:y})=>(await ve("PATCH",`/api/kitchen/orders/${d}`,{status:h,assignedTo:p,estimatedTime:y})).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kitchen/orders"]}),e({title:"Order Updated",description:"Order status has been updated successfully."})},onError:()=>{e({title:"Update Failed",description:"Failed to update order status.",variant:"destructive"})}}),i=d=>{switch(d){case"pending":return"bg-yellow-100 text-yellow-800";case"preparing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},a=d=>{switch(d){case 3:return"border-red-500 bg-red-50";case 2:return"border-orange-500 bg-orange-50";default:return"border-gray-200 bg-white"}},l=(d,h)=>{s.mutate({orderId:d,status:h})},c=n.filter(d=>d.status==="pending"),u=n.filter(d=>d.status==="preparing"),f=n.filter(d=>d.status==="ready");return r?o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Kitchen Display System"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Bean Stalker Restaurant Operations"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(UC,{className:"w-4 h-4"}),"Last updated: ",new Date().toLocaleTimeString()]}),o.jsxs(Ze,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[n.length," Active Orders"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(vi,{className:"w-5 h-5 text-yellow-600"}),o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Pending (",c.length,")"]})]}),c.map(d=>o.jsxs(de,{className:`${a(d.priority)} border-l-4`,children:[o.jsxs($e,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ue,{className:"text-lg",children:["Order #",d.id]}),o.jsx(Ze,{className:i(d.status),children:d.status})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Om,{className:"w-4 h-4"}),d.customerName]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Im,{className:"w-4 h-4"}),nc(new Date(d.createdAt),{addSuffix:!0})]})]})]}),o.jsxs(fe,{children:[o.jsx("div",{className:"space-y-2 mb-4",children:d.items.map((h,p)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[h.quantity,"x ",h.name]}),h.notes&&o.jsxs("span",{className:"text-gray-500 italic",children:["(",h.notes,")"]})]},p))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-semibold",children:["$",d.total.toFixed(2)]}),o.jsx(U,{size:"sm",onClick:()=>l(d.id,"preparing"),className:"bg-blue-600 hover:bg-blue-700",children:"Start Preparing"})]})]})]},d.id))]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Wa,{className:"w-5 h-5 text-blue-600"}),o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Preparing (",u.length,")"]})]}),u.map(d=>o.jsxs(de,{className:`${a(d.priority)} border-l-4`,children:[o.jsxs($e,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ue,{className:"text-lg",children:["Order #",d.id]}),o.jsx(Ze,{className:i(d.status),children:d.status})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Om,{className:"w-4 h-4"}),d.customerName]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Im,{className:"w-4 h-4"}),"Est. ",d.estimatedTime," min"]})]})]}),o.jsxs(fe,{children:[o.jsx("div",{className:"space-y-2 mb-4",children:d.items.map((h,p)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[h.quantity,"x ",h.name]}),h.notes&&o.jsxs("span",{className:"text-gray-500 italic",children:["(",h.notes,")"]})]},p))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-semibold",children:["$",d.total.toFixed(2)]}),o.jsx(U,{size:"sm",onClick:()=>l(d.id,"ready"),className:"bg-green-600 hover:bg-green-700",children:"Mark Ready"})]})]})]},d.id))]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Vs,{className:"w-5 h-5 text-green-600"}),o.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Ready (",f.length,")"]})]}),f.map(d=>o.jsxs(de,{className:`${a(d.priority)} border-l-4`,children:[o.jsxs($e,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ue,{className:"text-lg",children:["Order #",d.id]}),o.jsx(Ze,{className:i(d.status),children:d.status})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Om,{className:"w-4 h-4"}),d.customerName]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Im,{className:"w-4 h-4"}),"Ready for pickup"]})]})]}),o.jsxs(fe,{children:[o.jsx("div",{className:"space-y-2 mb-4",children:d.items.map((h,p)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[h.quantity,"x ",h.name]}),h.notes&&o.jsxs("span",{className:"text-gray-500 italic",children:["(",h.notes,")"]})]},p))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-semibold",children:["$",d.total.toFixed(2)]}),o.jsx(U,{size:"sm",onClick:()=>l(d.id,"completed"),variant:"outline",children:"Complete"})]})]})]},d.id))]})]}),n.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Active Orders"}),o.jsx("p",{className:"text-gray-600",children:"New orders will appear here automatically."})]})]})}function K8(){const{user:e}=ut(),{toast:t}=tt(),n=Wr(),[r,s]=m.useState(!1),[i,a]=m.useState(null),l=ke({mutationFn:async u=>await(await ve("POST","/api/membership/signup",{sourceId:u})).json(),onSuccess:u=>{n.invalidateQueries({queryKey:["/api/user"]}),t({title:"Membership Activated!",description:"Welcome to Bean Stalker Premium! AUD$69 has been added to your account."})},onError:u=>{t({title:"Membership Signup Failed",description:u.message||"Please try again",variant:"destructive"})}});m.useEffect(()=>{(async()=>{if(window.Square)try{const f=window.Square.payments(void 0,"sandbox");a(f)}catch(f){console.error("Failed to initialize Square payments:",f)}else{const f=document.createElement("script");f.src="https://sandbox.web.squarecdn.com/v1/square.js",f.async=!0,document.head.appendChild(f),f.onload=async()=>{if(!window.Square){console.error("Square.js failed to load");return}try{const d=window.Square.payments(void 0,"sandbox");a(d)}catch(d){console.error("Failed to initialize Square payments:",d)}}}})()},[]);const c=async()=>{var u,f;if(!i){t({title:"Payment Error",description:"Payment system not ready. Please try again.",variant:"destructive"});return}s(!0);try{const d=await i.card();await d.attach("#card-container");const h=await d.tokenize();h.status==="OK"?l.mutate(h.token):t({title:"Payment Error",description:((f=(u=h.errors)==null?void 0:u[0])==null?void 0:f.message)||"Payment failed",variant:"destructive"})}catch{t({title:"Payment Error",description:"Failed to process payment. Please try again.",variant:"destructive"})}finally{s(!1)}};return e?e.isMember?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs(de,{className:"border-yellow-200 bg-gradient-to-br from-yellow-50 to-amber-50",children:[o.jsxs($e,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:o.jsx(sa,{className:"w-8 h-8 text-yellow-600"})}),o.jsx(Ue,{className:"text-2xl text-yellow-800",children:"Premium Member"}),o.jsx(at,{className:"text-yellow-700",children:"You're already a Bean Stalker Premium member!"})]}),o.jsxs(fe,{className:"text-center space-y-4",children:[o.jsxs(Ze,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:["Member since ",e.membershipDate?new Date(e.membershipDate).toLocaleDateString():"Unknown"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Current Credits: ",o.jsx("span",{className:"font-semibold",children:e.credits})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Enjoy exclusive member benefits and priority support!"})]})]})]})}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Join Bean Stalker Premium"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Unlock exclusive benefits and get instant credits with our premium membership"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsxs(Ue,{className:"flex items-center gap-2",children:[o.jsx(qC,{className:"w-5 h-5 text-yellow-500"}),"Premium Benefits"]}),o.jsx(at,{children:"Everything you get with Bean Stalker Premium membership"})]}),o.jsxs(fe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Vs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:"AUD$69 instant credits added to your account"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Vs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:"Priority customer support"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Vs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:"Exclusive member-only promotions"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Vs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:"Early access to new menu items"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Vs,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:"Special member pricing on select items"})]})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:"AUD$69"}),o.jsx("div",{className:"text-sm text-gray-600",children:"One-time membership fee"}),o.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Full amount credited to your account!"})]})})]})]}),o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsxs(Ue,{className:"flex items-center gap-2",children:[o.jsx(Tc,{className:"w-5 h-5"}),"Secure Payment"]}),o.jsx(at,{children:"Pay securely with Square. Your membership fee will be immediately credited to your account."})]}),o.jsxs(fe,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Payment Details"}),o.jsx("div",{id:"card-container",className:"border rounded-md p-4 min-h-[200px]",children:!i&&o.jsx("div",{className:"flex items-center justify-center h-32 text-gray-500",children:"Loading payment form..."})})]})}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx(U,{onClick:c,disabled:r||l.isPending,className:"w-full",size:"lg",children:r||l.isPending?"Processing...":"Join Premium - AUD$69"}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Secure payment powered by Square. Your card will be charged AUD$69."})]})]})]})]}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Questions about membership? Contact our support team for assistance."})})]}),o.jsx("script",{src:"https://js.squareup.com/v2/paymentform"})]}):o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx(de,{children:o.jsx(fe,{className:"p-8 text-center",children:o.jsx("p",{children:"Please log in to access membership features."})})})})}function Q8(){var y;const{user:e}=ut(),{toast:t}=tt(),[n,r]=m.useState(""),[s,i]=m.useState(""),[a,l]=m.useState(!1),[c,u]=m.useState(null),f=v=>{const w=v.replace(/\D/g,"");return w.length<=3?w:w.length<=6?`${w.slice(0,3)} ${w.slice(3)}`:`${w.slice(0,3)} ${w.slice(3,6)} ${w.slice(6,10)}`},d=ke({mutationFn:async v=>await(await ve("POST","/api/share-credits",v)).json(),onSuccess:v=>{u(v),l(!0),t({title:"Credit Share Ready",description:"Verification code generated. Send the SMS to complete sharing."})},onError:v=>{t({title:"Share Failed",description:v.message,variant:"destructive"})}}),h=()=>{if(!c)return;const w=`sms:${n.replace(/\s/g,"")}?body=${encodeURIComponent(c.smsMessage)}`;window.location.href=w,t({title:"SMS App Opened",description:"Complete the transfer by sending the text message."})},p=v=>{v.preventDefault();const w=parseFloat(s);if(!n||!w){t({title:"Missing Information",description:"Please enter phone number and amount.",variant:"destructive"});return}if(w<=0){t({title:"Invalid Amount",description:"Amount must be greater than $0.",variant:"destructive"});return}if(!e||w>e.credits){t({title:"Insufficient Credits",description:"You don't have enough credits for this transfer.",variant:"destructive"});return}d.mutate({phoneNumber:n.replace(/\s/g,""),amount:w})};return a&&c?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:o.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[o.jsxs(an.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center space-x-4 pt-4",children:[o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"p-2 h-auto",children:o.jsx(Pg,{className:"h-5 w-5"})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Send SMS"})]}),o.jsx(an.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:o.jsxs(de,{className:"border-green-200 bg-green-50",children:[o.jsxs($e,{className:"text-center pb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(zC,{className:"h-8 w-8 text-green-600"})}),o.jsx(Ue,{className:"text-green-800",children:"Ready to Send"}),o.jsx(at,{className:"text-green-600",children:'Your SMS message is ready. Tap "Send SMS" to open your messaging app.'})]}),o.jsxs(fe,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"To:"}),o.jsx("span",{className:"font-semibold",children:n})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Amount:"}),o.jsxs("span",{className:"font-semibold text-green-600",children:["$",s]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Code:"}),o.jsx("span",{className:"font-mono font-bold text-lg",children:c.verificationCode})]})]}),o.jsxs("div",{className:"bg-slate-100 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Message Preview:"}),o.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-green-500",children:o.jsx("p",{className:"text-sm text-slate-800 leading-relaxed",children:c.smsMessage})})]}),o.jsxs("div",{className:"space-y-3 pt-2",children:[o.jsxs(U,{onClick:h,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3",children:[o.jsx(Tg,{className:"h-5 w-5 mr-2"}),"Send SMS"]}),o.jsx(U,{variant:"outline",onClick:()=>l(!1),className:"w-full",children:"Edit Share"})]}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(WC,{className:"h-4 w-4 text-amber-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-amber-800 font-medium",children:"Important:"}),o.jsx("p",{className:"text-xs text-amber-700",children:"Credits will be deducted from your account only after staff verify this code at the store counter."})]})]})})]})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:o.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[o.jsxs(an.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center space-x-4 pt-4",children:[o.jsx(lu,{href:"/",children:o.jsx(U,{variant:"ghost",size:"sm",className:"p-2 h-auto",children:o.jsx(Pg,{className:"h-5 w-5"})})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Share Credits"})]}),o.jsx(an.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:o.jsx(de,{className:"bg-gradient-to-r from-green-600 to-green-700 text-white border-0",children:o.jsx(fe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(Ha,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-green-100 text-sm",children:"Available Balance"}),o.jsxs("p",{className:"text-2xl font-bold",children:["$",((y=e==null?void 0:e.credits)==null?void 0:y.toFixed(2))||"0.00"]})]})]})})})}),o.jsx(an.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},children:o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsxs(Ue,{className:"flex items-center space-x-2",children:[o.jsx(li,{className:"h-5 w-5 text-green-600"}),o.jsx("span",{children:"Share Credits"})]}),o.jsx(at,{children:"Share credits with non-members via SMS. They can claim them at our store counter."})]}),o.jsx(fe,{children:o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"phone",children:"Recipient's Phone Number"}),o.jsx(Me,{id:"phone",type:"tel",placeholder:"000 000 0000",value:n,onChange:v=>r(f(v.target.value)),maxLength:12,className:"text-lg"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"amount",children:"Amount to Send ($)"}),o.jsx(Me,{id:"amount",type:"number",placeholder:"0.00",value:s,onChange:v=>i(v.target.value),step:"0.01",min:"0.01",max:(e==null?void 0:e.credits)||0,className:"text-lg"}),s&&parseFloat(s)>0&&o.jsxs("p",{className:"text-sm text-slate-600",children:["Remaining balance: $",(((e==null?void 0:e.credits)||0)-parseFloat(s)).toFixed(2)]})]}),o.jsx(U,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3",disabled:d.isPending||!n||!s,children:d.isPending?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Code..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Tg,{className:"h-5 w-5 mr-2"}),"Generate SMS Code"]})})]})})]})}),o.jsx(an.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},children:o.jsx(de,{className:"bg-slate-100 border-slate-200",children:o.jsxs(fe,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"How It Works"}),o.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-semibold mt-0.5",children:"1"}),o.jsx("p",{children:"Enter non-member's phone number and credit amount"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-semibold mt-0.5",children:"2"}),o.jsx("p",{children:"We generate a unique verification code"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-semibold mt-0.5",children:"3"}),o.jsx("p",{children:"Send SMS using your phone's messaging app"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-semibold mt-0.5",children:"4"}),o.jsx("p",{children:"Non-member shows code at store counter"})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-semibold mt-0.5",children:"5"}),o.jsx("p",{children:"Staff verifies code and deducts credits from your account"})]})]})]})})})]})})}function G8(){const[e,t]=m.useState(""),{toast:n}=tt(),r=Wr(),{data:s,isLoading:i}=Pt({queryKey:["/api/admin/pending-credit-transfers"],refetchInterval:5e3}),{data:a,isLoading:l}=Pt({queryKey:["/api/admin/all-credit-transfers"],refetchInterval:1e4}),c=ke({mutationFn:async d=>await(await ve("POST","/api/verify-credit-share",{verificationCode:d})).json(),onSuccess:d=>{n({title:"Code Verified Successfully",description:`Deducted $${d.amount} from ${d.senderName}`,variant:"default"}),t(""),r.invalidateQueries({queryKey:["/api/admin/pending-credit-transfers"]})},onError:d=>{n({title:"Verification Failed",description:d.message||"Invalid or expired code",variant:"destructive"})}}),u=d=>{c.mutate(d)},f=d=>{if(d.preventDefault(),!e.trim()){n({title:"Code Required",description:"Please enter a verification code",variant:"destructive"});return}c.mutate(e.trim())};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs(an.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center space-y-2",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Credit Share Verification"}),o.jsx("p",{className:"text-slate-600",children:"Verify SMS credit sharing codes from customers"})]}),o.jsx(an.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:o.jsxs(de,{children:[o.jsxs($e,{children:[o.jsxs(Ue,{className:"flex items-center gap-2",children:[o.jsx(tM,{className:"h-5 w-5"}),"Manual Code Verification"]}),o.jsx(at,{children:"Enter the 6-digit code from customer's phone to verify their credit share"})]}),o.jsx(fe,{children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Te,{htmlFor:"code",children:"Verification Code"}),o.jsx(Me,{id:"code",placeholder:"Enter 6-digit code",value:e,onChange:d=>t(d.target.value),maxLength:6,className:"text-center text-lg font-mono tracking-wider"})]}),o.jsx(U,{type:"submit",disabled:c.isPending||e.length!==6,className:"w-full",children:c.isPending?"Verifying...":"Verify Code"})]})})]})}),o.jsx(an.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:o.jsx(de,{children:o.jsx(fe,{className:"p-0",children:o.jsxs(ky,{defaultValue:"pending",className:"w-full",children:[o.jsx("div",{className:"px-6 pt-6",children:o.jsxs(ch,{className:"grid w-full grid-cols-2",children:[o.jsxs(os,{value:"pending",className:"flex items-center gap-2",children:[o.jsx(UC,{className:"w-4 h-4"}),"Pending (",(s==null?void 0:s.length)||0,")"]}),o.jsxs(os,{value:"verified",className:"flex items-center gap-2",children:[o.jsx(eM,{className:"w-4 h-4"}),"Verified (",(a==null?void 0:a.filter(d=>d.status==="verified").length)||0,")"]})]})}),o.jsx(as,{value:"pending",className:"p-6 pt-4",children:i?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-2 text-slate-600",children:"Loading pending transfers..."})]}):!s||s.length===0?o.jsxs("div",{className:"text-center py-8 space-y-3",children:[o.jsx(Vs,{className:"h-12 w-12 text-green-500 mx-auto"}),o.jsx("h3",{className:"text-lg font-medium text-slate-800",children:"All caught up!"}),o.jsx("p",{className:"text-slate-600",children:"No pending credit shares to verify"})]}):o.jsx("div",{className:"space-y-4",children:s.map(d=>o.jsx(an.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsx(Ze,{variant:"outline",className:"bg-orange-100 text-orange-700 border-orange-300",children:"PENDING"})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(li,{className:"h-4 w-4 text-slate-500"}),o.jsx("span",{className:"font-medium",children:d.senderFullName||d.senderName||`User #${d.senderId}`})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(of,{className:"h-4 w-4 text-slate-500"}),o.jsxs("span",{className:"text-slate-600",children:["📱 ",d.recipientPhone]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ha,{className:"h-4 w-4 text-green-600"}),o.jsxs("span",{className:"font-semibold text-green-700",children:["$",d.amount]})]})]}),o.jsxs("div",{className:"text-sm text-slate-500",children:["Created ",nc(new Date(d.createdAt),{addSuffix:!0})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-mono font-bold text-slate-800 bg-white px-3 py-1 rounded border",children:d.verificationCode}),o.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Code"})]}),o.jsxs(U,{onClick:()=>u(d.verificationCode),disabled:c.isPending,size:"sm",className:"bg-green-600 hover:bg-green-700",children:[o.jsx(Vs,{className:"w-4 h-4 mr-1"}),c.isPending?"Verifying...":"Verify"]})]})]})},d.id))})}),o.jsx(as,{value:"verified",className:"p-6 pt-4",children:l?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-2 text-slate-600",children:"Loading credit sharing history..."})]}):(a==null?void 0:a.filter(d=>d.status==="verified").length)===0?o.jsxs("div",{className:"text-center py-8 space-y-3",children:[o.jsx(Js,{className:"h-12 w-12 text-green-500 mx-auto"}),o.jsx("h3",{className:"text-lg font-medium text-slate-800",children:"No verified shares yet"}),o.jsx("p",{className:"text-slate-600",children:"Verified credit shares will appear here"})]}):o.jsx("div",{className:"space-y-4",children:a==null?void 0:a.filter(d=>d.status==="verified").map(d=>o.jsx(an.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"border border-green-200 rounded-lg p-4 bg-green-50",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ze,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"VERIFIED"}),o.jsx(Js,{className:"w-4 h-4 text-green-600"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(li,{className:"h-4 w-4 text-slate-500"}),o.jsx("span",{className:"font-medium",children:d.senderFullName||d.senderName||`User #${d.senderId}`})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(of,{className:"h-4 w-4 text-slate-500"}),o.jsxs("span",{className:"text-slate-600",children:["📱 ",d.recipientPhone]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ha,{className:"h-4 w-4 text-green-600"}),o.jsxs("span",{className:"font-semibold text-green-700",children:["$",d.amount]})]}),o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-sm font-mono font-bold text-slate-600 bg-white px-2 py-1 rounded border text-xs",children:d.verificationCode})})]}),o.jsxs("div",{className:"flex justify-between text-sm text-slate-500",children:[o.jsxs("span",{children:["Created ",nc(new Date(d.createdAt),{addSuffix:!0})]}),d.verifiedAt&&o.jsxs("span",{children:["Verified ",nc(new Date(d.verifiedAt),{addSuffix:!0}),d.verifierName&&` by ${d.verifierName}`]})]})]})},d.id))})})]})})})})]})})}function nr({path:e,component:t}){const{user:n,isLoading:r}=ut();return r?o.jsx(ec,{path:e,children:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(At,{className:"h-8 w-8 animate-spin text-primary"})})}):n?o.jsx(ec,{path:e,children:o.jsxs("div",{className:"min-h-screen pb-24",children:[o.jsx(t,{}),o.jsx(QA,{})]})}):o.jsx(ec,{path:e,children:o.jsx(JN,{to:"/auth"})})}function Y8(){return o.jsxs(vO,{children:[o.jsx(ec,{path:"/auth",component:OF}),o.jsx(nr,{path:"/",component:x5}),o.jsx(nr,{path:"/menu",component:Jz}),o.jsx(nr,{path:"/cart",component:SB}),o.jsx(nr,{path:"/orders",component:jB}),o.jsx(nr,{path:"/profile",component:O8}),o.jsx(nr,{path:"/membership",component:K8}),o.jsx(nr,{path:"/favorites",component:H8}),o.jsx(nr,{path:"/admin",component:z8}),o.jsx(nr,{path:"/admin/credit-verification",component:G8}),o.jsx(nr,{path:"/kitchen",component:q8}),o.jsx(nr,{path:"/send-credits",component:Q8}),o.jsx(ec,{component:qM})]})}function Z8(){return o.jsx(FO,{client:pe,children:o.jsx(KM,{children:o.jsx(oF,{children:o.jsx(Zz,{children:o.jsx(XL,{children:o.jsx(g5,{children:o.jsx(v5,{children:o.jsxs(sW,{children:[o.jsx(Y8,{}),o.jsx(HM,{})]})})})})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered with scope:",e.scope)}).catch(e=>{console.error("Service Worker registration failed:",e)})});UN(document.getElementById("root")).render(o.jsx(Z8,{}));export{ob as R,cb as V,oP as W,hb as a,o9 as b};
